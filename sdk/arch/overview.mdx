---
title: Overview
description: Understanding the OpenHands Agent SDK's package structure, component interactions, and execution models.
---

The **OpenHands Agent SDK** provides a unified, type-safe framework for building and deploying AI agents—from local experiments to full production systems, focused on **statelessness**, **composability**, and **clear boundaries** between research and deployment.

Check [this document](/sdk/arch/design) for the core design principles that guided its architecture.



## Four-Package Architecture

The agent-sdk is organized into four distinct Python packages:

| Package | What It Does | When You Need It |
|---------|-------------|------------------|
| **openhands.sdk** | Core agent framework + base workspace classes | Always (required) |
| **openhands.tools** | Pre-built tools (bash, file editing, etc.) | Optional - provides common tools |
| **openhands.workspace** | Extended workspace implementations (Docker, remote) | Optional - extends SDK's base classes |
| **openhands.agent_server** | Multi-user API server | Optional - used by workspace implementations |

### Two Deployment Modes

The SDK supports two deployment architectures depending on your needs:

#### Mode 1: Local Development

**Installation:** Just install `openhands-sdk` + `openhands-tools`

```bash
pip install openhands-sdk openhands-tools
```

**Architecture:**

```mermaid
%%{init: {"theme": "default", "flowchart": {"nodeSpacing": 30, "rankSpacing": 40}} }%%
flowchart LR
    SDK["<b>openhands.sdk</b><br>Agent · LLM · Conversation<br><b>+ LocalWorkspace</b>"]:::sdk
    Tools["<b>openhands.tools</b><br>BashTool · FileEditor · GrepTool · …"]:::tools
    
    SDK -->|uses| Tools
    
    classDef sdk    fill:#e8f3ff,stroke:#2b6cb0,color:#0f2a45,stroke-width:2px,rx:8,ry:8
    classDef tools  fill:#e9f9ef,stroke:#2f855a,color:#14532d,stroke-width:2px,rx:8,ry:8
```

- `LocalWorkspace` included in SDK (no extra install)
- Everything runs in one process
- Perfect for prototyping and simple use cases
- Quick setup, no Docker required

#### Mode 2: Production / Sandboxed

**Installation:** Install all 4 packages

```bash
pip install openhands-sdk openhands-tools openhands-workspace openhands-agent-server
```

**Architecture:**

```mermaid
%%{init: {"theme": "default", "flowchart": {"nodeSpacing": 20, "rankSpacing": 30}} }%%
flowchart LR
    
    WSBase["<b>openhands.sdk</b><br>Base Classes:<br>Workspace · Local · Remote"]:::sdk
    
    subgraph WS[" "]
      direction LR
      Docker["<b>openhands.workspace DockerWorkspace</b><br><i>extends RemoteWorkspace</i>"]:::ws
      Remote["<b>openhands.workspace RemoteAPIWorkspace</b><br><i>extends RemoteWorkspace</i>"]:::ws
    end
    
    Server["<b>openhands.agent_server</b><br><i>FastAPI + WebSocket</i>"]:::server
    Agent["<b>openhands.sdk</b><br>Agent · LLM · Conversation"]:::sdk
    Tools["<b>openhands.tools</b><br>BashTool · FileEditor · …"]:::tools
    
    WSBase -.->|extended by| Docker
    WSBase -.->|extended by| Remote
    Docker -->|spawns container with| Server
    Remote -->|connects via HTTP to| Server
    Server -->|runs| Agent
    Agent -->|uses| Tools
    
    classDef sdk    fill:#e8f3ff,stroke:#2b6cb0,color:#0f2a45,stroke-width:1.1px,rx:8,ry:8
    classDef ws     fill:#fff4df,stroke:#b7791f,color:#5b3410,stroke-width:1.1px,rx:8,ry:8
    classDef server fill:#f3e8ff,stroke:#7c3aed,color:#3b2370,stroke-width:1.1px,rx:8,ry:8
    classDef tools  fill:#e9f9ef,stroke:#2f855a,color:#14532d,stroke-width:1.1px,rx:8,ry:8
    
    style WS stroke:#b7791f,stroke-width:1.5px,stroke-dasharray: 4 3,rx:8,ry:8,fill:none
```

- `RemoteWorkspace` auto-spawns agent-server in containers
- Sandboxed execution for security
- Multi-user deployments
- Distributed systems (e.g., Kubernetes) support

<Tip>
**Key Point:** Same agent code works in both modes—just swap the workspace type (`LocalWorkspace` → `DockerWorkspace` → `RemoteAPIWorkspace`).
</Tip>

### SDK Package (`openhands.sdk`)

**Purpose:** Core components and base classes for OpenHands agent.

**Key Components:**
- **Conversation:** Manages conversation state and lifecycle
- **Agent:** Implements the reasoning-action loop
- **LLM:** Provider-agnostic language model interface
- **Tool System:** Typed base class definitions for action, observation, tool, and executor
- **Skill:** Reusable user-defined prompts and capabilities
- **Condenser**: Conversation history compression
- **Events:** Typed event framework (e.g., action, observation, user messages, state update, etc.)
- **MCP:** Model Context Protocol integration
- **Workspace:** Base classes (`Workspace`, `LocalWorkspace`, `RemoteWorkspace`)

**Design:** Stateless, immutable components with type-safe Pydantic models.

**Self-Contained:** Build and run agents with just `openhands-sdk` using `LocalWorkspace`.

**Source:** [`openhands-sdk/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands-sdk)

### Tools Package (`openhands.tools`)

**Purpose:** Production-ready, pre-built tools following consistent patterns.

**Design:** All tools follow Action/Observation/Executor pattern with built-in validation, error handling, and security.

<Note>
**Tool Independence:** Tools run alongside the agent in whatever environment workspace configures (local/container/remote). They don't run "through" workspace APIs.
</Note>

**Source:** [`openhands-tools/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands-tools)

### Workspace Package (`openhands.workspace`)

**Purpose:** Production-ready workspace implementations extending SDK base classes.

**Implementations:**
- **`DockerWorkspace`** (extends `RemoteWorkspace`) - Auto-spawns agent-server in containers
- **`RemoteAPIWorkspace`** (extends `RemoteWorkspace`) - Spawn and Connects to existing agent-server via API

**Use Cases:** Sandboxed execution, multi-user deployments, production environments.

**Source:** [`openhands/workspace/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands/workspace)

### 4. Agent Server Package (`openhands.agent_server`)

**Purpose:** HTTP API server for remote agent execution.

**Features:**
- **REST API & WebSocket:** Create conversations, send messages, stream responses
- **Session Management:** Isolated per-user sessions
- **Authentication:** API key-based auth

**Deployment:** Runs inside containers (via `DockerWorkspace`) or as standalone process (connected via [`RemoteWorkspace`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands-sdk/openhands/sdk/workspace/remote/base.py)).

**Use Cases:** Multi-user web apps, SaaS products, distributed systems.

**Source:** [`openhands-agent-server/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands-agent-server)

## How Components Work Together

### Basic Execution Flow (Local)

When you send a message to an agent, here's what happens:

```mermaid
sequenceDiagram
    participant You
    participant Conversation
    participant Agent
    participant LLM
    participant Tool
    
    You->>Conversation: "Create hello.txt"
    Conversation->>Agent: Process message
    Agent->>LLM: What should I do?
    LLM-->>Agent: Use BashTool("touch hello.txt")
    Agent->>Tool: Execute action
    Note over Tool: Runs in same environment<br/>as Agent (local/container/remote)
    Tool-->>Agent: Observation
    Agent->>LLM: Got result, continue?
    LLM-->>Agent: Done
    Agent-->>Conversation: Update state
    Conversation-->>You: "File created!"
```

**Key takeaway:** The agent orchestrates the reasoning-action loop—calling the LLM for decisions and executing tools to perform actions.

### Deployment Flexibility

The same agent code runs in different environments by swapping workspace configuration:

```mermaid
graph TB
    subgraph "Your Code (Unchanged)"
        Code["Agent + Tools + LLM"]
    end
    
    subgraph "Deployment Options"
        Local["Local<br/><i>Direct execution</i>"]
        Docker["Docker<br/><i>Containerized</i>"]
        Remote["Remote<br/><i>Multi-user server</i>"]
    end
    
    Code -->|LocalWorkspace| Local
    Code -->|DockerWorkspace| Docker
    Code -->|RemoteAPIWorkspace| Remote
    
    style Code fill:#e1f5fe
    style Local fill:#e8f5e8
    style Docker fill:#e8f5e8
    style Remote fill:#e8f5e8
```

## Next Steps

### Get Started
- [Getting Started](/sdk/getting-started) – Build your first agent
- [Hello World](/sdk/guides/hello-world) – Minimal example

### Explore Components
- [Conversation](/sdk/arch/conversation) – State management and lifecycle
- [LLM System](/sdk/arch/llms/index) – Language model integration
- [Custom Tools](/sdk/guides/custom-tools) – Add new capabilities
- [MCP Integration](/sdk/guides/mcp) – Connect external tool servers

### Deploy
- [Remote Server](/sdk/guides/agent-server/overview) – Deploy remotely
- [Docker Sandboxed Server](/sdk/guides/agent-server/docker-sandboxed-server) – Container setup

### Source Code
- [`openhands/sdk/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands/sdk) – Core framework
- [`openhands/tools/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands/tools) – Pre-built tools
- [`openhands/workspace/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands/workspace) – Workspaces
- [`openhands/agent_server/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/openhands/agent_server) – HTTP server
- [`examples/`](https://github.com/All-Hands-AI/agent-sdk/tree/main/examples) – Working examples
