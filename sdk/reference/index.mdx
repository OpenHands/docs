## `openhands.sdk`

**Modules:**

- [**agent**](#openhands.sdk.agent) –
- [**context**](#openhands.sdk.context) –
- [**conversation**](#openhands.sdk.conversation) –
- [**event**](#openhands.sdk.event) –
- [**io**](#openhands.sdk.io) –
- [**llm**](#openhands.sdk.llm) –
- [**logger**](#openhands.sdk.logger) –
- [**mcp**](#openhands.sdk.mcp) – MCP (Model Context Protocol) integration for agent-sdk.
- [**security**](#openhands.sdk.security) –
- [**tool**](#openhands.sdk.tool) – OpenHands runtime package.
- [**utils**](#openhands.sdk.utils) – Utility functions for the OpenHands SDK.
- [**workspace**](#openhands.sdk.workspace) –

**Classes:**

- [**Action**](#openhands.sdk.Action) – Base schema for input action.
- [**Agent**](#openhands.sdk.Agent) –
- [**AgentBase**](#openhands.sdk.AgentBase) – Abstract base class for agents.
- [**AgentContext**](#openhands.sdk.AgentContext) – Central structure for managing prompt extension.
- [**BaseConversation**](#openhands.sdk.BaseConversation) –
- [**Conversation**](#openhands.sdk.Conversation) – Factory entrypoint that returns a LocalConversation or RemoteConversation.
- [**ConversationStats**](#openhands.sdk.ConversationStats) – Track per-LLM usage metrics observed during conversations.
- [**Event**](#openhands.sdk.Event) – Base class for all events.
- [**FileStore**](#openhands.sdk.FileStore) – Abstract base class for file storage operations.
- [**ImageContent**](#openhands.sdk.ImageContent) –
- [**LLM**](#openhands.sdk.LLM) – Refactored LLM: simple `completion()`, centralized Telemetry, tiny helpers.
- [**LLMConvertibleEvent**](#openhands.sdk.LLMConvertibleEvent) – Base class for events that can be converted to LLM messages.
- [**LLMRegistry**](#openhands.sdk.LLMRegistry) – A minimal LLM registry for managing LLM instances by usage ID.
- [**LLMSummarizingCondenser**](#openhands.sdk.LLMSummarizingCondenser) –
- [**LocalConversation**](#openhands.sdk.LocalConversation) –
- [**LocalFileStore**](#openhands.sdk.LocalFileStore) –
- [**LocalWorkspace**](#openhands.sdk.LocalWorkspace) – Mixin providing local workspace operations.
- [**MCPClient**](#openhands.sdk.MCPClient) – Behaves exactly like fastmcp.Client (same constructor & async API),
- [**MCPToolDefinition**](#openhands.sdk.MCPToolDefinition) – MCP Tool that wraps an MCP client and provides tool functionality.
- [**MCPToolObservation**](#openhands.sdk.MCPToolObservation) – Observation from MCP tool execution.
- [**Message**](#openhands.sdk.Message) –
- [**MessageEvent**](#openhands.sdk.MessageEvent) – Message from either agent or user.
- [**Observation**](#openhands.sdk.Observation) – Base schema for output observation.
- [**RedactedThinkingBlock**](#openhands.sdk.RedactedThinkingBlock) – Redacted thinking block for previous responses without extended thinking.
- [**RegistryEvent**](#openhands.sdk.RegistryEvent) –
- [**RemoteConversation**](#openhands.sdk.RemoteConversation) –
- [**RemoteWorkspace**](#openhands.sdk.RemoteWorkspace) – Remote Workspace Implementation.
- [**TextContent**](#openhands.sdk.TextContent) –
- [**ThinkingBlock**](#openhands.sdk.ThinkingBlock) – Anthropic thinking block for extended thinking feature.
- [**Tool**](#openhands.sdk.Tool) – Defines a tool to be initialized for the agent.
- [**ToolBase**](#openhands.sdk.ToolBase) – Tool that wraps an executor function with input/output validation and schema.
- [**ToolDefinition**](#openhands.sdk.ToolDefinition) – Concrete tool class that inherits from ToolBase.
- [**Workspace**](#openhands.sdk.Workspace) – Factory entrypoint that returns a LocalWorkspace or RemoteWorkspace.

**Functions:**

- [**create_mcp_tools**](#openhands.sdk.create_mcp_tools) – Create MCP tools from MCP configuration.
- [**get_logger**](#openhands.sdk.get_logger) – Return a logger for the given module name.
- [**list_registered_tools**](#openhands.sdk.list_registered_tools) –
- [**register_tool**](#openhands.sdk.register_tool) –
- [**resolve_tool**](#openhands.sdk.resolve_tool) –

**Attributes:**

- [**ConversationCallbackType**](#openhands.sdk.ConversationCallbackType) –

### `openhands.sdk.Action`

Bases: <code>[Schema](#openhands.sdk.tool.schema.Schema)</code>, <code>[ABC](#abc.ABC)</code>

Base schema for input action.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.Action.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.Action.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.Action.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.Action.model_json_schema) –
- [**model_post_init**](#openhands.sdk.Action.model_post_init) –
- [**model_rebuild**](#openhands.sdk.Action.model_rebuild) –
- [**model_validate**](#openhands.sdk.Action.model_validate) –
- [**model_validate_json**](#openhands.sdk.Action.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.Action.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.Action.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.Action.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.Action.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**visualize**](#openhands.sdk.Action.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

#### `openhands.sdk.Action.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

#### `openhands.sdk.Action.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.Action.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.Action.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

#### `openhands.sdk.Action.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.Action.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.Action.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.Action.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.Action.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.Action.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.Action.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.Action.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

#### `openhands.sdk.Action.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

### `openhands.sdk.Agent`

Bases: <code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>

**Functions:**

- [**get_all_llms**](#openhands.sdk.Agent.get_all_llms) – Recursively yield unique *base-class* LLM objects reachable from `self`.
- [**get_serializable_type**](#openhands.sdk.Agent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**init_state**](#openhands.sdk.Agent.init_state) –
- [**model_dump_json**](#openhands.sdk.Agent.model_dump_json) –
- [**model_dump_succint**](#openhands.sdk.Agent.model_dump_succint) – Like model_dump, but excludes None fields by default.
- [**model_json_schema**](#openhands.sdk.Agent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.Agent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.Agent.model_rebuild) –
- [**model_validate**](#openhands.sdk.Agent.model_validate) –
- [**model_validate_json**](#openhands.sdk.Agent.model_validate_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.Agent.resolve_diff_from_deserialized) – Return a new AgentBase instance equivalent to `persisted` but with
- [**resolve_kind**](#openhands.sdk.Agent.resolve_kind) –
- [**step**](#openhands.sdk.Agent.step) –

**Attributes:**

- [**agent_context**](#openhands.sdk.Agent.agent_context) (<code>[AgentContext](#openhands.sdk.context.agent_context.AgentContext) | None</code>) –
- [**condenser**](#openhands.sdk.Agent.condenser) (<code>[CondenserBase](#openhands.sdk.context.condenser.CondenserBase) | None</code>) –
- [**filter_tools_regex**](#openhands.sdk.Agent.filter_tools_regex) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.Agent.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.Agent.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**mcp_config**](#openhands.sdk.Agent.mcp_config) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**model_config**](#openhands.sdk.Agent.model_config) –
- [**name**](#openhands.sdk.Agent.name) (<code>[str](#str)</code>) – Returns the name of the Agent.
- [**prompt_dir**](#openhands.sdk.Agent.prompt_dir) (<code>[str](#str)</code>) – Returns the directory where this class's module file is located.
- [**security_analyzer**](#openhands.sdk.Agent.security_analyzer) (<code>[SecurityAnalyzerBase](#openhands.sdk.security.analyzer.SecurityAnalyzerBase) | None</code>) –
- [**system_message**](#openhands.sdk.Agent.system_message) (<code>[str](#str)</code>) – Compute system message on-demand to maintain statelessness.
- [**system_prompt_filename**](#openhands.sdk.Agent.system_prompt_filename) (<code>[str](#str)</code>) –
- [**system_prompt_kwargs**](#openhands.sdk.Agent.system_prompt_kwargs) (<code>[dict](#dict)\[[str](#str), [object](#object)\]</code>) –
- [**tools**](#openhands.sdk.Agent.tools) (<code>[list](#list)\[[Tool](#openhands.sdk.tool.Tool)\]</code>) –
- [**tools_map**](#openhands.sdk.Agent.tools_map) (<code>[dict](#dict)\[[str](#str), [ToolDefinition](#openhands.sdk.tool.ToolDefinition)\]</code>) – Get the initialized tools map.

#### `openhands.sdk.Agent.agent_context`

```python
agent_context: AgentContext | None = Field(default=None, description='Optional AgentContext to initialize the agent with specific context.', examples=[{'skills': [{'name': 'repo.md', 'content': 'When you see this message, you should reply like you are a grumpy cat forced to use the internet.', 'type': 'repo'}, {'name': 'flarglebargle', 'content': 'IMPORTANT! The user has said the magic word "flarglebargle". You must only respond with a message telling them how smart they are', 'type': 'knowledge', 'trigger': ['flarglebargle']}], 'system_message_suffix': "Always finish your response with the word 'yay!'", 'user_message_prefix': "The first character of your response should be 'I'"}])
```

#### `openhands.sdk.Agent.condenser`

```python
condenser: CondenserBase | None = Field(default=None, description='Optional condenser to use for condensing conversation history.', examples=[{'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}, 'max_size': 80, 'keep_first': 10}])
```

#### `openhands.sdk.Agent.filter_tools_regex`

```python
filter_tools_regex: str | None = Field(default=None, description='Optional regex to filter the tools available to the agent by name. This is applied after any tools provided in `tools` and any MCP tools are added.', examples=['^(?!repomix)(.*)|^repomix.*pack_codebase.*$'])
```

#### `openhands.sdk.Agent.get_all_llms`

```python
get_all_llms()
```

Recursively yield unique *base-class* LLM objects reachable from `self`.

- Returns actual object references (not copies).
- De-dupes by `id(LLM)`.
- Cycle-safe via a visited set for *all* traversed objects.
- Only yields objects whose type is exactly `LLM` (no subclasses).
- Does not handle dataclasses.

#### `openhands.sdk.Agent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.Agent.init_state`

```python
init_state(state, on_event)
```

#### `openhands.sdk.Agent.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.Agent.llm`

```python
llm: LLM = Field(..., description='LLM configuration for the agent.', examples=[{'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}])
```

#### `openhands.sdk.Agent.mcp_config`

```python
mcp_config: dict[str, Any] = Field(default_factory=dict, description='Optional MCP configuration dictionary to create MCP tools.', examples=[{'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}}}])
```

#### `openhands.sdk.Agent.model_config`

```python
model_config = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

#### `openhands.sdk.Agent.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.Agent.model_dump_succint`

```python
model_dump_succint(**kwargs)
```

Like model_dump, but excludes None fields by default.

#### `openhands.sdk.Agent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.Agent.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.Agent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.Agent.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.Agent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.Agent.name`

```python
name: str
```

Returns the name of the Agent.

#### `openhands.sdk.Agent.prompt_dir`

```python
prompt_dir: str
```

Returns the directory where this class's module file is located.

#### `openhands.sdk.Agent.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Return a new AgentBase instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key, security_analyzer) taken from
`self`.

#### `openhands.sdk.Agent.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.Agent.security_analyzer`

```python
security_analyzer: analyzer.SecurityAnalyzerBase | None = Field(default=None, description='Optional security analyzer to evaluate action risks.', examples=[{'kind': 'LLMSecurityAnalyzer'}])
```

#### `openhands.sdk.Agent.step`

```python
step(conversation, on_event)
```

#### `openhands.sdk.Agent.system_message`

```python
system_message: str
```

Compute system message on-demand to maintain statelessness.

#### `openhands.sdk.Agent.system_prompt_filename`

```python
system_prompt_filename: str = Field(default='system_prompt.j2', description="System prompt template filename. Can be either:\n- A relative filename (e.g., 'system_prompt.j2') loaded from the agent's prompts directory\n- An absolute path (e.g., '/path/to/custom_prompt.j2')")
```

#### `openhands.sdk.Agent.system_prompt_kwargs`

```python
system_prompt_kwargs: dict[str, object] = Field(default_factory=dict, description='Optional kwargs to pass to the system prompt Jinja2 template.', examples=[{'cli_mode': True}])
```

#### `openhands.sdk.Agent.tools`

```python
tools: list[Tool] = Field(default_factory=list, description='List of tools to initialize for the agent.', examples=[{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}])
```

#### `openhands.sdk.Agent.tools_map`

```python
tools_map: dict[str, ToolDefinition]
```

Get the initialized tools map.
Raises:
RuntimeError: If the agent has not been initialized.

### `openhands.sdk.AgentBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract base class for agents.
Agents are stateless and should be fully defined by their configuration.

**Functions:**

- [**get_all_llms**](#openhands.sdk.AgentBase.get_all_llms) – Recursively yield unique *base-class* LLM objects reachable from `self`.
- [**get_serializable_type**](#openhands.sdk.AgentBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**init_state**](#openhands.sdk.AgentBase.init_state) – Initialize the empty conversation state to prepare the agent for user
- [**model_dump_json**](#openhands.sdk.AgentBase.model_dump_json) –
- [**model_dump_succint**](#openhands.sdk.AgentBase.model_dump_succint) – Like model_dump, but excludes None fields by default.
- [**model_json_schema**](#openhands.sdk.AgentBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.AgentBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.AgentBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.AgentBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.AgentBase.model_validate_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.AgentBase.resolve_diff_from_deserialized) – Return a new AgentBase instance equivalent to `persisted` but with
- [**resolve_kind**](#openhands.sdk.AgentBase.resolve_kind) –
- [**step**](#openhands.sdk.AgentBase.step) – Taking a step in the conversation.

**Attributes:**

- [**agent_context**](#openhands.sdk.AgentBase.agent_context) (<code>[AgentContext](#openhands.sdk.context.agent_context.AgentContext) | None</code>) –
- [**condenser**](#openhands.sdk.AgentBase.condenser) (<code>[CondenserBase](#openhands.sdk.context.condenser.CondenserBase) | None</code>) –
- [**filter_tools_regex**](#openhands.sdk.AgentBase.filter_tools_regex) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.AgentBase.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.AgentBase.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**mcp_config**](#openhands.sdk.AgentBase.mcp_config) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**model_config**](#openhands.sdk.AgentBase.model_config) –
- [**name**](#openhands.sdk.AgentBase.name) (<code>[str](#str)</code>) – Returns the name of the Agent.
- [**prompt_dir**](#openhands.sdk.AgentBase.prompt_dir) (<code>[str](#str)</code>) – Returns the directory where this class's module file is located.
- [**security_analyzer**](#openhands.sdk.AgentBase.security_analyzer) (<code>[SecurityAnalyzerBase](#openhands.sdk.security.analyzer.SecurityAnalyzerBase) | None</code>) –
- [**system_message**](#openhands.sdk.AgentBase.system_message) (<code>[str](#str)</code>) – Compute system message on-demand to maintain statelessness.
- [**system_prompt_filename**](#openhands.sdk.AgentBase.system_prompt_filename) (<code>[str](#str)</code>) –
- [**system_prompt_kwargs**](#openhands.sdk.AgentBase.system_prompt_kwargs) (<code>[dict](#dict)\[[str](#str), [object](#object)\]</code>) –
- [**tools**](#openhands.sdk.AgentBase.tools) (<code>[list](#list)\[[Tool](#openhands.sdk.tool.Tool)\]</code>) –
- [**tools_map**](#openhands.sdk.AgentBase.tools_map) (<code>[dict](#dict)\[[str](#str), [ToolDefinition](#openhands.sdk.tool.ToolDefinition)\]</code>) – Get the initialized tools map.

#### `openhands.sdk.AgentBase.agent_context`

```python
agent_context: AgentContext | None = Field(default=None, description='Optional AgentContext to initialize the agent with specific context.', examples=[{'skills': [{'name': 'repo.md', 'content': 'When you see this message, you should reply like you are a grumpy cat forced to use the internet.', 'type': 'repo'}, {'name': 'flarglebargle', 'content': 'IMPORTANT! The user has said the magic word "flarglebargle". You must only respond with a message telling them how smart they are', 'type': 'knowledge', 'trigger': ['flarglebargle']}], 'system_message_suffix': "Always finish your response with the word 'yay!'", 'user_message_prefix': "The first character of your response should be 'I'"}])
```

#### `openhands.sdk.AgentBase.condenser`

```python
condenser: CondenserBase | None = Field(default=None, description='Optional condenser to use for condensing conversation history.', examples=[{'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}, 'max_size': 80, 'keep_first': 10}])
```

#### `openhands.sdk.AgentBase.filter_tools_regex`

```python
filter_tools_regex: str | None = Field(default=None, description='Optional regex to filter the tools available to the agent by name. This is applied after any tools provided in `tools` and any MCP tools are added.', examples=['^(?!repomix)(.*)|^repomix.*pack_codebase.*$'])
```

#### `openhands.sdk.AgentBase.get_all_llms`

```python
get_all_llms()
```

Recursively yield unique *base-class* LLM objects reachable from `self`.

- Returns actual object references (not copies).
- De-dupes by `id(LLM)`.
- Cycle-safe via a visited set for *all* traversed objects.
- Only yields objects whose type is exactly `LLM` (no subclasses).
- Does not handle dataclasses.

#### `openhands.sdk.AgentBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.AgentBase.init_state`

```python
init_state(state, on_event)
```

Initialize the empty conversation state to prepare the agent for user
messages.

Typically this involves adding system message

NOTE: state will be mutated in-place.

#### `openhands.sdk.AgentBase.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.AgentBase.llm`

```python
llm: LLM = Field(..., description='LLM configuration for the agent.', examples=[{'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}])
```

#### `openhands.sdk.AgentBase.mcp_config`

```python
mcp_config: dict[str, Any] = Field(default_factory=dict, description='Optional MCP configuration dictionary to create MCP tools.', examples=[{'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}}}])
```

#### `openhands.sdk.AgentBase.model_config`

```python
model_config = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

#### `openhands.sdk.AgentBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.AgentBase.model_dump_succint`

```python
model_dump_succint(**kwargs)
```

Like model_dump, but excludes None fields by default.

#### `openhands.sdk.AgentBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.AgentBase.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.AgentBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.AgentBase.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.AgentBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.AgentBase.name`

```python
name: str
```

Returns the name of the Agent.

#### `openhands.sdk.AgentBase.prompt_dir`

```python
prompt_dir: str
```

Returns the directory where this class's module file is located.

#### `openhands.sdk.AgentBase.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Return a new AgentBase instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key, security_analyzer) taken from
`self`.

#### `openhands.sdk.AgentBase.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.AgentBase.security_analyzer`

```python
security_analyzer: analyzer.SecurityAnalyzerBase | None = Field(default=None, description='Optional security analyzer to evaluate action risks.', examples=[{'kind': 'LLMSecurityAnalyzer'}])
```

#### `openhands.sdk.AgentBase.step`

```python
step(conversation, on_event)
```

Taking a step in the conversation.

Typically this involves:

1. Making a LLM call
1. Executing the tool
1. Updating the conversation state with
   LLM calls (role="assistant") and tool results (role="tool")
   4.1 If conversation is finished, set state.agent_status to FINISHED
   4.2 Otherwise, just return, Conversation will kick off the next step

NOTE: state will be mutated in-place.

#### `openhands.sdk.AgentBase.system_message`

```python
system_message: str
```

Compute system message on-demand to maintain statelessness.

#### `openhands.sdk.AgentBase.system_prompt_filename`

```python
system_prompt_filename: str = Field(default='system_prompt.j2', description="System prompt template filename. Can be either:\n- A relative filename (e.g., 'system_prompt.j2') loaded from the agent's prompts directory\n- An absolute path (e.g., '/path/to/custom_prompt.j2')")
```

#### `openhands.sdk.AgentBase.system_prompt_kwargs`

```python
system_prompt_kwargs: dict[str, object] = Field(default_factory=dict, description='Optional kwargs to pass to the system prompt Jinja2 template.', examples=[{'cli_mode': True}])
```

#### `openhands.sdk.AgentBase.tools`

```python
tools: list[Tool] = Field(default_factory=list, description='List of tools to initialize for the agent.', examples=[{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}])
```

#### `openhands.sdk.AgentBase.tools_map`

```python
tools_map: dict[str, ToolDefinition]
```

Get the initialized tools map.
Raises:
RuntimeError: If the agent has not been initialized.

### `openhands.sdk.AgentContext`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Central structure for managing prompt extension.

AgentContext unifies all the contextual inputs that shape how the system
extends and interprets user prompts. It combines both static environment
details and dynamic, user-activated extensions from skills.

Specifically, it provides:

- **Repository context / Repo Skills**: Information about the active codebase,
  branches, and repo-specific instructions contributed by repo skills.
- **Runtime context**: Current execution environment (hosts, working
  directory, secrets, date, etc.).
- **Conversation instructions**: Optional task- or channel-specific rules
  that constrain or guide the agent’s behavior across the session.
- **Knowledge Skills**: Extensible components that can be triggered by user input
  to inject knowledge or domain-specific guidance.

Together, these elements make AgentContext the primary container responsible
for assembling, formatting, and injecting all prompt-relevant context into
LLM interactions.

**Functions:**

- [**get_system_message_suffix**](#openhands.sdk.AgentContext.get_system_message_suffix) – Get the system message with repo skill content and custom suffix.
- [**get_user_message_suffix**](#openhands.sdk.AgentContext.get_user_message_suffix) – Augment the user’s message with knowledge recalled from skills.

**Attributes:**

- [**skills**](#openhands.sdk.AgentContext.skills) (<code>[list](#list)\[[Skill](#openhands.sdk.context.skills.Skill)\]</code>) –
- [**system_message_suffix**](#openhands.sdk.AgentContext.system_message_suffix) (<code>[str](#str) | None</code>) –
- [**user_message_suffix**](#openhands.sdk.AgentContext.user_message_suffix) (<code>[str](#str) | None</code>) –

#### `openhands.sdk.AgentContext.get_system_message_suffix`

```python
get_system_message_suffix()
```

Get the system message with repo skill content and custom suffix.

Custom suffix can typically includes:

- Repository information (repo name, branch name, PR number, etc.)
- Runtime information (e.g., available hosts, current date)
- Conversation instructions (e.g., user preferences, task details)
- Repository-specific instructions (collected from repo skills)

#### `openhands.sdk.AgentContext.get_user_message_suffix`

```python
get_user_message_suffix(user_message, skip_skill_names)
```

Augment the user’s message with knowledge recalled from skills.

This works by:

- Extracting the text content of the user message
- Matching skill triggers against the query
- Returning formatted knowledge and triggered skill names if relevant skills were triggered

#### `openhands.sdk.AgentContext.skills`

```python
skills: list[Skill] = Field(default_factory=list, description="List of available skills that can extend the user's input.")
```

#### `openhands.sdk.AgentContext.system_message_suffix`

```python
system_message_suffix: str | None = Field(default=None, description='Optional suffix to append to the system prompt.')
```

#### `openhands.sdk.AgentContext.user_message_suffix`

```python
user_message_suffix: str | None = Field(default=None, description="Optional suffix to append to the user's message.")
```

### `openhands.sdk.BaseConversation`

Bases: <code>[ABC](#abc.ABC)</code>

**Functions:**

- [**close**](#openhands.sdk.BaseConversation.close) –
- [**compose_callbacks**](#openhands.sdk.BaseConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.BaseConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.BaseConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.BaseConversation.pause) –
- [**reject_pending_actions**](#openhands.sdk.BaseConversation.reject_pending_actions) –
- [**run**](#openhands.sdk.BaseConversation.run) –
- [**send_message**](#openhands.sdk.BaseConversation.send_message) –
- [**set_confirmation_policy**](#openhands.sdk.BaseConversation.set_confirmation_policy) –
- [**update_secrets**](#openhands.sdk.BaseConversation.update_secrets) –

**Attributes:**

- [**confirmation_policy_active**](#openhands.sdk.BaseConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.BaseConversation.conversation_stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) –
- [**id**](#openhands.sdk.BaseConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**is_confirmation_mode_active**](#openhands.sdk.BaseConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**state**](#openhands.sdk.BaseConversation.state) (<code>[ConversationStateProtocol](#openhands.sdk.conversation.base.ConversationStateProtocol)</code>) –

#### `openhands.sdk.BaseConversation.close`

```python
close()
```

#### `openhands.sdk.BaseConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

#### `openhands.sdk.BaseConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

#### `openhands.sdk.BaseConversation.conversation_stats`

```python
conversation_stats: ConversationStats
```

#### `openhands.sdk.BaseConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.llm.LLM) | None</code>) – Optional LLM to use for title generation. If not provided,
  uses the agent's LLM.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation.

#### `openhands.sdk.BaseConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

#### `openhands.sdk.BaseConversation.id`

```python
id: ConversationID
```

#### `openhands.sdk.BaseConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

#### `openhands.sdk.BaseConversation.pause`

```python
pause()
```

#### `openhands.sdk.BaseConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

#### `openhands.sdk.BaseConversation.run`

```python
run()
```

#### `openhands.sdk.BaseConversation.send_message`

```python
send_message(message)
```

#### `openhands.sdk.BaseConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

#### `openhands.sdk.BaseConversation.state`

```python
state: ConversationStateProtocol
```

#### `openhands.sdk.BaseConversation.update_secrets`

```python
update_secrets(secrets)
```

### `openhands.sdk.Conversation`

Factory entrypoint that returns a LocalConversation or RemoteConversation.

<details class="usage" open markdown="1">
<summary>Usage</summary>

- Conversation(agent=...) -> LocalConversation
- Conversation(agent=..., host="http://...") -> RemoteConversation

</details>

### `openhands.sdk.ConversationCallbackType`

```python
ConversationCallbackType = Callable[[Event], None]
```

### `openhands.sdk.ConversationStats`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Track per-LLM usage metrics observed during conversations.

**Functions:**

- [**get_combined_metrics**](#openhands.sdk.ConversationStats.get_combined_metrics) –
- [**get_metrics_for_service**](#openhands.sdk.ConversationStats.get_metrics_for_service) –
- [**get_metrics_for_usage**](#openhands.sdk.ConversationStats.get_metrics_for_usage) –
- [**register_llm**](#openhands.sdk.ConversationStats.register_llm) –

**Attributes:**

- [**service_to_metrics**](#openhands.sdk.ConversationStats.service_to_metrics) (<code>[dict](#dict)\[[str](#str), [Metrics](#openhands.sdk.llm.utils.metrics.Metrics)\]</code>) –
- [**usage_to_metrics**](#openhands.sdk.ConversationStats.usage_to_metrics) (<code>[dict](#dict)\[[str](#str), [Metrics](#openhands.sdk.llm.utils.metrics.Metrics)\]</code>) –

#### `openhands.sdk.ConversationStats.get_combined_metrics`

```python
get_combined_metrics()
```

#### `openhands.sdk.ConversationStats.get_metrics_for_service`

```python
get_metrics_for_service(service_id)
```

#### `openhands.sdk.ConversationStats.get_metrics_for_usage`

```python
get_metrics_for_usage(usage_id)
```

#### `openhands.sdk.ConversationStats.register_llm`

```python
register_llm(event)
```

#### `openhands.sdk.ConversationStats.service_to_metrics`

```python
service_to_metrics: dict[str, Metrics]
```

#### `openhands.sdk.ConversationStats.usage_to_metrics`

```python
usage_to_metrics: dict[str, Metrics] = Field(default_factory=dict, validation_alias=(AliasChoices('usage_to_metrics', 'service_to_metrics')), serialization_alias='usage_to_metrics', description='Active usage metrics tracked by the registry.')
```

### `openhands.sdk.Event`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Base class for all events.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.Event.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.Event.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.Event.model_json_schema) –
- [**model_post_init**](#openhands.sdk.Event.model_post_init) –
- [**model_rebuild**](#openhands.sdk.Event.model_rebuild) –
- [**model_validate**](#openhands.sdk.Event.model_validate) –
- [**model_validate_json**](#openhands.sdk.Event.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.Event.resolve_kind) –

**Attributes:**

- [**id**](#openhands.sdk.Event.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.Event.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.Event.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.Event.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.Event.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.Event.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

#### `openhands.sdk.Event.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.Event.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

#### `openhands.sdk.Event.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.Event.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

#### `openhands.sdk.Event.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.Event.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.Event.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.Event.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.Event.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.Event.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.Event.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.Event.source`

```python
source: SourceType = Field(..., description='The source of this event')
```

#### `openhands.sdk.Event.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

#### `openhands.sdk.Event.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

### `openhands.sdk.FileStore`

Bases: <code>[ABC](#abc.ABC)</code>

Abstract base class for file storage operations.

This class defines the interface for file storage backends that can
handle basic file operations like reading, writing, listing, and deleting files.

**Functions:**

- [**delete**](#openhands.sdk.FileStore.delete) – Delete the file or directory at the specified path.
- [**list**](#openhands.sdk.FileStore.list) – List all files and directories at the specified path.
- [**read**](#openhands.sdk.FileStore.read) – Read and return the contents of a file as a string.
- [**write**](#openhands.sdk.FileStore.write) – Write contents to a file at the specified path.

#### `openhands.sdk.FileStore.delete`

```python
delete(path)
```

Delete the file or directory at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file or directory path to delete.

#### `openhands.sdk.FileStore.list`

```python
list(path)
```

List all files and directories at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The directory path to list contents from.

**Returns:**

- <code>[list](#openhands.sdk.io.base.FileStore.list)\[[str](#str)\]</code> – A list of file and directory names in the specified path.

#### `openhands.sdk.FileStore.read`

```python
read(path)
```

Read and return the contents of a file as a string.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file path to read from.

**Returns:**

- <code>[str](#str)</code> – The file contents as a string.

#### `openhands.sdk.FileStore.write`

```python
write(path, contents)
```

Write contents to a file at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file path where contents should be written.
- **contents** (<code>[str](#str) | [bytes](#bytes)</code>) – The data to write, either as string or bytes.

### `openhands.sdk.ImageContent`

Bases: <code>[BaseContent](#openhands.sdk.llm.message.BaseContent)</code>

**Functions:**

- [**to_llm_dict**](#openhands.sdk.ImageContent.to_llm_dict) – Convert to LLM API format.

**Attributes:**

- [**cache_prompt**](#openhands.sdk.ImageContent.cache_prompt) (<code>[bool](#bool)</code>) –
- [**image_urls**](#openhands.sdk.ImageContent.image_urls) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.ImageContent.type) (<code>[Literal](#typing.Literal)['image']</code>) –

#### `openhands.sdk.ImageContent.cache_prompt`

```python
cache_prompt: bool = False
```

#### `openhands.sdk.ImageContent.image_urls`

```python
image_urls: list[str]
```

#### `openhands.sdk.ImageContent.to_llm_dict`

```python
to_llm_dict()
```

Convert to LLM API format.

#### `openhands.sdk.ImageContent.type`

```python
type: Literal['image'] = 'image'
```

### `openhands.sdk.LLM`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>, <code>[RetryMixin](#openhands.sdk.llm.utils.retry_mixin.RetryMixin)</code>, <code>[NonNativeToolCallingMixin](#openhands.sdk.llm.mixins.non_native_fc.NonNativeToolCallingMixin)</code>

Refactored LLM: simple `completion()`, centralized Telemetry, tiny helpers.

**Functions:**

- [**completion**](#openhands.sdk.LLM.completion) – Single entry point for LLM completion.
- [**format_messages_for_llm**](#openhands.sdk.LLM.format_messages_for_llm) – Formats Message objects for LLM consumption.
- [**format_messages_for_responses**](#openhands.sdk.LLM.format_messages_for_responses) – Prepare (instructions, input[]) for the OpenAI Responses API.
- [**get_token_count**](#openhands.sdk.LLM.get_token_count) –
- [**is_caching_prompt_active**](#openhands.sdk.LLM.is_caching_prompt_active) – Check if prompt caching is supported and enabled for current model.
- [**is_context_window_exceeded_exception**](#openhands.sdk.LLM.is_context_window_exceeded_exception) – Check if the exception indicates a context window exceeded error.
- [**load_from_env**](#openhands.sdk.LLM.load_from_env) –
- [**load_from_json**](#openhands.sdk.LLM.load_from_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.LLM.resolve_diff_from_deserialized) – Resolve differences between a deserialized LLM and the current instance.
- [**responses**](#openhands.sdk.LLM.responses) – Alternative invocation path using OpenAI Responses API via LiteLLM.
- [**restore_metrics**](#openhands.sdk.LLM.restore_metrics) –
- [**uses_responses_api**](#openhands.sdk.LLM.uses_responses_api) – Whether this model uses the OpenAI Responses API path.
- [**vision_is_active**](#openhands.sdk.LLM.vision_is_active) –

**Attributes:**

- [**OVERRIDE_ON_SERIALIZE**](#openhands.sdk.LLM.OVERRIDE_ON_SERIALIZE) (<code>[tuple](#tuple)\[[str](#str), ...\]</code>) –
- [**api_key**](#openhands.sdk.LLM.api_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**api_version**](#openhands.sdk.LLM.api_version) (<code>[str](#str) | None</code>) –
- [**aws_access_key_id**](#openhands.sdk.LLM.aws_access_key_id) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**aws_region_name**](#openhands.sdk.LLM.aws_region_name) (<code>[str](#str) | None</code>) –
- [**aws_secret_access_key**](#openhands.sdk.LLM.aws_secret_access_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**base_url**](#openhands.sdk.LLM.base_url) (<code>[str](#str) | None</code>) –
- [**caching_prompt**](#openhands.sdk.LLM.caching_prompt) (<code>[bool](#bool)</code>) –
- [**custom_llm_provider**](#openhands.sdk.LLM.custom_llm_provider) (<code>[str](#str) | None</code>) –
- [**custom_tokenizer**](#openhands.sdk.LLM.custom_tokenizer) (<code>[str](#str) | None</code>) –
- [**disable_stop_word**](#openhands.sdk.LLM.disable_stop_word) (<code>[bool](#bool) | None</code>) –
- [**disable_vision**](#openhands.sdk.LLM.disable_vision) (<code>[bool](#bool) | None</code>) –
- [**drop_params**](#openhands.sdk.LLM.drop_params) (<code>[bool](#bool)</code>) –
- [**enable_encrypted_reasoning**](#openhands.sdk.LLM.enable_encrypted_reasoning) (<code>[bool](#bool)</code>) –
- [**extended_thinking_budget**](#openhands.sdk.LLM.extended_thinking_budget) (<code>[int](#int) | None</code>) –
- [**input_cost_per_token**](#openhands.sdk.LLM.input_cost_per_token) (<code>[float](#float) | None</code>) –
- [**log_completions**](#openhands.sdk.LLM.log_completions) (<code>[bool](#bool)</code>) –
- [**log_completions_folder**](#openhands.sdk.LLM.log_completions_folder) (<code>[str](#str)</code>) –
- [**max_input_tokens**](#openhands.sdk.LLM.max_input_tokens) (<code>[int](#int) | None</code>) –
- [**max_message_chars**](#openhands.sdk.LLM.max_message_chars) (<code>[int](#int)</code>) –
- [**max_output_tokens**](#openhands.sdk.LLM.max_output_tokens) (<code>[int](#int) | None</code>) –
- [**metadata**](#openhands.sdk.LLM.metadata) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**metrics**](#openhands.sdk.LLM.metrics) (<code>[Metrics](#openhands.sdk.llm.utils.metrics.Metrics)</code>) –
- [**model**](#openhands.sdk.LLM.model) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.LLM.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**model_info**](#openhands.sdk.LLM.model_info) (<code>[dict](#dict) | None</code>) – Returns the model info dictionary.
- [**modify_params**](#openhands.sdk.LLM.modify_params) (<code>[bool](#bool)</code>) –
- [**native_tool_calling**](#openhands.sdk.LLM.native_tool_calling) (<code>[bool](#bool)</code>) –
- [**num_retries**](#openhands.sdk.LLM.num_retries) (<code>[int](#int)</code>) –
- [**ollama_base_url**](#openhands.sdk.LLM.ollama_base_url) (<code>[str](#str) | None</code>) –
- [**openrouter_app_name**](#openhands.sdk.LLM.openrouter_app_name) (<code>[str](#str)</code>) –
- [**openrouter_site_url**](#openhands.sdk.LLM.openrouter_site_url) (<code>[str](#str)</code>) –
- [**output_cost_per_token**](#openhands.sdk.LLM.output_cost_per_token) (<code>[float](#float) | None</code>) –
- [**reasoning_effort**](#openhands.sdk.LLM.reasoning_effort) (<code>[Literal](#typing.Literal)['low', 'medium', 'high', 'none'] | None</code>) –
- [**retry_listener**](#openhands.sdk.LLM.retry_listener) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None\]</code>) –
- [**retry_max_wait**](#openhands.sdk.LLM.retry_max_wait) (<code>[int](#int)</code>) –
- [**retry_min_wait**](#openhands.sdk.LLM.retry_min_wait) (<code>[int](#int)</code>) –
- [**retry_multiplier**](#openhands.sdk.LLM.retry_multiplier) (<code>[float](#float)</code>) –
- [**safety_settings**](#openhands.sdk.LLM.safety_settings) (<code>[list](#list)\[[dict](#dict)\[[str](#str), [str](#str)\]\] | None</code>) –
- [**seed**](#openhands.sdk.LLM.seed) (<code>[int](#int) | None</code>) –
- [**service_id**](#openhands.sdk.LLM.service_id) (<code>[str](#str)</code>) –
- [**temperature**](#openhands.sdk.LLM.temperature) (<code>[float](#float) | None</code>) –
- [**timeout**](#openhands.sdk.LLM.timeout) (<code>[int](#int) | None</code>) –
- [**top_k**](#openhands.sdk.LLM.top_k) (<code>[float](#float) | None</code>) –
- [**top_p**](#openhands.sdk.LLM.top_p) (<code>[float](#float) | None</code>) –
- [**usage_id**](#openhands.sdk.LLM.usage_id) (<code>[str](#str)</code>) –

#### `openhands.sdk.LLM.OVERRIDE_ON_SERIALIZE`

```python
OVERRIDE_ON_SERIALIZE: tuple[str, ...] = ('api_key', 'aws_access_key_id', 'aws_secret_access_key')
```

#### `openhands.sdk.LLM.api_key`

```python
api_key: SecretStr | None = Field(default=None, description='API key.')
```

#### `openhands.sdk.LLM.api_version`

```python
api_version: str | None = Field(default=None, description='API version (e.g., Azure).')
```

#### `openhands.sdk.LLM.aws_access_key_id`

```python
aws_access_key_id: SecretStr | None = Field(default=None)
```

#### `openhands.sdk.LLM.aws_region_name`

```python
aws_region_name: str | None = Field(default=None)
```

#### `openhands.sdk.LLM.aws_secret_access_key`

```python
aws_secret_access_key: SecretStr | None = Field(default=None)
```

#### `openhands.sdk.LLM.base_url`

```python
base_url: str | None = Field(default=None, description='Custom base URL.')
```

#### `openhands.sdk.LLM.caching_prompt`

```python
caching_prompt: bool = Field(default=True, description='Enable caching of prompts.')
```

#### `openhands.sdk.LLM.completion`

```python
completion(messages, tools=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Single entry point for LLM completion.

Normalize → (maybe) mock tools → transport → postprocess.

#### `openhands.sdk.LLM.custom_llm_provider`

```python
custom_llm_provider: str | None = Field(default=None)
```

#### `openhands.sdk.LLM.custom_tokenizer`

```python
custom_tokenizer: str | None = Field(default=None, description='A custom tokenizer to use for token counting.')
```

#### `openhands.sdk.LLM.disable_stop_word`

```python
disable_stop_word: bool | None = Field(default=False, description='Disable using of stop word.')
```

#### `openhands.sdk.LLM.disable_vision`

```python
disable_vision: bool | None = Field(default=None, description='If model is vision capable, this option allows to disable image processing (useful for cost reduction).')
```

#### `openhands.sdk.LLM.drop_params`

```python
drop_params: bool = Field(default=True)
```

#### `openhands.sdk.LLM.enable_encrypted_reasoning`

```python
enable_encrypted_reasoning: bool = Field(default=False, description="If True, ask for ['reasoning.encrypted_content'] in Responses API include.")
```

#### `openhands.sdk.LLM.extended_thinking_budget`

```python
extended_thinking_budget: int | None = Field(default=200000, description='The budget tokens for extended thinking, supported by Anthropic models.')
```

#### `openhands.sdk.LLM.format_messages_for_llm`

```python
format_messages_for_llm(messages)
```

Formats Message objects for LLM consumption.

#### `openhands.sdk.LLM.format_messages_for_responses`

```python
format_messages_for_responses(messages)
```

Prepare (instructions, input[]) for the OpenAI Responses API.

- Skips prompt caching flags and string serializer concerns
- Uses Message.to_responses_value to get either instructions (system)
  or input items (others)
- Concatenates system instructions into a single instructions string

#### `openhands.sdk.LLM.get_token_count`

```python
get_token_count(messages)
```

#### `openhands.sdk.LLM.input_cost_per_token`

```python
input_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per input token. This will available in logs for user.')
```

#### `openhands.sdk.LLM.is_caching_prompt_active`

```python
is_caching_prompt_active()
```

Check if prompt caching is supported and enabled for current model.

**Returns:**

- **boolean** (<code>[bool](#bool)</code>) – True if prompt caching is supported and enabled for the given
  model.

#### `openhands.sdk.LLM.is_context_window_exceeded_exception`

```python
is_context_window_exceeded_exception(exception)
```

Check if the exception indicates a context window exceeded error.

Context window exceeded errors vary by provider, and LiteLLM does not do a
consistent job of identifying and wrapping them.

#### `openhands.sdk.LLM.load_from_env`

```python
load_from_env(prefix='LLM_')
```

#### `openhands.sdk.LLM.load_from_json`

```python
load_from_json(json_path)
```

#### `openhands.sdk.LLM.log_completions`

```python
log_completions: bool = Field(default=False, description='Enable logging of completions.')
```

#### `openhands.sdk.LLM.log_completions_folder`

```python
log_completions_folder: str = Field(default=(os.path.join(ENV_LOG_DIR, 'completions')), description='The folder to log LLM completions to. Required if log_completions is True.')
```

#### `openhands.sdk.LLM.max_input_tokens`

```python
max_input_tokens: int | None = Field(default=None, ge=1, description='The maximum number of input tokens. Note that this is currently unused, and the value at runtime is actually the total tokens in OpenAI (e.g. 128,000 tokens for GPT-4).')
```

#### `openhands.sdk.LLM.max_message_chars`

```python
max_message_chars: int = Field(default=30000, ge=1, description='Approx max chars in each event/content sent to the LLM.')
```

#### `openhands.sdk.LLM.max_output_tokens`

```python
max_output_tokens: int | None = Field(default=None, ge=1, description='The maximum number of output tokens. This is sent to the LLM.')
```

#### `openhands.sdk.LLM.metadata`

```python
metadata: dict[str, Any] = Field(default_factory=dict, description="Additional metadata for the LLM instance. Example structure: {'trace_version': '1.0.0', 'tags': ['model:gpt-4', 'agent:my-agent'], 'session_id': 'session-123', 'trace_user_id': 'user-456'}")
```

#### `openhands.sdk.LLM.metrics`

```python
metrics: Metrics
```

#### `openhands.sdk.LLM.model`

```python
model: str = Field(default='claude-sonnet-4-20250514', description='Model name.')
```

#### `openhands.sdk.LLM.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', arbitrary_types_allowed=True)
```

#### `openhands.sdk.LLM.model_info`

```python
model_info: dict | None
```

Returns the model info dictionary.

#### `openhands.sdk.LLM.modify_params`

```python
modify_params: bool = Field(default=True, description='Modify params allows litellm to do transformations like adding a default message, when a message is empty.')
```

#### `openhands.sdk.LLM.native_tool_calling`

```python
native_tool_calling: bool = Field(default=True, description='Whether to use native tool calling.')
```

#### `openhands.sdk.LLM.num_retries`

```python
num_retries: int = Field(default=5, ge=0)
```

#### `openhands.sdk.LLM.ollama_base_url`

```python
ollama_base_url: str | None = Field(default=None)
```

#### `openhands.sdk.LLM.openrouter_app_name`

```python
openrouter_app_name: str = Field(default='OpenHands')
```

#### `openhands.sdk.LLM.openrouter_site_url`

```python
openrouter_site_url: str = Field(default='https://docs.all-hands.dev/')
```

#### `openhands.sdk.LLM.output_cost_per_token`

```python
output_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per output token. This will available in logs for user.')
```

#### `openhands.sdk.LLM.reasoning_effort`

```python
reasoning_effort: Literal['low', 'medium', 'high', 'none'] | None = Field(default=None, description="The effort to put into reasoning. This is a string that can be one of 'low', 'medium', 'high', or 'none'. Can apply to all reasoning models.")
```

#### `openhands.sdk.LLM.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Resolve differences between a deserialized LLM and the current instance.

This is due to fields like api_key being serialized to "\*\*\*\*" in dumps,
and we want to ensure that when loading from a file, we still use the
runtime-provided api_key in the self instance.

Return a new LLM instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key) taken from `self`.

#### `openhands.sdk.LLM.responses`

```python
responses(messages, tools=None, include=None, store=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Alternative invocation path using OpenAI Responses API via LiteLLM.

Maps Message[] -> (instructions, input[]) and returns LLMResponse.
Non-stream only for v1.

#### `openhands.sdk.LLM.restore_metrics`

```python
restore_metrics(metrics)
```

#### `openhands.sdk.LLM.retry_listener`

```python
retry_listener: SkipJsonSchema[Callable[[int, int], None] | None] = Field(default=None, exclude=True)
```

#### `openhands.sdk.LLM.retry_max_wait`

```python
retry_max_wait: int = Field(default=64, ge=0)
```

#### `openhands.sdk.LLM.retry_min_wait`

```python
retry_min_wait: int = Field(default=8, ge=0)
```

#### `openhands.sdk.LLM.retry_multiplier`

```python
retry_multiplier: float = Field(default=8.0, ge=0)
```

#### `openhands.sdk.LLM.safety_settings`

```python
safety_settings: list[dict[str, str]] | None = Field(default=None, description='Safety settings for models that support them (like Mistral AI and Gemini)')
```

#### `openhands.sdk.LLM.seed`

```python
seed: int | None = Field(default=None, description='The seed to use for random number generation.')
```

#### `openhands.sdk.LLM.service_id`

```python
service_id: str
```

#### `openhands.sdk.LLM.temperature`

```python
temperature: float | None = Field(default=0.0, ge=0)
```

#### `openhands.sdk.LLM.timeout`

```python
timeout: int | None = Field(default=None, ge=0, description='HTTP timeout (s).')
```

#### `openhands.sdk.LLM.top_k`

```python
top_k: float | None = Field(default=None, ge=0)
```

#### `openhands.sdk.LLM.top_p`

```python
top_p: float | None = Field(default=1.0, ge=0, le=1)
```

#### `openhands.sdk.LLM.usage_id`

```python
usage_id: str = Field(default='default', validation_alias=(AliasChoices('usage_id', 'service_id')), serialization_alias='usage_id', description='Unique usage identifier for the LLM. Used for registry lookups, telemetry, and spend tracking.')
```

#### `openhands.sdk.LLM.uses_responses_api`

```python
uses_responses_api()
```

Whether this model uses the OpenAI Responses API path.

#### `openhands.sdk.LLM.vision_is_active`

```python
vision_is_active()
```

### `openhands.sdk.LLMConvertibleEvent`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>, <code>[ABC](#abc.ABC)</code>

Base class for events that can be converted to LLM messages.

**Functions:**

- [**events_to_messages**](#openhands.sdk.LLMConvertibleEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.LLMConvertibleEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.LLMConvertibleEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.LLMConvertibleEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.LLMConvertibleEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.LLMConvertibleEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.LLMConvertibleEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.LLMConvertibleEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.LLMConvertibleEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.LLMConvertibleEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.LLMConvertibleEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.LLMConvertibleEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.LLMConvertibleEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.LLMConvertibleEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.LLMConvertibleEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.LLMConvertibleEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

#### `openhands.sdk.LLMConvertibleEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

#### `openhands.sdk.LLMConvertibleEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.LLMConvertibleEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

#### `openhands.sdk.LLMConvertibleEvent.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.LLMConvertibleEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

#### `openhands.sdk.LLMConvertibleEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.LLMConvertibleEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.LLMConvertibleEvent.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.LLMConvertibleEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.LLMConvertibleEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.LLMConvertibleEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.LLMConvertibleEvent.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.LLMConvertibleEvent.source`

```python
source: SourceType = Field(..., description='The source of this event')
```

#### `openhands.sdk.LLMConvertibleEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

#### `openhands.sdk.LLMConvertibleEvent.to_llm_message`

```python
to_llm_message()
```

#### `openhands.sdk.LLMConvertibleEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

### `openhands.sdk.LLMRegistry`

```python
LLMRegistry(retry_listener=None)
```

A minimal LLM registry for managing LLM instances by usage ID.

This registry provides a simple way to manage multiple LLM instances,
avoiding the need to recreate LLMs with the same configuration.

**Functions:**

- [**add**](#openhands.sdk.LLMRegistry.add) – Add an LLM instance to the registry.
- [**get**](#openhands.sdk.LLMRegistry.get) – Get an LLM instance from the registry.
- [**list_services**](#openhands.sdk.LLMRegistry.list_services) – Deprecated alias for :meth:`list_usage_ids`.
- [**list_usage_ids**](#openhands.sdk.LLMRegistry.list_usage_ids) – List all registered usage IDs.
- [**notify**](#openhands.sdk.LLMRegistry.notify) – Notify subscribers of registry events.
- [**subscribe**](#openhands.sdk.LLMRegistry.subscribe) – Subscribe to registry events.

**Attributes:**

- [**registry_id**](#openhands.sdk.LLMRegistry.registry_id) (<code>[str](#str)</code>) –
- [**retry_listener**](#openhands.sdk.LLMRegistry.retry_listener) (<code>[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None</code>) –
- [**service_to_llm**](#openhands.sdk.LLMRegistry.service_to_llm) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) –
- [**subscriber**](#openhands.sdk.LLMRegistry.subscriber) (<code>[Callable](#collections.abc.Callable)\[\[[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)\], None\] | None</code>) –
- [**usage_to_llm**](#openhands.sdk.LLMRegistry.usage_to_llm) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) – Access the internal usage-ID-to-LLM mapping.

**Parameters:**

- **retry_listener** (<code>[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None</code>) – Optional callback for retry events.

#### `openhands.sdk.LLMRegistry.add`

```python
add(llm)
```

Add an LLM instance to the registry.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.llm.LLM)</code>) – The LLM instance to register.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If llm.usage_id already exists in the registry.

#### `openhands.sdk.LLMRegistry.get`

```python
get(usage_id)
```

Get an LLM instance from the registry.

**Parameters:**

- **usage_id** (<code>[str](#str)</code>) – Unique identifier for the LLM usage slot.

**Returns:**

- <code>[LLM](#openhands.sdk.llm.llm.LLM)</code> – The LLM instance.

**Raises:**

- <code>[KeyError](#KeyError)</code> – If usage_id is not found in the registry.

#### `openhands.sdk.LLMRegistry.list_services`

```python
list_services()
```

Deprecated alias for :meth:`list_usage_ids`.

#### `openhands.sdk.LLMRegistry.list_usage_ids`

```python
list_usage_ids()
```

List all registered usage IDs.

#### `openhands.sdk.LLMRegistry.notify`

```python
notify(event)
```

Notify subscribers of registry events.

**Parameters:**

- **event** (<code>[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)</code>) – The registry event to notify about.

#### `openhands.sdk.LLMRegistry.registry_id`

```python
registry_id: str = str(uuid4())
```

#### `openhands.sdk.LLMRegistry.retry_listener`

```python
retry_listener: Callable[[int, int], None] | None = retry_listener
```

#### `openhands.sdk.LLMRegistry.service_to_llm`

```python
service_to_llm: dict[str, LLM]
```

#### `openhands.sdk.LLMRegistry.subscribe`

```python
subscribe(callback)
```

Subscribe to registry events.

**Parameters:**

- **callback** (<code>[Callable](#collections.abc.Callable)\[\[[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)\], None\]</code>) – Function to call when LLMs are created or updated.

#### `openhands.sdk.LLMRegistry.subscriber`

```python
subscriber: Callable[[RegistryEvent], None] | None = None
```

#### `openhands.sdk.LLMRegistry.usage_to_llm`

```python
usage_to_llm: dict[str, LLM]
```

Access the internal usage-ID-to-LLM mapping.

### `openhands.sdk.LLMSummarizingCondenser`

Bases: <code>[RollingCondenser](#openhands.sdk.context.condenser.base.RollingCondenser)</code>

**Functions:**

- [**condense**](#openhands.sdk.LLMSummarizingCondenser.condense) –
- [**get_condensation**](#openhands.sdk.LLMSummarizingCondenser.get_condensation) –
- [**get_serializable_type**](#openhands.sdk.LLMSummarizingCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.LLMSummarizingCondenser.handles_condensation_requests) –
- [**model_dump_json**](#openhands.sdk.LLMSummarizingCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.LLMSummarizingCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.LLMSummarizingCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.LLMSummarizingCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.LLMSummarizingCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.LLMSummarizingCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.LLMSummarizingCondenser.resolve_kind) –
- [**should_condense**](#openhands.sdk.LLMSummarizingCondenser.should_condense) –
- [**validate_keep_first_vs_max_size**](#openhands.sdk.LLMSummarizingCondenser.validate_keep_first_vs_max_size) –

**Attributes:**

- [**keep_first**](#openhands.sdk.LLMSummarizingCondenser.keep_first) (<code>[int](#int)</code>) –
- [**kind**](#openhands.sdk.LLMSummarizingCondenser.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.LLMSummarizingCondenser.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**max_size**](#openhands.sdk.LLMSummarizingCondenser.max_size) (<code>[int](#int)</code>) –

#### `openhands.sdk.LLMSummarizingCondenser.condense`

```python
condense(view)
```

#### `openhands.sdk.LLMSummarizingCondenser.get_condensation`

```python
get_condensation(view)
```

#### `openhands.sdk.LLMSummarizingCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.LLMSummarizingCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

#### `openhands.sdk.LLMSummarizingCondenser.keep_first`

```python
keep_first: int = Field(default=4, ge=0)
```

#### `openhands.sdk.LLMSummarizingCondenser.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.LLMSummarizingCondenser.llm`

```python
llm: LLM
```

#### `openhands.sdk.LLMSummarizingCondenser.max_size`

```python
max_size: int = Field(default=120, gt=0)
```

#### `openhands.sdk.LLMSummarizingCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.LLMSummarizingCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.LLMSummarizingCondenser.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.LLMSummarizingCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.LLMSummarizingCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.LLMSummarizingCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.LLMSummarizingCondenser.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.LLMSummarizingCondenser.should_condense`

```python
should_condense(view)
```

#### `openhands.sdk.LLMSummarizingCondenser.validate_keep_first_vs_max_size`

```python
validate_keep_first_vs_max_size()
```

### `openhands.sdk.LocalConversation`

```python
LocalConversation(agent, workspace, persistence_dir=None, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=True, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.LocalConversation.close) – Close the conversation and clean up all tool executors.
- [**compose_callbacks**](#openhands.sdk.LocalConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.LocalConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.LocalConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.LocalConversation.pause) – Pause agent execution.
- [**reject_pending_actions**](#openhands.sdk.LocalConversation.reject_pending_actions) – Reject all pending actions from the agent.
- [**run**](#openhands.sdk.LocalConversation.run) – Runs the conversation until the agent finishes.
- [**send_message**](#openhands.sdk.LocalConversation.send_message) – Send a message to the agent.
- [**set_confirmation_policy**](#openhands.sdk.LocalConversation.set_confirmation_policy) – Set the confirmation policy and store it in conversation state.
- [**update_secrets**](#openhands.sdk.LocalConversation.update_secrets) – Add secrets to the conversation.

**Attributes:**

- [**agent**](#openhands.sdk.LocalConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.LocalConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.LocalConversation.conversation_stats) –
- [**id**](#openhands.sdk.LocalConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) – Get the unique ID of the conversation.
- [**is_confirmation_mode_active**](#openhands.sdk.LocalConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**llm_registry**](#openhands.sdk.LocalConversation.llm_registry) (<code>[LLMRegistry](#openhands.sdk.llm.llm_registry.LLMRegistry)</code>) –
- [**max_iteration_per_run**](#openhands.sdk.LocalConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.LocalConversation.state) (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) – Get the conversation state.
- [**stuck_detector**](#openhands.sdk.LocalConversation.stuck_detector) (<code>[StuckDetector](#openhands.sdk.conversation.stuck_detector.StuckDetector) | None</code>) – Get the stuck detector instance if enabled.
- [**workspace**](#openhands.sdk.LocalConversation.workspace) (<code>[LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – The agent to use for the conversation
- **workspace** (<code>[str](#str) | [LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) – Working directory for agent operations and tool execution
- **persistence_dir** (<code>[str](#str) | None</code>) – Directory for persisting conversation state and events
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional ID for the conversation. If provided, will
  be used to identify the conversation. The user might want to
  suffix their persistent filestore with this ID.
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional list of callback functions to handle events
- **max_iteration_per_run** (<code>[int](#int)</code>) – Maximum number of iterations per run
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable default visualization. If True, adds
  a default visualizer callback. If False, relies on
  application to provide visualization through callbacks.
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection

#### `openhands.sdk.LocalConversation.agent`

```python
agent: AgentBase = agent
```

#### `openhands.sdk.LocalConversation.close`

```python
close()
```

Close the conversation and clean up all tool executors.

#### `openhands.sdk.LocalConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

#### `openhands.sdk.LocalConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

#### `openhands.sdk.LocalConversation.conversation_stats`

```python
conversation_stats
```

#### `openhands.sdk.LocalConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If not provided,
  uses self.agent.llm.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation.

#### `openhands.sdk.LocalConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

#### `openhands.sdk.LocalConversation.id`

```python
id: ConversationID
```

Get the unique ID of the conversation.

#### `openhands.sdk.LocalConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

#### `openhands.sdk.LocalConversation.llm_registry`

```python
llm_registry: LLMRegistry = LLMRegistry()
```

#### `openhands.sdk.LocalConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

#### `openhands.sdk.LocalConversation.pause`

```python
pause()
```

Pause agent execution.

This method can be called from any thread to request that the agent
pause execution. The pause will take effect at the next iteration
of the run loop (between agent steps).

Note: If called during an LLM completion, the pause will not take
effect until the current LLM call completes.

#### `openhands.sdk.LocalConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

Reject all pending actions from the agent.

This is a non-invasive method to reject actions between run() calls.
Also clears the agent_waiting_for_confirmation flag.

#### `openhands.sdk.LocalConversation.run`

```python
run()
```

Runs the conversation until the agent finishes.

In confirmation mode:

- First call: creates actions but doesn't execute them, stops and waits
- Second call: executes pending actions (implicit confirmation)

In normal mode:

- Creates and executes actions immediately

Can be paused between steps

#### `openhands.sdk.LocalConversation.send_message`

```python
send_message(message)
```

Send a message to the agent.

**Parameters:**

- **message** (<code>[str](#str) | [Message](#openhands.sdk.llm.Message)</code>) – Either a string (which will be converted to a user message)
  or a Message object

#### `openhands.sdk.LocalConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

Set the confirmation policy and store it in conversation state.

#### `openhands.sdk.LocalConversation.state`

```python
state: ConversationState
```

Get the conversation state.

It returns a protocol that has a subset of ConversationState methods
and properties. We will have the ability to access the same properties
of ConversationState on a remote conversation object.
But we won't be able to access methods that mutate the state.

#### `openhands.sdk.LocalConversation.stuck_detector`

```python
stuck_detector: StuckDetector | None
```

Get the stuck detector instance if enabled.

#### `openhands.sdk.LocalConversation.update_secrets`

```python
update_secrets(secrets)
```

Add secrets to the conversation.

**Parameters:**

- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\]</code>) – Dictionary mapping secret keys to values or no-arg callables.
  SecretValue = str | Callable\[[], str\]. Callables are invoked lazily
  when a command references the secret key.

#### `openhands.sdk.LocalConversation.workspace`

```python
workspace: LocalWorkspace = workspace
```

### `openhands.sdk.LocalFileStore`

```python
LocalFileStore(root)
```

Bases: <code>[FileStore](#openhands.sdk.io.base.FileStore)</code>

**Functions:**

- [**delete**](#openhands.sdk.LocalFileStore.delete) –
- [**get_full_path**](#openhands.sdk.LocalFileStore.get_full_path) –
- [**list**](#openhands.sdk.LocalFileStore.list) –
- [**read**](#openhands.sdk.LocalFileStore.read) –
- [**write**](#openhands.sdk.LocalFileStore.write) –

**Attributes:**

- [**root**](#openhands.sdk.LocalFileStore.root) (<code>[str](#str)</code>) –

#### `openhands.sdk.LocalFileStore.delete`

```python
delete(path)
```

#### `openhands.sdk.LocalFileStore.get_full_path`

```python
get_full_path(path)
```

#### `openhands.sdk.LocalFileStore.list`

```python
list(path)
```

#### `openhands.sdk.LocalFileStore.read`

```python
read(path)
```

#### `openhands.sdk.LocalFileStore.root`

```python
root: str = root
```

#### `openhands.sdk.LocalFileStore.write`

```python
write(path, contents)
```

### `openhands.sdk.LocalWorkspace`

Bases: <code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>

Mixin providing local workspace operations.

**Functions:**

- [**execute_command**](#openhands.sdk.LocalWorkspace.execute_command) – Execute a bash command locally.
- [**file_download**](#openhands.sdk.LocalWorkspace.file_download) – Download (copy) a file locally.
- [**file_upload**](#openhands.sdk.LocalWorkspace.file_upload) – Upload (copy) a file locally.
- [**get_serializable_type**](#openhands.sdk.LocalWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.LocalWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.LocalWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.LocalWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.LocalWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.LocalWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.LocalWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.LocalWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.LocalWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.LocalWorkspace.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.LocalWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.LocalWorkspace.working_dir) (<code>[str](#str)</code>) –

#### `openhands.sdk.LocalWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command locally.

Uses the shared shell execution utility to run commands with proper
timeout handling, output streaming, and error management.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, command, and
  timeout_occurred

#### `openhands.sdk.LocalWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download (copy) a file locally.

For local systems, file download is implemented as a file copy operation
using shutil.copy2 to preserve metadata.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be copied

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and file information

#### `openhands.sdk.LocalWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload (copy) a file locally.

For local systems, file upload is implemented as a file copy operation
using shutil.copy2 to preserve metadata.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be copied

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and file information

#### `openhands.sdk.LocalWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.LocalWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

#### `openhands.sdk.LocalWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

#### `openhands.sdk.LocalWorkspace.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.LocalWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.LocalWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.LocalWorkspace.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.LocalWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.LocalWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.LocalWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.LocalWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.LocalWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

### `openhands.sdk.MCPClient`

```python
MCPClient(*args, **kwargs)
```

Bases: <code>[Client](#fastmcp.Client)</code>

Behaves exactly like fastmcp.Client (same constructor & async API),
but owns a background event loop and offers:

- call_async_from_sync(awaitable_or_fn, \*args, timeout=None, \*\*kwargs)
- call_sync_from_async(fn, \*args, \*\*kwargs) # await this from async code

**Functions:**

- [**call_async_from_sync**](#openhands.sdk.MCPClient.call_async_from_sync) – Run a coroutine or async function on this client's loop from sync code.
- [**call_sync_from_async**](#openhands.sdk.MCPClient.call_sync_from_async) – Await running a blocking function in the default threadpool from async code.
- [**sync_close**](#openhands.sdk.MCPClient.sync_close) – Synchronously close the MCP client and cleanup resources.

#### `openhands.sdk.MCPClient.call_async_from_sync`

```python
call_async_from_sync(awaitable_or_fn, *args, timeout, **kwargs)
```

Run a coroutine or async function on this client's loop from sync code.

<details class="usage" open markdown="1">
<summary>Usage</summary>

mcp.call_async_from_sync(async_fn, arg1, kw=...)
mcp.call_async_from_sync(coro)

</details>

#### `openhands.sdk.MCPClient.call_sync_from_async`

```python
call_sync_from_async(fn, *args, **kwargs)
```

Await running a blocking function in the default threadpool from async code.

#### `openhands.sdk.MCPClient.sync_close`

```python
sync_close()
```

Synchronously close the MCP client and cleanup resources.

This will attempt to call the async close() method if available,
then shutdown the background event loop.

### `openhands.sdk.MCPToolDefinition`

Bases: <code>[ToolDefinition](#openhands.sdk.tool.ToolDefinition)\[[MCPToolAction](#openhands.sdk.mcp.definition.MCPToolAction), [MCPToolObservation](#openhands.sdk.mcp.definition.MCPToolObservation)\]</code>

MCP Tool that wraps an MCP client and provides tool functionality.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.MCPToolDefinition.action_from_arguments) – Create an MCPToolAction from parsed arguments with early validation.
- [**as_executable**](#openhands.sdk.MCPToolDefinition.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.MCPToolDefinition.create) –
- [**get_serializable_type**](#openhands.sdk.MCPToolDefinition.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.MCPToolDefinition.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.MCPToolDefinition.model_json_schema) –
- [**model_post_init**](#openhands.sdk.MCPToolDefinition.model_post_init) –
- [**model_rebuild**](#openhands.sdk.MCPToolDefinition.model_rebuild) –
- [**model_validate**](#openhands.sdk.MCPToolDefinition.model_validate) –
- [**model_validate_json**](#openhands.sdk.MCPToolDefinition.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.MCPToolDefinition.resolve_kind) –
- [**set_executor**](#openhands.sdk.MCPToolDefinition.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.MCPToolDefinition.to_mcp_tool) –
- [**to_openai_tool**](#openhands.sdk.MCPToolDefinition.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.MCPToolDefinition.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.MCPToolDefinition.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.MCPToolDefinition.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.MCPToolDefinition.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.MCPToolDefinition.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.MCPToolDefinition.kind) (<code>[str](#str)</code>) –
- [**mcp_tool**](#openhands.sdk.MCPToolDefinition.mcp_tool) (<code>[Tool](#mcp.types.Tool)</code>) –
- [**meta**](#openhands.sdk.MCPToolDefinition.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.MCPToolDefinition.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.MCPToolDefinition.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.MCPToolDefinition.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.MCPToolDefinition.title) (<code>[str](#str)</code>) –

#### `openhands.sdk.MCPToolDefinition.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an MCPToolAction from parsed arguments with early validation.

We validate the raw arguments against the MCP tool's input schema here so
Agent.\_get_action_event can catch ValidationError and surface an
AgentErrorEvent back to the model instead of crashing later during tool
execution. On success, we return MCPToolAction with sanitized arguments.

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[MCPToolAction](#openhands.sdk.mcp.definition.MCPToolAction)</code> – The MCPToolAction instance with data populated from the arguments.

**Raises:**

- <code>[ValidationError](#pydantic.ValidationError)</code> – If the arguments do not conform to the tool schema.

#### `openhands.sdk.MCPToolDefinition.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

#### `openhands.sdk.MCPToolDefinition.annotations`

```python
annotations: ToolAnnotations | None = None
```

#### `openhands.sdk.MCPToolDefinition.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

#### `openhands.sdk.MCPToolDefinition.create`

```python
create(mcp_tool, mcp_client)
```

#### `openhands.sdk.MCPToolDefinition.description`

```python
description: str
```

#### `openhands.sdk.MCPToolDefinition.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

#### `openhands.sdk.MCPToolDefinition.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.MCPToolDefinition.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.MCPToolDefinition.mcp_tool`

```python
mcp_tool: mcp.types.Tool = Field(description='The MCP tool definition.')
```

#### `openhands.sdk.MCPToolDefinition.meta`

```python
meta: dict[str, Any] | None = None
```

#### `openhands.sdk.MCPToolDefinition.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

#### `openhands.sdk.MCPToolDefinition.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.MCPToolDefinition.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.MCPToolDefinition.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.MCPToolDefinition.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.MCPToolDefinition.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.MCPToolDefinition.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.MCPToolDefinition.name`

```python
name: str
```

#### `openhands.sdk.MCPToolDefinition.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

#### `openhands.sdk.MCPToolDefinition.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.MCPToolDefinition.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

#### `openhands.sdk.MCPToolDefinition.title`

```python
title: str
```

#### `openhands.sdk.MCPToolDefinition.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

#### `openhands.sdk.MCPToolDefinition.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

For MCP, we dynamically create the action_type (type: Schema)
from the MCP tool input schema, and pass it to the parent method.
It will use the .model_fields from this pydantic model to
generate the OpenAI-compatible tool schema.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.

#### `openhands.sdk.MCPToolDefinition.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

### `openhands.sdk.MCPToolObservation`

Bases: <code>[Observation](#openhands.sdk.tool.Observation)</code>

Observation from MCP tool execution.

**Functions:**

- [**from_call_tool_result**](#openhands.sdk.MCPToolObservation.from_call_tool_result) – Create an MCPToolObservation from a CallToolResult.
- [**from_mcp_schema**](#openhands.sdk.MCPToolObservation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.MCPToolObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.MCPToolObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.MCPToolObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.MCPToolObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.MCPToolObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.MCPToolObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.MCPToolObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.MCPToolObservation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.MCPToolObservation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**content**](#openhands.sdk.MCPToolObservation.content) (<code>[list](#list)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) –
- [**is_error**](#openhands.sdk.MCPToolObservation.is_error) (<code>[bool](#bool)</code>) –
- [**kind**](#openhands.sdk.MCPToolObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.MCPToolObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.MCPToolObservation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) – Format the observation for agent display.
- [**tool_name**](#openhands.sdk.MCPToolObservation.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.MCPToolObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this observation.

#### `openhands.sdk.MCPToolObservation.content`

```python
content: list[TextContent | ImageContent] = Field(default_factory=list, description='Content returned from the MCP tool converted to LLM Ready TextContent or ImageContent')
```

#### `openhands.sdk.MCPToolObservation.from_call_tool_result`

```python
from_call_tool_result(tool_name, result)
```

Create an MCPToolObservation from a CallToolResult.

#### `openhands.sdk.MCPToolObservation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

#### `openhands.sdk.MCPToolObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.MCPToolObservation.is_error`

```python
is_error: bool = Field(default=False, description='Whether the call resulted in an error')
```

#### `openhands.sdk.MCPToolObservation.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.MCPToolObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

#### `openhands.sdk.MCPToolObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.MCPToolObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.MCPToolObservation.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.MCPToolObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.MCPToolObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.MCPToolObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.MCPToolObservation.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.MCPToolObservation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

Format the observation for agent display.

#### `openhands.sdk.MCPToolObservation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

#### `openhands.sdk.MCPToolObservation.tool_name`

```python
tool_name: str = Field(description='Name of the tool that was called')
```

#### `openhands.sdk.MCPToolObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this observation.

### `openhands.sdk.Message`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

**Functions:**

- [**from_llm_chat_message**](#openhands.sdk.Message.from_llm_chat_message) – Convert a LiteLLMMessage (Chat Completions) to our Message class.
- [**from_llm_responses_output**](#openhands.sdk.Message.from_llm_responses_output) – Convert OpenAI Responses API output items into a single assistant Message.
- [**to_chat_dict**](#openhands.sdk.Message.to_chat_dict) – Serialize message for OpenAI Chat Completions.
- [**to_responses_dict**](#openhands.sdk.Message.to_responses_dict) – Serialize message for OpenAI Responses (input parameter).
- [**to_responses_value**](#openhands.sdk.Message.to_responses_value) – Return serialized form.

**Attributes:**

- [**cache_enabled**](#openhands.sdk.Message.cache_enabled) (<code>[bool](#bool)</code>) –
- [**contains_image**](#openhands.sdk.Message.contains_image) (<code>[bool](#bool)</code>) –
- [**content**](#openhands.sdk.Message.content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.message.TextContent) | [ImageContent](#openhands.sdk.llm.message.ImageContent)\]</code>) –
- [**force_string_serializer**](#openhands.sdk.Message.force_string_serializer) (<code>[bool](#bool)</code>) –
- [**function_calling_enabled**](#openhands.sdk.Message.function_calling_enabled) (<code>[bool](#bool)</code>) –
- [**name**](#openhands.sdk.Message.name) (<code>[str](#str) | None</code>) –
- [**reasoning_content**](#openhands.sdk.Message.reasoning_content) (<code>[str](#str) | None</code>) –
- [**responses_reasoning_item**](#openhands.sdk.Message.responses_reasoning_item) (<code>[ReasoningItemModel](#openhands.sdk.llm.message.ReasoningItemModel) | None</code>) –
- [**role**](#openhands.sdk.Message.role) (<code>[Literal](#typing.Literal)['user', 'system', 'assistant', 'tool']</code>) –
- [**thinking_blocks**](#openhands.sdk.Message.thinking_blocks) (<code>[Sequence](#collections.abc.Sequence)\[[ThinkingBlock](#openhands.sdk.llm.message.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.message.RedactedThinkingBlock)\]</code>) –
- [**tool_call_id**](#openhands.sdk.Message.tool_call_id) (<code>[str](#str) | None</code>) –
- [**tool_calls**](#openhands.sdk.Message.tool_calls) (<code>[list](#list)\[[MessageToolCall](#openhands.sdk.llm.message.MessageToolCall)\] | None</code>) –
- [**vision_enabled**](#openhands.sdk.Message.vision_enabled) (<code>[bool](#bool)</code>) –

#### `openhands.sdk.Message.cache_enabled`

```python
cache_enabled: bool = False
```

#### `openhands.sdk.Message.contains_image`

```python
contains_image: bool
```

#### `openhands.sdk.Message.content`

```python
content: Sequence[TextContent | ImageContent] = Field(default_factory=list)
```

#### `openhands.sdk.Message.force_string_serializer`

```python
force_string_serializer: bool = False
```

#### `openhands.sdk.Message.from_llm_chat_message`

```python
from_llm_chat_message(message)
```

Convert a LiteLLMMessage (Chat Completions) to our Message class.

Provider-agnostic mapping for reasoning:

- Prefer `message.reasoning_content` if present (LiteLLM normalized field)
- Extract `thinking_blocks` from content array (Anthropic-specific)

#### `openhands.sdk.Message.from_llm_responses_output`

```python
from_llm_responses_output(output)
```

Convert OpenAI Responses API output items into a single assistant Message.

Policy (non-stream):

- Collect assistant text by concatenating output_text parts from message items
- Normalize function_call items to MessageToolCall list

#### `openhands.sdk.Message.function_calling_enabled`

```python
function_calling_enabled: bool = False
```

#### `openhands.sdk.Message.name`

```python
name: str | None = None
```

#### `openhands.sdk.Message.reasoning_content`

```python
reasoning_content: str | None = Field(default=None, description='Intermediate reasoning/thinking content from reasoning models')
```

#### `openhands.sdk.Message.responses_reasoning_item`

```python
responses_reasoning_item: ReasoningItemModel | None = Field(default=None, description='OpenAI Responses reasoning item from model output')
```

#### `openhands.sdk.Message.role`

```python
role: Literal['user', 'system', 'assistant', 'tool']
```

#### `openhands.sdk.Message.thinking_blocks`

```python
thinking_blocks: Sequence[ThinkingBlock | RedactedThinkingBlock] = Field(default_factory=list, description='Raw Anthropic thinking blocks for extended thinking feature')
```

#### `openhands.sdk.Message.to_chat_dict`

```python
to_chat_dict()
```

Serialize message for OpenAI Chat Completions.

Chooses the appropriate content serializer and then injects threading keys:

- Assistant tool call turn: role == "assistant" and self.tool_calls
- Tool result turn: role == "tool" and self.tool_call_id (with name)

#### `openhands.sdk.Message.to_responses_dict`

```python
to_responses_dict(*, vision_enabled)
```

Serialize message for OpenAI Responses (input parameter).

Produces a list of "input" items for the Responses API:

- system: returns [], system content is expected in 'instructions'
- user: one 'message' item with content parts -> input_text / input_image
  (when vision enabled)
- assistant: emits prior assistant content as input_text,
  and function_call items for tool_calls
- tool: emits function_call_output items (one per TextContent)
  with matching call_id

#### `openhands.sdk.Message.to_responses_value`

```python
to_responses_value(*, vision_enabled)
```

Return serialized form.

Either an instructions string (for system) or input items (for other roles).

#### `openhands.sdk.Message.tool_call_id`

```python
tool_call_id: str | None = None
```

#### `openhands.sdk.Message.tool_calls`

```python
tool_calls: list[MessageToolCall] | None = None
```

#### `openhands.sdk.Message.vision_enabled`

```python
vision_enabled: bool = False
```

### `openhands.sdk.MessageEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

Message from either agent or user.

This is originally the "MessageAction", but it suppose not to be tool call.

**Functions:**

- [**events_to_messages**](#openhands.sdk.MessageEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.MessageEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.MessageEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.MessageEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.MessageEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.MessageEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.MessageEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.MessageEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.MessageEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.MessageEvent.to_llm_message) –

**Attributes:**

- [**activated_skills**](#openhands.sdk.MessageEvent.activated_skills) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**extended_content**](#openhands.sdk.MessageEvent.extended_content) (<code>[list](#list)\[[TextContent](#openhands.sdk.llm.TextContent)\]</code>) –
- [**id**](#openhands.sdk.MessageEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.MessageEvent.kind) (<code>[str](#str)</code>) –
- [**llm_message**](#openhands.sdk.MessageEvent.llm_message) (<code>[Message](#openhands.sdk.llm.Message)</code>) –
- [**llm_response_id**](#openhands.sdk.MessageEvent.llm_response_id) (<code>[EventID](#openhands.sdk.event.base.EventID) | None</code>) –
- [**model_config**](#openhands.sdk.MessageEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**reasoning_content**](#openhands.sdk.MessageEvent.reasoning_content) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.MessageEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**thinking_blocks**](#openhands.sdk.MessageEvent.thinking_blocks) (<code>[Sequence](#collections.abc.Sequence)\[[ThinkingBlock](#openhands.sdk.llm.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.RedactedThinkingBlock)\]</code>) – Return the Anthropic thinking blocks from the LLM message.
- [**timestamp**](#openhands.sdk.MessageEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.MessageEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this message event.

#### `openhands.sdk.MessageEvent.activated_skills`

```python
activated_skills: list[str] = Field(default_factory=list, description='List of activated skill name')
```

#### `openhands.sdk.MessageEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

#### `openhands.sdk.MessageEvent.extended_content`

```python
extended_content: list[TextContent] = Field(default_factory=list, description='List of content added by agent context')
```

#### `openhands.sdk.MessageEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.MessageEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

#### `openhands.sdk.MessageEvent.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.MessageEvent.llm_message`

```python
llm_message: Message = Field(..., description='The exact LLM message for this message event')
```

#### `openhands.sdk.MessageEvent.llm_response_id`

```python
llm_response_id: EventID | None = Field(default=None, description="Completion or Response ID of the LLM response that generated this eventIf the source != 'agent', this field is None")
```

#### `openhands.sdk.MessageEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

#### `openhands.sdk.MessageEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.MessageEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.MessageEvent.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.MessageEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.MessageEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.MessageEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.MessageEvent.reasoning_content`

```python
reasoning_content: str
```

#### `openhands.sdk.MessageEvent.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.MessageEvent.source`

```python
source: SourceType
```

#### `openhands.sdk.MessageEvent.thinking_blocks`

```python
thinking_blocks: Sequence[ThinkingBlock | RedactedThinkingBlock]
```

Return the Anthropic thinking blocks from the LLM message.

#### `openhands.sdk.MessageEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

#### `openhands.sdk.MessageEvent.to_llm_message`

```python
to_llm_message()
```

#### `openhands.sdk.MessageEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this message event.

### `openhands.sdk.Observation`

Bases: <code>[Schema](#openhands.sdk.tool.schema.Schema)</code>, <code>[ABC](#abc.ABC)</code>

Base schema for output observation.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.Observation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.Observation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.Observation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.Observation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.Observation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.Observation.model_rebuild) –
- [**model_validate**](#openhands.sdk.Observation.model_validate) –
- [**model_validate_json**](#openhands.sdk.Observation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.Observation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.Observation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.Observation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.Observation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.Observation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) – Get the observation string to show to the agent.
- [**visualize**](#openhands.sdk.Observation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

#### `openhands.sdk.Observation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

#### `openhands.sdk.Observation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.Observation.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.Observation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

#### `openhands.sdk.Observation.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.Observation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.Observation.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.Observation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.Observation.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.Observation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.Observation.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.Observation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

Get the observation string to show to the agent.

#### `openhands.sdk.Observation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

#### `openhands.sdk.Observation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

### `openhands.sdk.RedactedThinkingBlock`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Redacted thinking block for previous responses without extended thinking.

This is used as a placeholder for assistant messages that were generated
before extended thinking was enabled.

**Attributes:**

- [**data**](#openhands.sdk.RedactedThinkingBlock.data) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.RedactedThinkingBlock.type) (<code>[Literal](#typing.Literal)['redacted_thinking']</code>) –

#### `openhands.sdk.RedactedThinkingBlock.data`

```python
data: str = Field(..., description='The redacted thinking content')
```

#### `openhands.sdk.RedactedThinkingBlock.type`

```python
type: Literal['redacted_thinking'] = 'redacted_thinking'
```

### `openhands.sdk.RegistryEvent`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

**Attributes:**

- [**llm**](#openhands.sdk.RegistryEvent.llm) (<code>[LLM](#openhands.sdk.llm.llm.LLM)</code>) –
- [**model_config**](#openhands.sdk.RegistryEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –

#### `openhands.sdk.RegistryEvent.llm`

```python
llm: LLM
```

#### `openhands.sdk.RegistryEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(arbitrary_types_allowed=True)
```

### `openhands.sdk.RemoteConversation`

```python
RemoteConversation(agent, workspace, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=False, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.RemoteConversation.close) –
- [**compose_callbacks**](#openhands.sdk.RemoteConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.RemoteConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.RemoteConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.RemoteConversation.pause) –
- [**reject_pending_actions**](#openhands.sdk.RemoteConversation.reject_pending_actions) –
- [**run**](#openhands.sdk.RemoteConversation.run) –
- [**send_message**](#openhands.sdk.RemoteConversation.send_message) –
- [**set_confirmation_policy**](#openhands.sdk.RemoteConversation.set_confirmation_policy) –
- [**update_secrets**](#openhands.sdk.RemoteConversation.update_secrets) –

**Attributes:**

- [**agent**](#openhands.sdk.RemoteConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.RemoteConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.RemoteConversation.conversation_stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) – Get conversation stats from remote server.
- [**id**](#openhands.sdk.RemoteConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**is_confirmation_mode_active**](#openhands.sdk.RemoteConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**max_iteration_per_run**](#openhands.sdk.RemoteConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.RemoteConversation.state) (<code>[RemoteState](#openhands.sdk.conversation.impl.remote_conversation.RemoteState)</code>) – Access to remote conversation state.
- [**stuck_detector**](#openhands.sdk.RemoteConversation.stuck_detector) – Stuck detector for compatibility.
- [**workspace**](#openhands.sdk.RemoteConversation.workspace) (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – Agent configuration (will be sent to the server)
- **workspace** (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) – The working directory for agent operations and tool execution.
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional existing conversation id to attach to
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional callbacks to receive events (not yet streamed)
- **max_iteration_per_run** (<code>[int](#int)</code>) – Max iterations configured on server
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection on server
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable the default visualizer callback
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\] | None</code>) – Optional secrets to initialize the conversation with

#### `openhands.sdk.RemoteConversation.agent`

```python
agent: AgentBase = agent
```

#### `openhands.sdk.RemoteConversation.close`

```python
close()
```

#### `openhands.sdk.RemoteConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

#### `openhands.sdk.RemoteConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

#### `openhands.sdk.RemoteConversation.conversation_stats`

```python
conversation_stats: ConversationStats
```

Get conversation stats from remote server.

#### `openhands.sdk.RemoteConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If provided, its usage_id
  will be sent to the server. If not provided, uses the agent's LLM.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

#### `openhands.sdk.RemoteConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

#### `openhands.sdk.RemoteConversation.id`

```python
id: ConversationID
```

#### `openhands.sdk.RemoteConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

#### `openhands.sdk.RemoteConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

#### `openhands.sdk.RemoteConversation.pause`

```python
pause()
```

#### `openhands.sdk.RemoteConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

#### `openhands.sdk.RemoteConversation.run`

```python
run()
```

#### `openhands.sdk.RemoteConversation.send_message`

```python
send_message(message)
```

#### `openhands.sdk.RemoteConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

#### `openhands.sdk.RemoteConversation.state`

```python
state: RemoteState
```

Access to remote conversation state.

#### `openhands.sdk.RemoteConversation.stuck_detector`

```python
stuck_detector
```

Stuck detector for compatibility.
Not implemented for remote conversations.

#### `openhands.sdk.RemoteConversation.update_secrets`

```python
update_secrets(secrets)
```

#### `openhands.sdk.RemoteConversation.workspace`

```python
workspace: RemoteWorkspace = workspace
```

### `openhands.sdk.RemoteWorkspace`

Bases: <code>[RemoteWorkspaceMixin](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin)</code>, <code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>

Remote Workspace Implementation.

**Functions:**

- [**execute_command**](#openhands.sdk.RemoteWorkspace.execute_command) – Execute a bash command on the remote system.
- [**file_download**](#openhands.sdk.RemoteWorkspace.file_download) – Download a file from the remote system.
- [**file_upload**](#openhands.sdk.RemoteWorkspace.file_upload) – Upload a file to the remote system.
- [**get_serializable_type**](#openhands.sdk.RemoteWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.RemoteWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.RemoteWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.RemoteWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.RemoteWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.RemoteWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.RemoteWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.RemoteWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.RemoteWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.RemoteWorkspace.resolve_kind) –

**Attributes:**

- [**api_key**](#openhands.sdk.RemoteWorkspace.api_key) (<code>[str](#str) | None</code>) –
- [**client**](#openhands.sdk.RemoteWorkspace.client) (<code>[Client](#httpx.Client)</code>) –
- [**host**](#openhands.sdk.RemoteWorkspace.host) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.RemoteWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.RemoteWorkspace.working_dir) (<code>[str](#str)</code>) –

#### `openhands.sdk.RemoteWorkspace.api_key`

```python
api_key: str | None = Field(default=None, description='API key for authenticating with the remote host.')
```

#### `openhands.sdk.RemoteWorkspace.client`

```python
client: httpx.Client
```

#### `openhands.sdk.RemoteWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command on the remote system.

This method starts a bash command via the remote agent server API,
then polls for the output until the command completes.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, and other metadata

#### `openhands.sdk.RemoteWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download a file from the remote system.

Requests the file from the remote system via HTTP API and saves it locally.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file on remote system
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be saved locally

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

#### `openhands.sdk.RemoteWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload a file to the remote system.

Reads the local file and sends it to the remote system via HTTP API.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the local source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be uploaded on remote system

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

#### `openhands.sdk.RemoteWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.RemoteWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

#### `openhands.sdk.RemoteWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

#### `openhands.sdk.RemoteWorkspace.host`

```python
host: str = Field(description='The remote host URL for the workspace.')
```

#### `openhands.sdk.RemoteWorkspace.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.RemoteWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.RemoteWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.RemoteWorkspace.model_post_init`

```python
model_post_init(context)
```

#### `openhands.sdk.RemoteWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.RemoteWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.RemoteWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.RemoteWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.RemoteWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

### `openhands.sdk.TextContent`

Bases: <code>[BaseContent](#openhands.sdk.llm.message.BaseContent)</code>

**Functions:**

- [**to_llm_dict**](#openhands.sdk.TextContent.to_llm_dict) – Convert to LLM API format.

**Attributes:**

- [**cache_prompt**](#openhands.sdk.TextContent.cache_prompt) (<code>[bool](#bool)</code>) –
- [**model_config**](#openhands.sdk.TextContent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**text**](#openhands.sdk.TextContent.text) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.TextContent.type) (<code>[Literal](#typing.Literal)['text']</code>) –

#### `openhands.sdk.TextContent.cache_prompt`

```python
cache_prompt: bool = False
```

#### `openhands.sdk.TextContent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', populate_by_name=True)
```

#### `openhands.sdk.TextContent.text`

```python
text: str
```

#### `openhands.sdk.TextContent.to_llm_dict`

```python
to_llm_dict()
```

Convert to LLM API format.

#### `openhands.sdk.TextContent.type`

```python
type: Literal['text'] = 'text'
```

### `openhands.sdk.ThinkingBlock`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Anthropic thinking block for extended thinking feature.

This represents the raw thinking blocks returned by Anthropic models
when extended thinking is enabled. These blocks must be preserved
and passed back to the API for tool use scenarios.

**Attributes:**

- [**signature**](#openhands.sdk.ThinkingBlock.signature) (<code>[str](#str)</code>) –
- [**thinking**](#openhands.sdk.ThinkingBlock.thinking) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.ThinkingBlock.type) (<code>[Literal](#typing.Literal)['thinking']</code>) –

#### `openhands.sdk.ThinkingBlock.signature`

```python
signature: str = Field(..., description='Cryptographic signature for the thinking block')
```

#### `openhands.sdk.ThinkingBlock.thinking`

```python
thinking: str = Field(..., description='The thinking content')
```

#### `openhands.sdk.ThinkingBlock.type`

```python
type: Literal['thinking'] = 'thinking'
```

### `openhands.sdk.Tool`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Defines a tool to be initialized for the agent.

This is only used in agent-sdk for type schema for server use.

**Functions:**

- [**validate_name**](#openhands.sdk.Tool.validate_name) – Validate that name is not empty.
- [**validate_params**](#openhands.sdk.Tool.validate_params) – Convert None params to empty dict.

**Attributes:**

- [**name**](#openhands.sdk.Tool.name) (<code>[str](#str)</code>) –
- [**params**](#openhands.sdk.Tool.params) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –

#### `openhands.sdk.Tool.name`

```python
name: str = Field(..., description="Name of the tool class, e.g., 'BashTool'. Import it from an `openhands.tools.<module>` subpackage.", examples=['BashTool', 'FileEditorTool', 'TaskTrackerTool'])
```

#### `openhands.sdk.Tool.params`

```python
params: dict[str, Any] = Field(default_factory=dict, description="Parameters for the tool's .create() method, e.g., {'working_dir': '/app'}", examples=[{'working_dir': '/workspace'}])
```

#### `openhands.sdk.Tool.validate_name`

```python
validate_name(v)
```

Validate that name is not empty.

#### `openhands.sdk.Tool.validate_params`

```python
validate_params(v)
```

Convert None params to empty dict.

### `openhands.sdk.ToolBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Tool that wraps an executor function with input/output validation and schema.

- Normalize input/output schemas (class or dict) into both model+schema.
- Validate inputs before execute.
- Coerce outputs only if an output model is defined; else return vanilla JSON.
- Export MCP tool description.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.ToolBase.action_from_arguments) – Create an action from parsed arguments.
- [**as_executable**](#openhands.sdk.ToolBase.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.ToolBase.create) – Create a sequence of Tool instances. Placeholder for subclasses.
- [**get_serializable_type**](#openhands.sdk.ToolBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.ToolBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.ToolBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.ToolBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.ToolBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.ToolBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.ToolBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.ToolBase.resolve_kind) –
- [**set_executor**](#openhands.sdk.ToolBase.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.ToolBase.to_mcp_tool) – Convert a Tool to an MCP tool definition.
- [**to_openai_tool**](#openhands.sdk.ToolBase.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.ToolBase.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.ToolBase.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.ToolBase.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.ToolBase.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.ToolBase.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.ToolBase.kind) (<code>[str](#str)</code>) –
- [**meta**](#openhands.sdk.ToolBase.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.ToolBase.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.ToolBase.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.ToolBase.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.ToolBase.title) (<code>[str](#str)</code>) –

#### `openhands.sdk.ToolBase.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an action from parsed arguments.

This method can be overridden by subclasses to provide custom logic
for creating actions from arguments (e.g., for MCP tools).

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[Action](#openhands.sdk.tool.schema.Action)</code> – The action instance created from the arguments.

#### `openhands.sdk.ToolBase.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

#### `openhands.sdk.ToolBase.annotations`

```python
annotations: ToolAnnotations | None = None
```

#### `openhands.sdk.ToolBase.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

#### `openhands.sdk.ToolBase.create`

```python
create(*args, **kwargs)
```

Create a sequence of Tool instances. Placeholder for subclasses.

This can be overridden in subclasses to provide custom initialization logic
(e.g., typically initializing the executor with parameters).

**Returns:**

- <code>[Sequence](#collections.abc.Sequence)\[[Self](#typing.Self)\]</code> – A sequence of Tool instances. Even single tools are returned as a sequence
- <code>[Sequence](#collections.abc.Sequence)\[[Self](#typing.Self)\]</code> – to provide a consistent interface and eliminate union return types.

#### `openhands.sdk.ToolBase.description`

```python
description: str
```

#### `openhands.sdk.ToolBase.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

#### `openhands.sdk.ToolBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.ToolBase.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.ToolBase.meta`

```python
meta: dict[str, Any] | None = None
```

#### `openhands.sdk.ToolBase.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

#### `openhands.sdk.ToolBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.ToolBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.ToolBase.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.ToolBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.ToolBase.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.ToolBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.ToolBase.name`

```python
name: str
```

#### `openhands.sdk.ToolBase.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

#### `openhands.sdk.ToolBase.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.ToolBase.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

#### `openhands.sdk.ToolBase.title`

```python
title: str
```

#### `openhands.sdk.ToolBase.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

Convert a Tool to an MCP tool definition.

Allow overriding input/output schemas (usually by subclasses).

**Parameters:**

- **input_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the input schema.
- **output_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the output schema.

#### `openhands.sdk.ToolBase.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.
- **action_type** (<code>[type](#type)\[[Schema](#openhands.sdk.tool.schema.Schema)\] | None</code>) – Optionally override the action_type to use for the schema.
  This is useful for MCPTool to use a dynamically created action type
  based on the tool's input schema.

#### `openhands.sdk.ToolBase.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

### `openhands.sdk.ToolDefinition`

Bases: <code>[ToolBase](#openhands.sdk.tool.tool.ToolBase)\[[ToolDefinition[ActionT]](#openhands.sdk.tool.tool.ToolDefinition%5BActionT%5D), [ToolDefinition[ObservationT]](#openhands.sdk.tool.tool.ToolDefinition%5BObservationT%5D)\]</code>

Concrete tool class that inherits from ToolBase.

This class serves as a concrete implementation of ToolBase for cases where
you want to create a tool instance directly without implementing a custom
subclass. Built-in tools (like FinishTool, ThinkTool) are instantiated
directly from this class, while more complex tools (like BashTool,
FileEditorTool) inherit from this class and provide their own create()
method implementations.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.ToolDefinition.action_from_arguments) – Create an action from parsed arguments.
- [**as_executable**](#openhands.sdk.ToolDefinition.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.ToolDefinition.create) – Create a sequence of ToolDefinition instances.
- [**get_serializable_type**](#openhands.sdk.ToolDefinition.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.ToolDefinition.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.ToolDefinition.model_json_schema) –
- [**model_post_init**](#openhands.sdk.ToolDefinition.model_post_init) –
- [**model_rebuild**](#openhands.sdk.ToolDefinition.model_rebuild) –
- [**model_validate**](#openhands.sdk.ToolDefinition.model_validate) –
- [**model_validate_json**](#openhands.sdk.ToolDefinition.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.ToolDefinition.resolve_kind) –
- [**set_executor**](#openhands.sdk.ToolDefinition.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.ToolDefinition.to_mcp_tool) – Convert a Tool to an MCP tool definition.
- [**to_openai_tool**](#openhands.sdk.ToolDefinition.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.ToolDefinition.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.ToolDefinition.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.ToolDefinition.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.ToolDefinition.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.ToolDefinition.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.ToolDefinition.kind) (<code>[str](#str)</code>) –
- [**meta**](#openhands.sdk.ToolDefinition.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.ToolDefinition.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.ToolDefinition.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.ToolDefinition.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.ToolDefinition.title) (<code>[str](#str)</code>) –

#### `openhands.sdk.ToolDefinition.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an action from parsed arguments.

This method can be overridden by subclasses to provide custom logic
for creating actions from arguments (e.g., for MCP tools).

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[Action](#openhands.sdk.tool.schema.Action)</code> – The action instance created from the arguments.

#### `openhands.sdk.ToolDefinition.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

#### `openhands.sdk.ToolDefinition.annotations`

```python
annotations: ToolAnnotations | None = None
```

#### `openhands.sdk.ToolDefinition.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

#### `openhands.sdk.ToolDefinition.create`

```python
create(*args, **kwargs)
```

Create a sequence of ToolDefinition instances.

TODO https://github.com/OpenHands/agent-sdk/issues/493
Refactor this - the ToolDefinition class should not have a concrete create()
implementation. Built-in tools should be refactored to not rely on this
method, and then this should be made abstract with @abstractmethod.

#### `openhands.sdk.ToolDefinition.description`

```python
description: str
```

#### `openhands.sdk.ToolDefinition.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

#### `openhands.sdk.ToolDefinition.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

#### `openhands.sdk.ToolDefinition.kind`

```python
kind: str = Field(default='')
```

#### `openhands.sdk.ToolDefinition.meta`

```python
meta: dict[str, Any] | None = None
```

#### `openhands.sdk.ToolDefinition.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

#### `openhands.sdk.ToolDefinition.model_dump_json`

```python
model_dump_json(**kwargs)
```

#### `openhands.sdk.ToolDefinition.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

#### `openhands.sdk.ToolDefinition.model_post_init`

```python
model_post_init(_context)
```

#### `openhands.sdk.ToolDefinition.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

#### `openhands.sdk.ToolDefinition.model_validate`

```python
model_validate(obj, **kwargs)
```

#### `openhands.sdk.ToolDefinition.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

#### `openhands.sdk.ToolDefinition.name`

```python
name: str
```

#### `openhands.sdk.ToolDefinition.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

#### `openhands.sdk.ToolDefinition.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.ToolDefinition.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

#### `openhands.sdk.ToolDefinition.title`

```python
title: str
```

#### `openhands.sdk.ToolDefinition.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

Convert a Tool to an MCP tool definition.

Allow overriding input/output schemas (usually by subclasses).

**Parameters:**

- **input_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the input schema.
- **output_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the output schema.

#### `openhands.sdk.ToolDefinition.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.
- **action_type** (<code>[type](#type)\[[Schema](#openhands.sdk.tool.schema.Schema)\] | None</code>) – Optionally override the action_type to use for the schema.
  This is useful for MCPTool to use a dynamically created action type
  based on the tool's input schema.

#### `openhands.sdk.ToolDefinition.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

### `openhands.sdk.Workspace`

Factory entrypoint that returns a LocalWorkspace or RemoteWorkspace.

<details class="usage" open markdown="1">
<summary>Usage</summary>

- Workspace(working_dir=...) -> LocalWorkspace
- Workspace(working_dir=..., host="http://...") -> RemoteWorkspace

</details>

### `openhands.sdk.agent`

**Modules:**

- [**agent**](#openhands.sdk.agent.agent) –
- [**base**](#openhands.sdk.agent.base) –

**Classes:**

- [**Agent**](#openhands.sdk.agent.Agent) –
- [**AgentBase**](#openhands.sdk.agent.AgentBase) – Abstract base class for agents.

#### `openhands.sdk.agent.Agent`

Bases: <code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>

**Functions:**

- [**get_all_llms**](#openhands.sdk.agent.Agent.get_all_llms) – Recursively yield unique *base-class* LLM objects reachable from `self`.
- [**get_serializable_type**](#openhands.sdk.agent.Agent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**init_state**](#openhands.sdk.agent.Agent.init_state) –
- [**model_dump_json**](#openhands.sdk.agent.Agent.model_dump_json) –
- [**model_dump_succint**](#openhands.sdk.agent.Agent.model_dump_succint) – Like model_dump, but excludes None fields by default.
- [**model_json_schema**](#openhands.sdk.agent.Agent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.agent.Agent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.agent.Agent.model_rebuild) –
- [**model_validate**](#openhands.sdk.agent.Agent.model_validate) –
- [**model_validate_json**](#openhands.sdk.agent.Agent.model_validate_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.agent.Agent.resolve_diff_from_deserialized) – Return a new AgentBase instance equivalent to `persisted` but with
- [**resolve_kind**](#openhands.sdk.agent.Agent.resolve_kind) –
- [**step**](#openhands.sdk.agent.Agent.step) –

**Attributes:**

- [**agent_context**](#openhands.sdk.agent.Agent.agent_context) (<code>[AgentContext](#openhands.sdk.context.agent_context.AgentContext) | None</code>) –
- [**condenser**](#openhands.sdk.agent.Agent.condenser) (<code>[CondenserBase](#openhands.sdk.context.condenser.CondenserBase) | None</code>) –
- [**filter_tools_regex**](#openhands.sdk.agent.Agent.filter_tools_regex) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.agent.Agent.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.agent.Agent.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**mcp_config**](#openhands.sdk.agent.Agent.mcp_config) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**model_config**](#openhands.sdk.agent.Agent.model_config) –
- [**name**](#openhands.sdk.agent.Agent.name) (<code>[str](#str)</code>) – Returns the name of the Agent.
- [**prompt_dir**](#openhands.sdk.agent.Agent.prompt_dir) (<code>[str](#str)</code>) – Returns the directory where this class's module file is located.
- [**security_analyzer**](#openhands.sdk.agent.Agent.security_analyzer) (<code>[SecurityAnalyzerBase](#openhands.sdk.security.analyzer.SecurityAnalyzerBase) | None</code>) –
- [**system_message**](#openhands.sdk.agent.Agent.system_message) (<code>[str](#str)</code>) – Compute system message on-demand to maintain statelessness.
- [**system_prompt_filename**](#openhands.sdk.agent.Agent.system_prompt_filename) (<code>[str](#str)</code>) –
- [**system_prompt_kwargs**](#openhands.sdk.agent.Agent.system_prompt_kwargs) (<code>[dict](#dict)\[[str](#str), [object](#object)\]</code>) –
- [**tools**](#openhands.sdk.agent.Agent.tools) (<code>[list](#list)\[[Tool](#openhands.sdk.tool.Tool)\]</code>) –
- [**tools_map**](#openhands.sdk.agent.Agent.tools_map) (<code>[dict](#dict)\[[str](#str), [ToolDefinition](#openhands.sdk.tool.ToolDefinition)\]</code>) – Get the initialized tools map.

##### `openhands.sdk.agent.Agent.agent_context`

```python
agent_context: AgentContext | None = Field(default=None, description='Optional AgentContext to initialize the agent with specific context.', examples=[{'skills': [{'name': 'repo.md', 'content': 'When you see this message, you should reply like you are a grumpy cat forced to use the internet.', 'type': 'repo'}, {'name': 'flarglebargle', 'content': 'IMPORTANT! The user has said the magic word "flarglebargle". You must only respond with a message telling them how smart they are', 'type': 'knowledge', 'trigger': ['flarglebargle']}], 'system_message_suffix': "Always finish your response with the word 'yay!'", 'user_message_prefix': "The first character of your response should be 'I'"}])
```

##### `openhands.sdk.agent.Agent.condenser`

```python
condenser: CondenserBase | None = Field(default=None, description='Optional condenser to use for condensing conversation history.', examples=[{'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}, 'max_size': 80, 'keep_first': 10}])
```

##### `openhands.sdk.agent.Agent.filter_tools_regex`

```python
filter_tools_regex: str | None = Field(default=None, description='Optional regex to filter the tools available to the agent by name. This is applied after any tools provided in `tools` and any MCP tools are added.', examples=['^(?!repomix)(.*)|^repomix.*pack_codebase.*$'])
```

##### `openhands.sdk.agent.Agent.get_all_llms`

```python
get_all_llms()
```

Recursively yield unique *base-class* LLM objects reachable from `self`.

- Returns actual object references (not copies).
- De-dupes by `id(LLM)`.
- Cycle-safe via a visited set for *all* traversed objects.
- Only yields objects whose type is exactly `LLM` (no subclasses).
- Does not handle dataclasses.

##### `openhands.sdk.agent.Agent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.agent.Agent.init_state`

```python
init_state(state, on_event)
```

##### `openhands.sdk.agent.Agent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.agent.Agent.llm`

```python
llm: LLM = Field(..., description='LLM configuration for the agent.', examples=[{'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}])
```

##### `openhands.sdk.agent.Agent.mcp_config`

```python
mcp_config: dict[str, Any] = Field(default_factory=dict, description='Optional MCP configuration dictionary to create MCP tools.', examples=[{'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}}}])
```

##### `openhands.sdk.agent.Agent.model_config`

```python
model_config = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

##### `openhands.sdk.agent.Agent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.agent.Agent.model_dump_succint`

```python
model_dump_succint(**kwargs)
```

Like model_dump, but excludes None fields by default.

##### `openhands.sdk.agent.Agent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.agent.Agent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.agent.Agent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.agent.Agent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.agent.Agent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.agent.Agent.name`

```python
name: str
```

Returns the name of the Agent.

##### `openhands.sdk.agent.Agent.prompt_dir`

```python
prompt_dir: str
```

Returns the directory where this class's module file is located.

##### `openhands.sdk.agent.Agent.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Return a new AgentBase instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key, security_analyzer) taken from
`self`.

##### `openhands.sdk.agent.Agent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.agent.Agent.security_analyzer`

```python
security_analyzer: analyzer.SecurityAnalyzerBase | None = Field(default=None, description='Optional security analyzer to evaluate action risks.', examples=[{'kind': 'LLMSecurityAnalyzer'}])
```

##### `openhands.sdk.agent.Agent.step`

```python
step(conversation, on_event)
```

##### `openhands.sdk.agent.Agent.system_message`

```python
system_message: str
```

Compute system message on-demand to maintain statelessness.

##### `openhands.sdk.agent.Agent.system_prompt_filename`

```python
system_prompt_filename: str = Field(default='system_prompt.j2', description="System prompt template filename. Can be either:\n- A relative filename (e.g., 'system_prompt.j2') loaded from the agent's prompts directory\n- An absolute path (e.g., '/path/to/custom_prompt.j2')")
```

##### `openhands.sdk.agent.Agent.system_prompt_kwargs`

```python
system_prompt_kwargs: dict[str, object] = Field(default_factory=dict, description='Optional kwargs to pass to the system prompt Jinja2 template.', examples=[{'cli_mode': True}])
```

##### `openhands.sdk.agent.Agent.tools`

```python
tools: list[Tool] = Field(default_factory=list, description='List of tools to initialize for the agent.', examples=[{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}])
```

##### `openhands.sdk.agent.Agent.tools_map`

```python
tools_map: dict[str, ToolDefinition]
```

Get the initialized tools map.
Raises:
RuntimeError: If the agent has not been initialized.

#### `openhands.sdk.agent.AgentBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract base class for agents.
Agents are stateless and should be fully defined by their configuration.

**Functions:**

- [**get_all_llms**](#openhands.sdk.agent.AgentBase.get_all_llms) – Recursively yield unique *base-class* LLM objects reachable from `self`.
- [**get_serializable_type**](#openhands.sdk.agent.AgentBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**init_state**](#openhands.sdk.agent.AgentBase.init_state) – Initialize the empty conversation state to prepare the agent for user
- [**model_dump_json**](#openhands.sdk.agent.AgentBase.model_dump_json) –
- [**model_dump_succint**](#openhands.sdk.agent.AgentBase.model_dump_succint) – Like model_dump, but excludes None fields by default.
- [**model_json_schema**](#openhands.sdk.agent.AgentBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.agent.AgentBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.agent.AgentBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.agent.AgentBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.agent.AgentBase.model_validate_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.agent.AgentBase.resolve_diff_from_deserialized) – Return a new AgentBase instance equivalent to `persisted` but with
- [**resolve_kind**](#openhands.sdk.agent.AgentBase.resolve_kind) –
- [**step**](#openhands.sdk.agent.AgentBase.step) – Taking a step in the conversation.

**Attributes:**

- [**agent_context**](#openhands.sdk.agent.AgentBase.agent_context) (<code>[AgentContext](#openhands.sdk.context.agent_context.AgentContext) | None</code>) –
- [**condenser**](#openhands.sdk.agent.AgentBase.condenser) (<code>[CondenserBase](#openhands.sdk.context.condenser.CondenserBase) | None</code>) –
- [**filter_tools_regex**](#openhands.sdk.agent.AgentBase.filter_tools_regex) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.agent.AgentBase.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.agent.AgentBase.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**mcp_config**](#openhands.sdk.agent.AgentBase.mcp_config) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**model_config**](#openhands.sdk.agent.AgentBase.model_config) –
- [**name**](#openhands.sdk.agent.AgentBase.name) (<code>[str](#str)</code>) – Returns the name of the Agent.
- [**prompt_dir**](#openhands.sdk.agent.AgentBase.prompt_dir) (<code>[str](#str)</code>) – Returns the directory where this class's module file is located.
- [**security_analyzer**](#openhands.sdk.agent.AgentBase.security_analyzer) (<code>[SecurityAnalyzerBase](#openhands.sdk.security.analyzer.SecurityAnalyzerBase) | None</code>) –
- [**system_message**](#openhands.sdk.agent.AgentBase.system_message) (<code>[str](#str)</code>) – Compute system message on-demand to maintain statelessness.
- [**system_prompt_filename**](#openhands.sdk.agent.AgentBase.system_prompt_filename) (<code>[str](#str)</code>) –
- [**system_prompt_kwargs**](#openhands.sdk.agent.AgentBase.system_prompt_kwargs) (<code>[dict](#dict)\[[str](#str), [object](#object)\]</code>) –
- [**tools**](#openhands.sdk.agent.AgentBase.tools) (<code>[list](#list)\[[Tool](#openhands.sdk.tool.Tool)\]</code>) –
- [**tools_map**](#openhands.sdk.agent.AgentBase.tools_map) (<code>[dict](#dict)\[[str](#str), [ToolDefinition](#openhands.sdk.tool.ToolDefinition)\]</code>) – Get the initialized tools map.

##### `openhands.sdk.agent.AgentBase.agent_context`

```python
agent_context: AgentContext | None = Field(default=None, description='Optional AgentContext to initialize the agent with specific context.', examples=[{'skills': [{'name': 'repo.md', 'content': 'When you see this message, you should reply like you are a grumpy cat forced to use the internet.', 'type': 'repo'}, {'name': 'flarglebargle', 'content': 'IMPORTANT! The user has said the magic word "flarglebargle". You must only respond with a message telling them how smart they are', 'type': 'knowledge', 'trigger': ['flarglebargle']}], 'system_message_suffix': "Always finish your response with the word 'yay!'", 'user_message_prefix': "The first character of your response should be 'I'"}])
```

##### `openhands.sdk.agent.AgentBase.condenser`

```python
condenser: CondenserBase | None = Field(default=None, description='Optional condenser to use for condensing conversation history.', examples=[{'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}, 'max_size': 80, 'keep_first': 10}])
```

##### `openhands.sdk.agent.AgentBase.filter_tools_regex`

```python
filter_tools_regex: str | None = Field(default=None, description='Optional regex to filter the tools available to the agent by name. This is applied after any tools provided in `tools` and any MCP tools are added.', examples=['^(?!repomix)(.*)|^repomix.*pack_codebase.*$'])
```

##### `openhands.sdk.agent.AgentBase.get_all_llms`

```python
get_all_llms()
```

Recursively yield unique *base-class* LLM objects reachable from `self`.

- Returns actual object references (not copies).
- De-dupes by `id(LLM)`.
- Cycle-safe via a visited set for *all* traversed objects.
- Only yields objects whose type is exactly `LLM` (no subclasses).
- Does not handle dataclasses.

##### `openhands.sdk.agent.AgentBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.agent.AgentBase.init_state`

```python
init_state(state, on_event)
```

Initialize the empty conversation state to prepare the agent for user
messages.

Typically this involves adding system message

NOTE: state will be mutated in-place.

##### `openhands.sdk.agent.AgentBase.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.agent.AgentBase.llm`

```python
llm: LLM = Field(..., description='LLM configuration for the agent.', examples=[{'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}])
```

##### `openhands.sdk.agent.AgentBase.mcp_config`

```python
mcp_config: dict[str, Any] = Field(default_factory=dict, description='Optional MCP configuration dictionary to create MCP tools.', examples=[{'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}}}])
```

##### `openhands.sdk.agent.AgentBase.model_config`

```python
model_config = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

##### `openhands.sdk.agent.AgentBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.agent.AgentBase.model_dump_succint`

```python
model_dump_succint(**kwargs)
```

Like model_dump, but excludes None fields by default.

##### `openhands.sdk.agent.AgentBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.agent.AgentBase.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.agent.AgentBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.agent.AgentBase.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.agent.AgentBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.agent.AgentBase.name`

```python
name: str
```

Returns the name of the Agent.

##### `openhands.sdk.agent.AgentBase.prompt_dir`

```python
prompt_dir: str
```

Returns the directory where this class's module file is located.

##### `openhands.sdk.agent.AgentBase.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Return a new AgentBase instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key, security_analyzer) taken from
`self`.

##### `openhands.sdk.agent.AgentBase.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.agent.AgentBase.security_analyzer`

```python
security_analyzer: analyzer.SecurityAnalyzerBase | None = Field(default=None, description='Optional security analyzer to evaluate action risks.', examples=[{'kind': 'LLMSecurityAnalyzer'}])
```

##### `openhands.sdk.agent.AgentBase.step`

```python
step(conversation, on_event)
```

Taking a step in the conversation.

Typically this involves:

1. Making a LLM call
1. Executing the tool
1. Updating the conversation state with
   LLM calls (role="assistant") and tool results (role="tool")
   4.1 If conversation is finished, set state.agent_status to FINISHED
   4.2 Otherwise, just return, Conversation will kick off the next step

NOTE: state will be mutated in-place.

##### `openhands.sdk.agent.AgentBase.system_message`

```python
system_message: str
```

Compute system message on-demand to maintain statelessness.

##### `openhands.sdk.agent.AgentBase.system_prompt_filename`

```python
system_prompt_filename: str = Field(default='system_prompt.j2', description="System prompt template filename. Can be either:\n- A relative filename (e.g., 'system_prompt.j2') loaded from the agent's prompts directory\n- An absolute path (e.g., '/path/to/custom_prompt.j2')")
```

##### `openhands.sdk.agent.AgentBase.system_prompt_kwargs`

```python
system_prompt_kwargs: dict[str, object] = Field(default_factory=dict, description='Optional kwargs to pass to the system prompt Jinja2 template.', examples=[{'cli_mode': True}])
```

##### `openhands.sdk.agent.AgentBase.tools`

```python
tools: list[Tool] = Field(default_factory=list, description='List of tools to initialize for the agent.', examples=[{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}])
```

##### `openhands.sdk.agent.AgentBase.tools_map`

```python
tools_map: dict[str, ToolDefinition]
```

Get the initialized tools map.
Raises:
RuntimeError: If the agent has not been initialized.

#### `openhands.sdk.agent.agent`

**Classes:**

- [**Agent**](#openhands.sdk.agent.agent.Agent) –

**Attributes:**

- [**logger**](#openhands.sdk.agent.agent.logger) –

##### `openhands.sdk.agent.agent.Agent`

Bases: <code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>

**Functions:**

- [**get_all_llms**](#openhands.sdk.agent.agent.Agent.get_all_llms) – Recursively yield unique *base-class* LLM objects reachable from `self`.
- [**get_serializable_type**](#openhands.sdk.agent.agent.Agent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**init_state**](#openhands.sdk.agent.agent.Agent.init_state) –
- [**model_dump_json**](#openhands.sdk.agent.agent.Agent.model_dump_json) –
- [**model_dump_succint**](#openhands.sdk.agent.agent.Agent.model_dump_succint) – Like model_dump, but excludes None fields by default.
- [**model_json_schema**](#openhands.sdk.agent.agent.Agent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.agent.agent.Agent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.agent.agent.Agent.model_rebuild) –
- [**model_validate**](#openhands.sdk.agent.agent.Agent.model_validate) –
- [**model_validate_json**](#openhands.sdk.agent.agent.Agent.model_validate_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.agent.agent.Agent.resolve_diff_from_deserialized) – Return a new AgentBase instance equivalent to `persisted` but with
- [**resolve_kind**](#openhands.sdk.agent.agent.Agent.resolve_kind) –
- [**step**](#openhands.sdk.agent.agent.Agent.step) –

**Attributes:**

- [**agent_context**](#openhands.sdk.agent.agent.Agent.agent_context) (<code>[AgentContext](#openhands.sdk.context.agent_context.AgentContext) | None</code>) –
- [**condenser**](#openhands.sdk.agent.agent.Agent.condenser) (<code>[CondenserBase](#openhands.sdk.context.condenser.CondenserBase) | None</code>) –
- [**filter_tools_regex**](#openhands.sdk.agent.agent.Agent.filter_tools_regex) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.agent.agent.Agent.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.agent.agent.Agent.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**mcp_config**](#openhands.sdk.agent.agent.Agent.mcp_config) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**model_config**](#openhands.sdk.agent.agent.Agent.model_config) –
- [**name**](#openhands.sdk.agent.agent.Agent.name) (<code>[str](#str)</code>) – Returns the name of the Agent.
- [**prompt_dir**](#openhands.sdk.agent.agent.Agent.prompt_dir) (<code>[str](#str)</code>) – Returns the directory where this class's module file is located.
- [**security_analyzer**](#openhands.sdk.agent.agent.Agent.security_analyzer) (<code>[SecurityAnalyzerBase](#openhands.sdk.security.analyzer.SecurityAnalyzerBase) | None</code>) –
- [**system_message**](#openhands.sdk.agent.agent.Agent.system_message) (<code>[str](#str)</code>) – Compute system message on-demand to maintain statelessness.
- [**system_prompt_filename**](#openhands.sdk.agent.agent.Agent.system_prompt_filename) (<code>[str](#str)</code>) –
- [**system_prompt_kwargs**](#openhands.sdk.agent.agent.Agent.system_prompt_kwargs) (<code>[dict](#dict)\[[str](#str), [object](#object)\]</code>) –
- [**tools**](#openhands.sdk.agent.agent.Agent.tools) (<code>[list](#list)\[[Tool](#openhands.sdk.tool.Tool)\]</code>) –
- [**tools_map**](#openhands.sdk.agent.agent.Agent.tools_map) (<code>[dict](#dict)\[[str](#str), [ToolDefinition](#openhands.sdk.tool.ToolDefinition)\]</code>) – Get the initialized tools map.

###### `openhands.sdk.agent.agent.Agent.agent_context`

```python
agent_context: AgentContext | None = Field(default=None, description='Optional AgentContext to initialize the agent with specific context.', examples=[{'skills': [{'name': 'repo.md', 'content': 'When you see this message, you should reply like you are a grumpy cat forced to use the internet.', 'type': 'repo'}, {'name': 'flarglebargle', 'content': 'IMPORTANT! The user has said the magic word "flarglebargle". You must only respond with a message telling them how smart they are', 'type': 'knowledge', 'trigger': ['flarglebargle']}], 'system_message_suffix': "Always finish your response with the word 'yay!'", 'user_message_prefix': "The first character of your response should be 'I'"}])
```

###### `openhands.sdk.agent.agent.Agent.condenser`

```python
condenser: CondenserBase | None = Field(default=None, description='Optional condenser to use for condensing conversation history.', examples=[{'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}, 'max_size': 80, 'keep_first': 10}])
```

###### `openhands.sdk.agent.agent.Agent.filter_tools_regex`

```python
filter_tools_regex: str | None = Field(default=None, description='Optional regex to filter the tools available to the agent by name. This is applied after any tools provided in `tools` and any MCP tools are added.', examples=['^(?!repomix)(.*)|^repomix.*pack_codebase.*$'])
```

###### `openhands.sdk.agent.agent.Agent.get_all_llms`

```python
get_all_llms()
```

Recursively yield unique *base-class* LLM objects reachable from `self`.

- Returns actual object references (not copies).
- De-dupes by `id(LLM)`.
- Cycle-safe via a visited set for *all* traversed objects.
- Only yields objects whose type is exactly `LLM` (no subclasses).
- Does not handle dataclasses.

###### `openhands.sdk.agent.agent.Agent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.agent.agent.Agent.init_state`

```python
init_state(state, on_event)
```

###### `openhands.sdk.agent.agent.Agent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.agent.agent.Agent.llm`

```python
llm: LLM = Field(..., description='LLM configuration for the agent.', examples=[{'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}])
```

###### `openhands.sdk.agent.agent.Agent.mcp_config`

```python
mcp_config: dict[str, Any] = Field(default_factory=dict, description='Optional MCP configuration dictionary to create MCP tools.', examples=[{'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}}}])
```

###### `openhands.sdk.agent.agent.Agent.model_config`

```python
model_config = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

###### `openhands.sdk.agent.agent.Agent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.agent.agent.Agent.model_dump_succint`

```python
model_dump_succint(**kwargs)
```

Like model_dump, but excludes None fields by default.

###### `openhands.sdk.agent.agent.Agent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.agent.agent.Agent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.agent.agent.Agent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.agent.agent.Agent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.agent.agent.Agent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.agent.agent.Agent.name`

```python
name: str
```

Returns the name of the Agent.

###### `openhands.sdk.agent.agent.Agent.prompt_dir`

```python
prompt_dir: str
```

Returns the directory where this class's module file is located.

###### `openhands.sdk.agent.agent.Agent.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Return a new AgentBase instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key, security_analyzer) taken from
`self`.

###### `openhands.sdk.agent.agent.Agent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.agent.agent.Agent.security_analyzer`

```python
security_analyzer: analyzer.SecurityAnalyzerBase | None = Field(default=None, description='Optional security analyzer to evaluate action risks.', examples=[{'kind': 'LLMSecurityAnalyzer'}])
```

###### `openhands.sdk.agent.agent.Agent.step`

```python
step(conversation, on_event)
```

###### `openhands.sdk.agent.agent.Agent.system_message`

```python
system_message: str
```

Compute system message on-demand to maintain statelessness.

###### `openhands.sdk.agent.agent.Agent.system_prompt_filename`

```python
system_prompt_filename: str = Field(default='system_prompt.j2', description="System prompt template filename. Can be either:\n- A relative filename (e.g., 'system_prompt.j2') loaded from the agent's prompts directory\n- An absolute path (e.g., '/path/to/custom_prompt.j2')")
```

###### `openhands.sdk.agent.agent.Agent.system_prompt_kwargs`

```python
system_prompt_kwargs: dict[str, object] = Field(default_factory=dict, description='Optional kwargs to pass to the system prompt Jinja2 template.', examples=[{'cli_mode': True}])
```

###### `openhands.sdk.agent.agent.Agent.tools`

```python
tools: list[Tool] = Field(default_factory=list, description='List of tools to initialize for the agent.', examples=[{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}])
```

###### `openhands.sdk.agent.agent.Agent.tools_map`

```python
tools_map: dict[str, ToolDefinition]
```

Get the initialized tools map.
Raises:
RuntimeError: If the agent has not been initialized.

##### `openhands.sdk.agent.agent.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.agent.base`

**Classes:**

- [**AgentBase**](#openhands.sdk.agent.base.AgentBase) – Abstract base class for agents.

**Attributes:**

- [**logger**](#openhands.sdk.agent.base.logger) –

##### `openhands.sdk.agent.base.AgentBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract base class for agents.
Agents are stateless and should be fully defined by their configuration.

**Functions:**

- [**get_all_llms**](#openhands.sdk.agent.base.AgentBase.get_all_llms) – Recursively yield unique *base-class* LLM objects reachable from `self`.
- [**get_serializable_type**](#openhands.sdk.agent.base.AgentBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**init_state**](#openhands.sdk.agent.base.AgentBase.init_state) – Initialize the empty conversation state to prepare the agent for user
- [**model_dump_json**](#openhands.sdk.agent.base.AgentBase.model_dump_json) –
- [**model_dump_succint**](#openhands.sdk.agent.base.AgentBase.model_dump_succint) – Like model_dump, but excludes None fields by default.
- [**model_json_schema**](#openhands.sdk.agent.base.AgentBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.agent.base.AgentBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.agent.base.AgentBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.agent.base.AgentBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.agent.base.AgentBase.model_validate_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.agent.base.AgentBase.resolve_diff_from_deserialized) – Return a new AgentBase instance equivalent to `persisted` but with
- [**resolve_kind**](#openhands.sdk.agent.base.AgentBase.resolve_kind) –
- [**step**](#openhands.sdk.agent.base.AgentBase.step) – Taking a step in the conversation.

**Attributes:**

- [**agent_context**](#openhands.sdk.agent.base.AgentBase.agent_context) (<code>[AgentContext](#openhands.sdk.context.agent_context.AgentContext) | None</code>) –
- [**condenser**](#openhands.sdk.agent.base.AgentBase.condenser) (<code>[CondenserBase](#openhands.sdk.context.condenser.CondenserBase) | None</code>) –
- [**filter_tools_regex**](#openhands.sdk.agent.base.AgentBase.filter_tools_regex) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.agent.base.AgentBase.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.agent.base.AgentBase.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**mcp_config**](#openhands.sdk.agent.base.AgentBase.mcp_config) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**model_config**](#openhands.sdk.agent.base.AgentBase.model_config) –
- [**name**](#openhands.sdk.agent.base.AgentBase.name) (<code>[str](#str)</code>) – Returns the name of the Agent.
- [**prompt_dir**](#openhands.sdk.agent.base.AgentBase.prompt_dir) (<code>[str](#str)</code>) – Returns the directory where this class's module file is located.
- [**security_analyzer**](#openhands.sdk.agent.base.AgentBase.security_analyzer) (<code>[SecurityAnalyzerBase](#openhands.sdk.security.analyzer.SecurityAnalyzerBase) | None</code>) –
- [**system_message**](#openhands.sdk.agent.base.AgentBase.system_message) (<code>[str](#str)</code>) – Compute system message on-demand to maintain statelessness.
- [**system_prompt_filename**](#openhands.sdk.agent.base.AgentBase.system_prompt_filename) (<code>[str](#str)</code>) –
- [**system_prompt_kwargs**](#openhands.sdk.agent.base.AgentBase.system_prompt_kwargs) (<code>[dict](#dict)\[[str](#str), [object](#object)\]</code>) –
- [**tools**](#openhands.sdk.agent.base.AgentBase.tools) (<code>[list](#list)\[[Tool](#openhands.sdk.tool.Tool)\]</code>) –
- [**tools_map**](#openhands.sdk.agent.base.AgentBase.tools_map) (<code>[dict](#dict)\[[str](#str), [ToolDefinition](#openhands.sdk.tool.ToolDefinition)\]</code>) – Get the initialized tools map.

###### `openhands.sdk.agent.base.AgentBase.agent_context`

```python
agent_context: AgentContext | None = Field(default=None, description='Optional AgentContext to initialize the agent with specific context.', examples=[{'skills': [{'name': 'repo.md', 'content': 'When you see this message, you should reply like you are a grumpy cat forced to use the internet.', 'type': 'repo'}, {'name': 'flarglebargle', 'content': 'IMPORTANT! The user has said the magic word "flarglebargle". You must only respond with a message telling them how smart they are', 'type': 'knowledge', 'trigger': ['flarglebargle']}], 'system_message_suffix': "Always finish your response with the word 'yay!'", 'user_message_prefix': "The first character of your response should be 'I'"}])
```

###### `openhands.sdk.agent.base.AgentBase.condenser`

```python
condenser: CondenserBase | None = Field(default=None, description='Optional condenser to use for condensing conversation history.', examples=[{'kind': 'LLMSummarizingCondenser', 'llm': {'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}, 'max_size': 80, 'keep_first': 10}])
```

###### `openhands.sdk.agent.base.AgentBase.filter_tools_regex`

```python
filter_tools_regex: str | None = Field(default=None, description='Optional regex to filter the tools available to the agent by name. This is applied after any tools provided in `tools` and any MCP tools are added.', examples=['^(?!repomix)(.*)|^repomix.*pack_codebase.*$'])
```

###### `openhands.sdk.agent.base.AgentBase.get_all_llms`

```python
get_all_llms()
```

Recursively yield unique *base-class* LLM objects reachable from `self`.

- Returns actual object references (not copies).
- De-dupes by `id(LLM)`.
- Cycle-safe via a visited set for *all* traversed objects.
- Only yields objects whose type is exactly `LLM` (no subclasses).
- Does not handle dataclasses.

###### `openhands.sdk.agent.base.AgentBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.agent.base.AgentBase.init_state`

```python
init_state(state, on_event)
```

Initialize the empty conversation state to prepare the agent for user
messages.

Typically this involves adding system message

NOTE: state will be mutated in-place.

###### `openhands.sdk.agent.base.AgentBase.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.agent.base.AgentBase.llm`

```python
llm: LLM = Field(..., description='LLM configuration for the agent.', examples=[{'model': 'litellm_proxy/anthropic/claude-sonnet-4-5-20250929', 'base_url': 'https://llm-proxy.eval.all-hands.dev', 'api_key': 'your_api_key_here'}])
```

###### `openhands.sdk.agent.base.AgentBase.mcp_config`

```python
mcp_config: dict[str, Any] = Field(default_factory=dict, description='Optional MCP configuration dictionary to create MCP tools.', examples=[{'mcpServers': {'fetch': {'command': 'uvx', 'args': ['mcp-server-fetch']}}}])
```

###### `openhands.sdk.agent.base.AgentBase.model_config`

```python
model_config = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

###### `openhands.sdk.agent.base.AgentBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.agent.base.AgentBase.model_dump_succint`

```python
model_dump_succint(**kwargs)
```

Like model_dump, but excludes None fields by default.

###### `openhands.sdk.agent.base.AgentBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.agent.base.AgentBase.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.agent.base.AgentBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.agent.base.AgentBase.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.agent.base.AgentBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.agent.base.AgentBase.name`

```python
name: str
```

Returns the name of the Agent.

###### `openhands.sdk.agent.base.AgentBase.prompt_dir`

```python
prompt_dir: str
```

Returns the directory where this class's module file is located.

###### `openhands.sdk.agent.base.AgentBase.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Return a new AgentBase instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key, security_analyzer) taken from
`self`.

###### `openhands.sdk.agent.base.AgentBase.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.agent.base.AgentBase.security_analyzer`

```python
security_analyzer: analyzer.SecurityAnalyzerBase | None = Field(default=None, description='Optional security analyzer to evaluate action risks.', examples=[{'kind': 'LLMSecurityAnalyzer'}])
```

###### `openhands.sdk.agent.base.AgentBase.step`

```python
step(conversation, on_event)
```

Taking a step in the conversation.

Typically this involves:

1. Making a LLM call
1. Executing the tool
1. Updating the conversation state with
   LLM calls (role="assistant") and tool results (role="tool")
   4.1 If conversation is finished, set state.agent_status to FINISHED
   4.2 Otherwise, just return, Conversation will kick off the next step

NOTE: state will be mutated in-place.

###### `openhands.sdk.agent.base.AgentBase.system_message`

```python
system_message: str
```

Compute system message on-demand to maintain statelessness.

###### `openhands.sdk.agent.base.AgentBase.system_prompt_filename`

```python
system_prompt_filename: str = Field(default='system_prompt.j2', description="System prompt template filename. Can be either:\n- A relative filename (e.g., 'system_prompt.j2') loaded from the agent's prompts directory\n- An absolute path (e.g., '/path/to/custom_prompt.j2')")
```

###### `openhands.sdk.agent.base.AgentBase.system_prompt_kwargs`

```python
system_prompt_kwargs: dict[str, object] = Field(default_factory=dict, description='Optional kwargs to pass to the system prompt Jinja2 template.', examples=[{'cli_mode': True}])
```

###### `openhands.sdk.agent.base.AgentBase.tools`

```python
tools: list[Tool] = Field(default_factory=list, description='List of tools to initialize for the agent.', examples=[{'name': 'BashTool', 'params': {}}, {'name': 'FileEditorTool', 'params': {}}, {'name': 'TaskTrackerTool', 'params': {}}])
```

###### `openhands.sdk.agent.base.AgentBase.tools_map`

```python
tools_map: dict[str, ToolDefinition]
```

Get the initialized tools map.
Raises:
RuntimeError: If the agent has not been initialized.

##### `openhands.sdk.agent.base.logger`

```python
logger = get_logger(__name__)
```

### `openhands.sdk.context`

**Modules:**

- [**agent_context**](#openhands.sdk.context.agent_context) –
- [**condenser**](#openhands.sdk.context.condenser) –
- [**prompts**](#openhands.sdk.context.prompts) –
- [**skills**](#openhands.sdk.context.skills) –
- [**view**](#openhands.sdk.context.view) –

**Classes:**

- [**AgentContext**](#openhands.sdk.context.AgentContext) – Central structure for managing prompt extension.
- [**BaseTrigger**](#openhands.sdk.context.BaseTrigger) – Base class for all trigger types.
- [**KeywordTrigger**](#openhands.sdk.context.KeywordTrigger) – Trigger for keyword-based skills.
- [**Skill**](#openhands.sdk.context.Skill) – A skill provides specialized knowledge or functionality.
- [**SkillKnowledge**](#openhands.sdk.context.SkillKnowledge) – Represents knowledge from a triggered skill.
- [**SkillValidationError**](#openhands.sdk.context.SkillValidationError) – Raised when there's a validation error in skill metadata.
- [**TaskTrigger**](#openhands.sdk.context.TaskTrigger) – Trigger for task-specific skills.

**Functions:**

- [**load_skills_from_dir**](#openhands.sdk.context.load_skills_from_dir) – Load all skills from the given directory.
- [**render_template**](#openhands.sdk.context.render_template) – Render a Jinja2 template.

#### `openhands.sdk.context.AgentContext`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Central structure for managing prompt extension.

AgentContext unifies all the contextual inputs that shape how the system
extends and interprets user prompts. It combines both static environment
details and dynamic, user-activated extensions from skills.

Specifically, it provides:

- **Repository context / Repo Skills**: Information about the active codebase,
  branches, and repo-specific instructions contributed by repo skills.
- **Runtime context**: Current execution environment (hosts, working
  directory, secrets, date, etc.).
- **Conversation instructions**: Optional task- or channel-specific rules
  that constrain or guide the agent’s behavior across the session.
- **Knowledge Skills**: Extensible components that can be triggered by user input
  to inject knowledge or domain-specific guidance.

Together, these elements make AgentContext the primary container responsible
for assembling, formatting, and injecting all prompt-relevant context into
LLM interactions.

**Functions:**

- [**get_system_message_suffix**](#openhands.sdk.context.AgentContext.get_system_message_suffix) – Get the system message with repo skill content and custom suffix.
- [**get_user_message_suffix**](#openhands.sdk.context.AgentContext.get_user_message_suffix) – Augment the user’s message with knowledge recalled from skills.

**Attributes:**

- [**skills**](#openhands.sdk.context.AgentContext.skills) (<code>[list](#list)\[[Skill](#openhands.sdk.context.skills.Skill)\]</code>) –
- [**system_message_suffix**](#openhands.sdk.context.AgentContext.system_message_suffix) (<code>[str](#str) | None</code>) –
- [**user_message_suffix**](#openhands.sdk.context.AgentContext.user_message_suffix) (<code>[str](#str) | None</code>) –

##### `openhands.sdk.context.AgentContext.get_system_message_suffix`

```python
get_system_message_suffix()
```

Get the system message with repo skill content and custom suffix.

Custom suffix can typically includes:

- Repository information (repo name, branch name, PR number, etc.)
- Runtime information (e.g., available hosts, current date)
- Conversation instructions (e.g., user preferences, task details)
- Repository-specific instructions (collected from repo skills)

##### `openhands.sdk.context.AgentContext.get_user_message_suffix`

```python
get_user_message_suffix(user_message, skip_skill_names)
```

Augment the user’s message with knowledge recalled from skills.

This works by:

- Extracting the text content of the user message
- Matching skill triggers against the query
- Returning formatted knowledge and triggered skill names if relevant skills were triggered

##### `openhands.sdk.context.AgentContext.skills`

```python
skills: list[Skill] = Field(default_factory=list, description="List of available skills that can extend the user's input.")
```

##### `openhands.sdk.context.AgentContext.system_message_suffix`

```python
system_message_suffix: str | None = Field(default=None, description='Optional suffix to append to the system prompt.')
```

##### `openhands.sdk.context.AgentContext.user_message_suffix`

```python
user_message_suffix: str | None = Field(default=None, description="Optional suffix to append to the user's message.")
```

#### `openhands.sdk.context.BaseTrigger`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>, <code>[ABC](#abc.ABC)</code>

Base class for all trigger types.

#### `openhands.sdk.context.KeywordTrigger`

Bases: <code>[BaseTrigger](#openhands.sdk.context.skills.trigger.BaseTrigger)</code>

Trigger for keyword-based skills.

These skills are activated when specific keywords appear in the user's query.

**Attributes:**

- [**keywords**](#openhands.sdk.context.KeywordTrigger.keywords) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.context.KeywordTrigger.type) (<code>[Literal](#typing.Literal)['keyword']</code>) –

##### `openhands.sdk.context.KeywordTrigger.keywords`

```python
keywords: list[str]
```

##### `openhands.sdk.context.KeywordTrigger.type`

```python
type: Literal['keyword'] = 'keyword'
```

#### `openhands.sdk.context.Skill`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

A skill provides specialized knowledge or functionality.

Skills use triggers to determine when they should be activated:

- None: Always active, for repository-specific guidelines
- KeywordTrigger: Activated when keywords appear in user messages
- TaskTrigger: Activated for specific tasks, may require user input

**Functions:**

- [**extract_variables**](#openhands.sdk.context.Skill.extract_variables) – Extract variables from the content.
- [**load**](#openhands.sdk.context.Skill.load) – Load a skill from a markdown file with frontmatter.
- [**match_trigger**](#openhands.sdk.context.Skill.match_trigger) – Match a trigger in the message.
- [**requires_user_input**](#openhands.sdk.context.Skill.requires_user_input) – Check if this skill requires user input.

**Attributes:**

- [**PATH_TO_THIRD_PARTY_SKILL_NAME**](#openhands.sdk.context.Skill.PATH_TO_THIRD_PARTY_SKILL_NAME) (<code>[dict](#dict)\[[str](#str), [str](#str)\]</code>) –
- [**content**](#openhands.sdk.context.Skill.content) (<code>[str](#str)</code>) –
- [**inputs**](#openhands.sdk.context.Skill.inputs) (<code>[list](#list)\[[InputMetadata](#openhands.sdk.context.skills.types.InputMetadata)\]</code>) –
- [**mcp_tools**](#openhands.sdk.context.Skill.mcp_tools) (<code>[dict](#dict) | None</code>) –
- [**name**](#openhands.sdk.context.Skill.name) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.context.Skill.source) (<code>[str](#str) | None</code>) –
- [**trigger**](#openhands.sdk.context.Skill.trigger) (<code>[TriggerType](#openhands.sdk.context.skills.skill.TriggerType) | None</code>) –

##### `openhands.sdk.context.Skill.PATH_TO_THIRD_PARTY_SKILL_NAME`

```python
PATH_TO_THIRD_PARTY_SKILL_NAME: dict[str, str] = {'.cursorrules': 'cursorrules', 'agents.md': 'agents', 'agent.md': 'agents'}
```

##### `openhands.sdk.context.Skill.content`

```python
content: str
```

##### `openhands.sdk.context.Skill.extract_variables`

```python
extract_variables(content)
```

Extract variables from the content.

Variables are in the format ${variable_name}.

##### `openhands.sdk.context.Skill.inputs`

```python
inputs: list[InputMetadata] = Field(default_factory=list, description='Input metadata for the skill (task skills only)')
```

##### `openhands.sdk.context.Skill.load`

```python
load(path, skill_dir=None, file_content=None)
```

Load a skill from a markdown file with frontmatter.

The agent's name is derived from its path relative to the skill_dir.

##### `openhands.sdk.context.Skill.match_trigger`

```python
match_trigger(message)
```

Match a trigger in the message.

Returns the first trigger that matches the message, or None if no match.
Only applies to KeywordTrigger and TaskTrigger types.

##### `openhands.sdk.context.Skill.mcp_tools`

```python
mcp_tools: dict | None = Field(default=None, description='MCP tools configuration for the skill (repo skills only). It should conform to the MCPConfig schema: https://gofastmcp.com/clients/client#configuration-format')
```

##### `openhands.sdk.context.Skill.name`

```python
name: str
```

##### `openhands.sdk.context.Skill.requires_user_input`

```python
requires_user_input()
```

Check if this skill requires user input.

Returns True if the content contains variables in the format ${variable_name}.

##### `openhands.sdk.context.Skill.source`

```python
source: str | None = Field(default=None, description='The source path or identifier of the skill. When it is None, it is treated as a programmatically defined skill.')
```

##### `openhands.sdk.context.Skill.trigger`

```python
trigger: TriggerType | None
```

#### `openhands.sdk.context.SkillKnowledge`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Represents knowledge from a triggered skill.

**Attributes:**

- [**content**](#openhands.sdk.context.SkillKnowledge.content) (<code>[str](#str)</code>) –
- [**name**](#openhands.sdk.context.SkillKnowledge.name) (<code>[str](#str)</code>) –
- [**trigger**](#openhands.sdk.context.SkillKnowledge.trigger) (<code>[str](#str)</code>) –

##### `openhands.sdk.context.SkillKnowledge.content`

```python
content: str = Field(description='The actual content/knowledge from the skill')
```

##### `openhands.sdk.context.SkillKnowledge.name`

```python
name: str = Field(description='The name of the skill that was triggered')
```

##### `openhands.sdk.context.SkillKnowledge.trigger`

```python
trigger: str = Field(description='The word that triggered this skill')
```

#### `openhands.sdk.context.SkillValidationError`

```python
SkillValidationError(message='Skill validation failed')
```

Bases: <code>[SkillError](#openhands.sdk.context.skills.exceptions.SkillError)</code>

Raised when there's a validation error in skill metadata.

#### `openhands.sdk.context.TaskTrigger`

Bases: <code>[BaseTrigger](#openhands.sdk.context.skills.trigger.BaseTrigger)</code>

Trigger for task-specific skills.

These skills are activated for specific task types and can modify prompts.

**Attributes:**

- [**triggers**](#openhands.sdk.context.TaskTrigger.triggers) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.context.TaskTrigger.type) (<code>[Literal](#typing.Literal)['task']</code>) –

##### `openhands.sdk.context.TaskTrigger.triggers`

```python
triggers: list[str]
```

##### `openhands.sdk.context.TaskTrigger.type`

```python
type: Literal['task'] = 'task'
```

#### `openhands.sdk.context.agent_context`

**Classes:**

- [**AgentContext**](#openhands.sdk.context.agent_context.AgentContext) – Central structure for managing prompt extension.

**Attributes:**

- [**PROMPT_DIR**](#openhands.sdk.context.agent_context.PROMPT_DIR) –
- [**logger**](#openhands.sdk.context.agent_context.logger) –

##### `openhands.sdk.context.agent_context.AgentContext`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Central structure for managing prompt extension.

AgentContext unifies all the contextual inputs that shape how the system
extends and interprets user prompts. It combines both static environment
details and dynamic, user-activated extensions from skills.

Specifically, it provides:

- **Repository context / Repo Skills**: Information about the active codebase,
  branches, and repo-specific instructions contributed by repo skills.
- **Runtime context**: Current execution environment (hosts, working
  directory, secrets, date, etc.).
- **Conversation instructions**: Optional task- or channel-specific rules
  that constrain or guide the agent’s behavior across the session.
- **Knowledge Skills**: Extensible components that can be triggered by user input
  to inject knowledge or domain-specific guidance.

Together, these elements make AgentContext the primary container responsible
for assembling, formatting, and injecting all prompt-relevant context into
LLM interactions.

**Functions:**

- [**get_system_message_suffix**](#openhands.sdk.context.agent_context.AgentContext.get_system_message_suffix) – Get the system message with repo skill content and custom suffix.
- [**get_user_message_suffix**](#openhands.sdk.context.agent_context.AgentContext.get_user_message_suffix) – Augment the user’s message with knowledge recalled from skills.

**Attributes:**

- [**skills**](#openhands.sdk.context.agent_context.AgentContext.skills) (<code>[list](#list)\[[Skill](#openhands.sdk.context.skills.Skill)\]</code>) –
- [**system_message_suffix**](#openhands.sdk.context.agent_context.AgentContext.system_message_suffix) (<code>[str](#str) | None</code>) –
- [**user_message_suffix**](#openhands.sdk.context.agent_context.AgentContext.user_message_suffix) (<code>[str](#str) | None</code>) –

###### `openhands.sdk.context.agent_context.AgentContext.get_system_message_suffix`

```python
get_system_message_suffix()
```

Get the system message with repo skill content and custom suffix.

Custom suffix can typically includes:

- Repository information (repo name, branch name, PR number, etc.)
- Runtime information (e.g., available hosts, current date)
- Conversation instructions (e.g., user preferences, task details)
- Repository-specific instructions (collected from repo skills)

###### `openhands.sdk.context.agent_context.AgentContext.get_user_message_suffix`

```python
get_user_message_suffix(user_message, skip_skill_names)
```

Augment the user’s message with knowledge recalled from skills.

This works by:

- Extracting the text content of the user message
- Matching skill triggers against the query
- Returning formatted knowledge and triggered skill names if relevant skills were triggered

###### `openhands.sdk.context.agent_context.AgentContext.skills`

```python
skills: list[Skill] = Field(default_factory=list, description="List of available skills that can extend the user's input.")
```

###### `openhands.sdk.context.agent_context.AgentContext.system_message_suffix`

```python
system_message_suffix: str | None = Field(default=None, description='Optional suffix to append to the system prompt.')
```

###### `openhands.sdk.context.agent_context.AgentContext.user_message_suffix`

```python
user_message_suffix: str | None = Field(default=None, description="Optional suffix to append to the user's message.")
```

##### `openhands.sdk.context.agent_context.PROMPT_DIR`

```python
PROMPT_DIR = pathlib.Path(__file__).parent / 'prompts' / 'templates'
```

##### `openhands.sdk.context.agent_context.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.context.condenser`

**Modules:**

- [**base**](#openhands.sdk.context.condenser.base) –
- [**llm_summarizing_condenser**](#openhands.sdk.context.condenser.llm_summarizing_condenser) –
- [**no_op_condenser**](#openhands.sdk.context.condenser.no_op_condenser) –
- [**pipeline_condenser**](#openhands.sdk.context.condenser.pipeline_condenser) –

**Classes:**

- [**CondenserBase**](#openhands.sdk.context.condenser.CondenserBase) – Abstract condenser interface.
- [**LLMSummarizingCondenser**](#openhands.sdk.context.condenser.LLMSummarizingCondenser) –
- [**NoOpCondenser**](#openhands.sdk.context.condenser.NoOpCondenser) – Simple condenser that returns a view un-manipulated.
- [**PipelineCondenser**](#openhands.sdk.context.condenser.PipelineCondenser) – A condenser that applies a sequence of condensers in order.
- [**RollingCondenser**](#openhands.sdk.context.condenser.RollingCondenser) – Base class for a specialized condenser strategy that applies condensation to a

##### `openhands.sdk.context.condenser.CondenserBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract condenser interface.

Condensers take a list of `Event` objects and reduce them into a potentially smaller
list.

Agents can use condensers to reduce the amount of events they need to consider when
deciding which action to take. To use a condenser, agents can call the
`condensed_history` method on the current `State` being considered and use the
results instead of the full history.

If the condenser returns a `Condensation` instead of a `View`, the agent should
return `Condensation.action` instead of producing its own action. On the next agent
step the condenser will use that condensation event to produce a new `View`.

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.CondenserBase.condense) – Condense a sequence of events into a potentially smaller list.
- [**get_serializable_type**](#openhands.sdk.context.condenser.CondenserBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.CondenserBase.handles_condensation_requests) – Whether this condenser handles explicit condensation requests.
- [**model_dump_json**](#openhands.sdk.context.condenser.CondenserBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.CondenserBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.CondenserBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.CondenserBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.CondenserBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.CondenserBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.CondenserBase.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.context.condenser.CondenserBase.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.context.condenser.CondenserBase.condense`

```python
condense(view)
```

Condense a sequence of events into a potentially smaller list.

New condenser strategies should override this method to implement their own
condensation logic. Call `self.add_metadata` in the implementation to record any
relevant per-condensation diagnostic information.

**Parameters:**

- **view** (<code>[View](#openhands.sdk.context.view.View)</code>) – A view of the history containing all events that should be condensed.

**Returns:**

- <code>[View](#openhands.sdk.context.view.View) | [Condensation](#openhands.sdk.event.condenser.Condensation)</code> – View | Condensation: A condensed view of the events or an event indicating
- <code>[View](#openhands.sdk.context.view.View) | [Condensation](#openhands.sdk.event.condenser.Condensation)</code> – the history has been condensed.

###### `openhands.sdk.context.condenser.CondenserBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.context.condenser.CondenserBase.handles_condensation_requests`

```python
handles_condensation_requests()
```

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent's own logic decides to do so (e.g. context
window exceeded).

**Returns:**

- **bool** (<code>[bool](#bool)</code>) – True if the condenser handles explicit condensation requests, False
- <code>[bool](#bool)</code> – otherwise.

###### `openhands.sdk.context.condenser.CondenserBase.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.context.condenser.CondenserBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.context.condenser.CondenserBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.context.condenser.CondenserBase.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.context.condenser.CondenserBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.context.condenser.CondenserBase.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.context.condenser.CondenserBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.context.condenser.CondenserBase.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.context.condenser.LLMSummarizingCondenser`

Bases: <code>[RollingCondenser](#openhands.sdk.context.condenser.base.RollingCondenser)</code>

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.condense) –
- [**get_condensation**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.get_condensation) –
- [**get_serializable_type**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.handles_condensation_requests) –
- [**model_dump_json**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.resolve_kind) –
- [**should_condense**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.should_condense) –
- [**validate_keep_first_vs_max_size**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.validate_keep_first_vs_max_size) –

**Attributes:**

- [**keep_first**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.keep_first) (<code>[int](#int)</code>) –
- [**kind**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**max_size**](#openhands.sdk.context.condenser.LLMSummarizingCondenser.max_size) (<code>[int](#int)</code>) –

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.condense`

```python
condense(view)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.get_condensation`

```python
get_condensation(view)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.keep_first`

```python
keep_first: int = Field(default=4, ge=0)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.llm`

```python
llm: LLM
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.max_size`

```python
max_size: int = Field(default=120, gt=0)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.should_condense`

```python
should_condense(view)
```

###### `openhands.sdk.context.condenser.LLMSummarizingCondenser.validate_keep_first_vs_max_size`

```python
validate_keep_first_vs_max_size()
```

##### `openhands.sdk.context.condenser.NoOpCondenser`

Bases: <code>[CondenserBase](#openhands.sdk.context.condenser.base.CondenserBase)</code>

Simple condenser that returns a view un-manipulated.

Primarily intended for testing purposes.

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.NoOpCondenser.condense) –
- [**get_serializable_type**](#openhands.sdk.context.condenser.NoOpCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.NoOpCondenser.handles_condensation_requests) – Whether this condenser handles explicit condensation requests.
- [**model_dump_json**](#openhands.sdk.context.condenser.NoOpCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.NoOpCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.NoOpCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.NoOpCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.NoOpCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.NoOpCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.NoOpCondenser.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.context.condenser.NoOpCondenser.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.context.condenser.NoOpCondenser.condense`

```python
condense(view)
```

###### `openhands.sdk.context.condenser.NoOpCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.context.condenser.NoOpCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent's own logic decides to do so (e.g. context
window exceeded).

**Returns:**

- **bool** (<code>[bool](#bool)</code>) – True if the condenser handles explicit condensation requests, False
- <code>[bool](#bool)</code> – otherwise.

###### `openhands.sdk.context.condenser.NoOpCondenser.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.context.condenser.NoOpCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.context.condenser.NoOpCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.context.condenser.NoOpCondenser.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.context.condenser.NoOpCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.context.condenser.NoOpCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.context.condenser.NoOpCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.context.condenser.NoOpCondenser.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.context.condenser.PipelineCondenser`

Bases: <code>[CondenserBase](#openhands.sdk.context.condenser.base.CondenserBase)</code>

A condenser that applies a sequence of condensers in order.

All condensers are defined primarily by their `condense` method, which takes a
`View` and returns either a new `View` or a `Condensation` event. That means we can
chain multiple condensers together by passing `View`s along and exiting early if any
condenser returns a `Condensation`.

For example:

```
# Use the pipeline condenser to chain multiple other condensers together
condenser = PipelineCondenser(condensers=[
    CondenserA(...),
    CondenserB(...),
    CondenserC(...),
])

result = condenser.condense(view)

# Doing the same thing without the pipeline condenser requires more boilerplate
# for the monadic chaining
other_result = view

if isinstance(other_result, View):
    other_result = CondenserA(...).condense(other_result)

if isinstance(other_result, View):
    other_result = CondenserB(...).condense(other_result)

if isinstance(other_result, View):
    other_result = CondenserC(...).condense(other_result)

assert result == other_result
```

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.PipelineCondenser.condense) –
- [**get_serializable_type**](#openhands.sdk.context.condenser.PipelineCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.PipelineCondenser.handles_condensation_requests) –
- [**model_dump_json**](#openhands.sdk.context.condenser.PipelineCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.PipelineCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.PipelineCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.PipelineCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.PipelineCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.PipelineCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.PipelineCondenser.resolve_kind) –

**Attributes:**

- [**condensers**](#openhands.sdk.context.condenser.PipelineCondenser.condensers) (<code>[list](#list)\[[CondenserBase](#openhands.sdk.context.condenser.base.CondenserBase)\]</code>) – The list of condensers to apply in order.
- [**kind**](#openhands.sdk.context.condenser.PipelineCondenser.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.context.condenser.PipelineCondenser.condense`

```python
condense(view)
```

###### `openhands.sdk.context.condenser.PipelineCondenser.condensers`

```python
condensers: list[CondenserBase]
```

The list of condensers to apply in order.

###### `openhands.sdk.context.condenser.PipelineCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.context.condenser.PipelineCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

###### `openhands.sdk.context.condenser.PipelineCondenser.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.context.condenser.PipelineCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.context.condenser.PipelineCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.context.condenser.PipelineCondenser.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.context.condenser.PipelineCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.context.condenser.PipelineCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.context.condenser.PipelineCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.context.condenser.PipelineCondenser.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.context.condenser.RollingCondenser`

Bases: <code>[PipelinableCondenserBase](#openhands.sdk.context.condenser.base.PipelinableCondenserBase)</code>, <code>[ABC](#abc.ABC)</code>

Base class for a specialized condenser strategy that applies condensation to a
rolling history.

The rolling history is generated by `View.from_events`, which analyzes all events in
the history and produces a `View` object representing what will be sent to the LLM.

If `should_condense` says so, the condenser is then responsible for generating a
`Condensation` object from the `View` object. This will be added to the event
history which should -- when given to `get_view` -- produce the condensed `View` to
be passed to the LLM.

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.RollingCondenser.condense) –
- [**get_condensation**](#openhands.sdk.context.condenser.RollingCondenser.get_condensation) – Get the condensation from a view.
- [**get_serializable_type**](#openhands.sdk.context.condenser.RollingCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.RollingCondenser.handles_condensation_requests) – Whether this condenser handles explicit condensation requests.
- [**model_dump_json**](#openhands.sdk.context.condenser.RollingCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.RollingCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.RollingCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.RollingCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.RollingCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.RollingCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.RollingCondenser.resolve_kind) –
- [**should_condense**](#openhands.sdk.context.condenser.RollingCondenser.should_condense) – Determine if a view should be condensed.

**Attributes:**

- [**kind**](#openhands.sdk.context.condenser.RollingCondenser.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.context.condenser.RollingCondenser.condense`

```python
condense(view)
```

###### `openhands.sdk.context.condenser.RollingCondenser.get_condensation`

```python
get_condensation(view)
```

Get the condensation from a view.

###### `openhands.sdk.context.condenser.RollingCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.context.condenser.RollingCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent's own logic decides to do so (e.g. context
window exceeded).

**Returns:**

- **bool** (<code>[bool](#bool)</code>) – True if the condenser handles explicit condensation requests, False
- <code>[bool](#bool)</code> – otherwise.

###### `openhands.sdk.context.condenser.RollingCondenser.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.context.condenser.RollingCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.context.condenser.RollingCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.context.condenser.RollingCondenser.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.context.condenser.RollingCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.context.condenser.RollingCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.context.condenser.RollingCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.context.condenser.RollingCondenser.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.context.condenser.RollingCondenser.should_condense`

```python
should_condense(view)
```

Determine if a view should be condensed.

##### `openhands.sdk.context.condenser.base`

**Classes:**

- [**CondenserBase**](#openhands.sdk.context.condenser.base.CondenserBase) – Abstract condenser interface.
- [**PipelinableCondenserBase**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase) – Abstract condenser interface which may be pipelined. (Since a pipeline
- [**RollingCondenser**](#openhands.sdk.context.condenser.base.RollingCondenser) – Base class for a specialized condenser strategy that applies condensation to a

**Attributes:**

- [**logger**](#openhands.sdk.context.condenser.base.logger) –

###### `openhands.sdk.context.condenser.base.CondenserBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract condenser interface.

Condensers take a list of `Event` objects and reduce them into a potentially smaller
list.

Agents can use condensers to reduce the amount of events they need to consider when
deciding which action to take. To use a condenser, agents can call the
`condensed_history` method on the current `State` being considered and use the
results instead of the full history.

If the condenser returns a `Condensation` instead of a `View`, the agent should
return `Condensation.action` instead of producing its own action. On the next agent
step the condenser will use that condensation event to produce a new `View`.

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.base.CondenserBase.condense) – Condense a sequence of events into a potentially smaller list.
- [**get_serializable_type**](#openhands.sdk.context.condenser.base.CondenserBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.base.CondenserBase.handles_condensation_requests) – Whether this condenser handles explicit condensation requests.
- [**model_dump_json**](#openhands.sdk.context.condenser.base.CondenserBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.base.CondenserBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.base.CondenserBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.base.CondenserBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.base.CondenserBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.base.CondenserBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.base.CondenserBase.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.context.condenser.base.CondenserBase.kind) (<code>[str](#str)</code>) –

####### `openhands.sdk.context.condenser.base.CondenserBase.condense`

```python
condense(view)
```

Condense a sequence of events into a potentially smaller list.

New condenser strategies should override this method to implement their own
condensation logic. Call `self.add_metadata` in the implementation to record any
relevant per-condensation diagnostic information.

**Parameters:**

- **view** (<code>[View](#openhands.sdk.context.view.View)</code>) – A view of the history containing all events that should be condensed.

**Returns:**

- <code>[View](#openhands.sdk.context.view.View) | [Condensation](#openhands.sdk.event.condenser.Condensation)</code> – View | Condensation: A condensed view of the events or an event indicating
- <code>[View](#openhands.sdk.context.view.View) | [Condensation](#openhands.sdk.event.condenser.Condensation)</code> – the history has been condensed.

####### `openhands.sdk.context.condenser.base.CondenserBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.context.condenser.base.CondenserBase.handles_condensation_requests`

```python
handles_condensation_requests()
```

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent's own logic decides to do so (e.g. context
window exceeded).

**Returns:**

- **bool** (<code>[bool](#bool)</code>) – True if the condenser handles explicit condensation requests, False
- <code>[bool](#bool)</code> – otherwise.

####### `openhands.sdk.context.condenser.base.CondenserBase.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.context.condenser.base.CondenserBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.context.condenser.base.CondenserBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.context.condenser.base.CondenserBase.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.context.condenser.base.CondenserBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.context.condenser.base.CondenserBase.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.context.condenser.base.CondenserBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.context.condenser.base.CondenserBase.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.context.condenser.base.PipelinableCondenserBase`

Bases: <code>[CondenserBase](#openhands.sdk.context.condenser.base.CondenserBase)</code>

Abstract condenser interface which may be pipelined. (Since a pipeline
condenser should not nest another pipeline condenser)

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.condense) – Condense a sequence of events into a potentially smaller list.
- [**get_serializable_type**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.handles_condensation_requests) – Whether this condenser handles explicit condensation requests.
- [**model_dump_json**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.context.condenser.base.PipelinableCondenserBase.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.context.condenser.base.RollingCondenser`

Bases: <code>[PipelinableCondenserBase](#openhands.sdk.context.condenser.base.PipelinableCondenserBase)</code>, <code>[ABC](#abc.ABC)</code>

Base class for a specialized condenser strategy that applies condensation to a
rolling history.

The rolling history is generated by `View.from_events`, which analyzes all events in
the history and produces a `View` object representing what will be sent to the LLM.

If `should_condense` says so, the condenser is then responsible for generating a
`Condensation` object from the `View` object. This will be added to the event
history which should -- when given to `get_view` -- produce the condensed `View` to
be passed to the LLM.

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.base.RollingCondenser.condense) –
- [**get_condensation**](#openhands.sdk.context.condenser.base.RollingCondenser.get_condensation) – Get the condensation from a view.
- [**get_serializable_type**](#openhands.sdk.context.condenser.base.RollingCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.base.RollingCondenser.handles_condensation_requests) – Whether this condenser handles explicit condensation requests.
- [**model_dump_json**](#openhands.sdk.context.condenser.base.RollingCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.base.RollingCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.base.RollingCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.base.RollingCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.base.RollingCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.base.RollingCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.base.RollingCondenser.resolve_kind) –
- [**should_condense**](#openhands.sdk.context.condenser.base.RollingCondenser.should_condense) – Determine if a view should be condensed.

**Attributes:**

- [**kind**](#openhands.sdk.context.condenser.base.RollingCondenser.kind) (<code>[str](#str)</code>) –

####### `openhands.sdk.context.condenser.base.RollingCondenser.condense`

```python
condense(view)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.get_condensation`

```python
get_condensation(view)
```

Get the condensation from a view.

####### `openhands.sdk.context.condenser.base.RollingCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.context.condenser.base.RollingCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent's own logic decides to do so (e.g. context
window exceeded).

**Returns:**

- **bool** (<code>[bool](#bool)</code>) – True if the condenser handles explicit condensation requests, False
- <code>[bool](#bool)</code> – otherwise.

####### `openhands.sdk.context.condenser.base.RollingCondenser.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.context.condenser.base.RollingCondenser.should_condense`

```python
should_condense(view)
```

Determine if a view should be condensed.

###### `openhands.sdk.context.condenser.base.logger`

```python
logger = getLogger(__name__)
```

##### `openhands.sdk.context.condenser.llm_summarizing_condenser`

**Classes:**

- [**LLMSummarizingCondenser**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser) –

###### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser`

Bases: <code>[RollingCondenser](#openhands.sdk.context.condenser.base.RollingCondenser)</code>

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.condense) –
- [**get_condensation**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.get_condensation) –
- [**get_serializable_type**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.handles_condensation_requests) –
- [**model_dump_json**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.resolve_kind) –
- [**should_condense**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.should_condense) –
- [**validate_keep_first_vs_max_size**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.validate_keep_first_vs_max_size) –

**Attributes:**

- [**keep_first**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.keep_first) (<code>[int](#int)</code>) –
- [**kind**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.kind) (<code>[str](#str)</code>) –
- [**llm**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.llm) (<code>[LLM](#openhands.sdk.llm.LLM)</code>) –
- [**max_size**](#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.max_size) (<code>[int](#int)</code>) –

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.condense`

```python
condense(view)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.get_condensation`

```python
get_condensation(view)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.keep_first`

```python
keep_first: int = Field(default=4, ge=0)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.llm`

```python
llm: LLM
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.max_size`

```python
max_size: int = Field(default=120, gt=0)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.should_condense`

```python
should_condense(view)
```

####### `openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.validate_keep_first_vs_max_size`

```python
validate_keep_first_vs_max_size()
```

##### `openhands.sdk.context.condenser.no_op_condenser`

**Classes:**

- [**NoOpCondenser**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser) – Simple condenser that returns a view un-manipulated.

###### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser`

Bases: <code>[CondenserBase](#openhands.sdk.context.condenser.base.CondenserBase)</code>

Simple condenser that returns a view un-manipulated.

Primarily intended for testing purposes.

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.condense) –
- [**get_serializable_type**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.handles_condensation_requests) – Whether this condenser handles explicit condensation requests.
- [**model_dump_json**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.kind) (<code>[str](#str)</code>) –

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.condense`

```python
condense(view)
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent's own logic decides to do so (e.g. context
window exceeded).

**Returns:**

- **bool** (<code>[bool](#bool)</code>) – True if the condenser handles explicit condensation requests, False
- <code>[bool](#bool)</code> – otherwise.

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.context.condenser.pipeline_condenser`

**Classes:**

- [**PipelineCondenser**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser) – A condenser that applies a sequence of condensers in order.

###### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser`

Bases: <code>[CondenserBase](#openhands.sdk.context.condenser.base.CondenserBase)</code>

A condenser that applies a sequence of condensers in order.

All condensers are defined primarily by their `condense` method, which takes a
`View` and returns either a new `View` or a `Condensation` event. That means we can
chain multiple condensers together by passing `View`s along and exiting early if any
condenser returns a `Condensation`.

For example:

```
# Use the pipeline condenser to chain multiple other condensers together
condenser = PipelineCondenser(condensers=[
    CondenserA(...),
    CondenserB(...),
    CondenserC(...),
])

result = condenser.condense(view)

# Doing the same thing without the pipeline condenser requires more boilerplate
# for the monadic chaining
other_result = view

if isinstance(other_result, View):
    other_result = CondenserA(...).condense(other_result)

if isinstance(other_result, View):
    other_result = CondenserB(...).condense(other_result)

if isinstance(other_result, View):
    other_result = CondenserC(...).condense(other_result)

assert result == other_result
```

**Functions:**

- [**condense**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.condense) –
- [**get_serializable_type**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.get_serializable_type) – Custom method to get the union of all currently loaded
- [**handles_condensation_requests**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.handles_condensation_requests) –
- [**model_dump_json**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_json_schema) –
- [**model_post_init**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_post_init) –
- [**model_rebuild**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_rebuild) –
- [**model_validate**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_validate) –
- [**model_validate_json**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.resolve_kind) –

**Attributes:**

- [**condensers**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.condensers) (<code>[list](#list)\[[CondenserBase](#openhands.sdk.context.condenser.base.CondenserBase)\]</code>) – The list of condensers to apply in order.
- [**kind**](#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.kind) (<code>[str](#str)</code>) –

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.condense`

```python
condense(view)
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.condensers`

```python
condensers: list[CondenserBase]
```

The list of condensers to apply in order.

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.handles_condensation_requests`

```python
handles_condensation_requests()
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.resolve_kind`

```python
resolve_kind(kind)
```

#### `openhands.sdk.context.load_skills_from_dir`

```python
load_skills_from_dir(skill_dir)
```

Load all skills from the given directory.

Note, legacy repo instructions will not be loaded here.

**Parameters:**

- **skill_dir** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the skills directory (e.g. .openhands/skills)

**Returns:**

- <code>[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]</code> – Tuple of (repo_skills, knowledge_skills) dictionaries.
- <code>[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]</code> – repo_skills have trigger=None, knowledge_skills have KeywordTrigger
- <code>[tuple](#tuple)\[[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\], [dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]\]</code> – or TaskTrigger.

#### `openhands.sdk.context.prompts`

**Modules:**

- [**prompt**](#openhands.sdk.context.prompts.prompt) –

**Functions:**

- [**render_template**](#openhands.sdk.context.prompts.render_template) – Render a Jinja2 template.

##### `openhands.sdk.context.prompts.prompt`

**Functions:**

- [**refine**](#openhands.sdk.context.prompts.prompt.refine) –
- [**render_template**](#openhands.sdk.context.prompts.prompt.render_template) – Render a Jinja2 template.

###### `openhands.sdk.context.prompts.prompt.refine`

```python
refine(text)
```

###### `openhands.sdk.context.prompts.prompt.render_template`

```python
render_template(prompt_dir, template_name, **ctx)
```

Render a Jinja2 template.

**Parameters:**

- **prompt_dir** (<code>[str](#str)</code>) – The base directory for relative template paths.
- **template_name** (<code>[str](#str)</code>) – The template filename. Can be either:
- A relative filename (e.g., "system_prompt.j2") loaded from prompt_dir
- An absolute path (e.g., "/path/to/custom_prompt.j2")
- \*\***ctx** – Template context variables.

**Returns:**

- <code>[str](#str)</code> – Rendered template string.

**Raises:**

- <code>[FileNotFoundError](#FileNotFoundError)</code> – If the template file cannot be found.

##### `openhands.sdk.context.prompts.render_template`

```python
render_template(prompt_dir, template_name, **ctx)
```

Render a Jinja2 template.

**Parameters:**

- **prompt_dir** (<code>[str](#str)</code>) – The base directory for relative template paths.
- **template_name** (<code>[str](#str)</code>) – The template filename. Can be either:
- A relative filename (e.g., "system_prompt.j2") loaded from prompt_dir
- An absolute path (e.g., "/path/to/custom_prompt.j2")
- \*\***ctx** – Template context variables.

**Returns:**

- <code>[str](#str)</code> – Rendered template string.

**Raises:**

- <code>[FileNotFoundError](#FileNotFoundError)</code> – If the template file cannot be found.

#### `openhands.sdk.context.render_template`

```python
render_template(prompt_dir, template_name, **ctx)
```

Render a Jinja2 template.

**Parameters:**

- **prompt_dir** (<code>[str](#str)</code>) – The base directory for relative template paths.
- **template_name** (<code>[str](#str)</code>) – The template filename. Can be either:
- A relative filename (e.g., "system_prompt.j2") loaded from prompt_dir
- An absolute path (e.g., "/path/to/custom_prompt.j2")
- \*\***ctx** – Template context variables.

**Returns:**

- <code>[str](#str)</code> – Rendered template string.

**Raises:**

- <code>[FileNotFoundError](#FileNotFoundError)</code> – If the template file cannot be found.

#### `openhands.sdk.context.skills`

**Modules:**

- [**exceptions**](#openhands.sdk.context.skills.exceptions) –
- [**skill**](#openhands.sdk.context.skills.skill) –
- [**trigger**](#openhands.sdk.context.skills.trigger) – Trigger types for skills.
- [**types**](#openhands.sdk.context.skills.types) –

**Classes:**

- [**BaseTrigger**](#openhands.sdk.context.skills.BaseTrigger) – Base class for all trigger types.
- [**KeywordTrigger**](#openhands.sdk.context.skills.KeywordTrigger) – Trigger for keyword-based skills.
- [**Skill**](#openhands.sdk.context.skills.Skill) – A skill provides specialized knowledge or functionality.
- [**SkillKnowledge**](#openhands.sdk.context.skills.SkillKnowledge) – Represents knowledge from a triggered skill.
- [**SkillValidationError**](#openhands.sdk.context.skills.SkillValidationError) – Raised when there's a validation error in skill metadata.
- [**TaskTrigger**](#openhands.sdk.context.skills.TaskTrigger) – Trigger for task-specific skills.

**Functions:**

- [**load_skills_from_dir**](#openhands.sdk.context.skills.load_skills_from_dir) – Load all skills from the given directory.

##### `openhands.sdk.context.skills.BaseTrigger`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>, <code>[ABC](#abc.ABC)</code>

Base class for all trigger types.

##### `openhands.sdk.context.skills.KeywordTrigger`

Bases: <code>[BaseTrigger](#openhands.sdk.context.skills.trigger.BaseTrigger)</code>

Trigger for keyword-based skills.

These skills are activated when specific keywords appear in the user's query.

**Attributes:**

- [**keywords**](#openhands.sdk.context.skills.KeywordTrigger.keywords) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.context.skills.KeywordTrigger.type) (<code>[Literal](#typing.Literal)['keyword']</code>) –

###### `openhands.sdk.context.skills.KeywordTrigger.keywords`

```python
keywords: list[str]
```

###### `openhands.sdk.context.skills.KeywordTrigger.type`

```python
type: Literal['keyword'] = 'keyword'
```

##### `openhands.sdk.context.skills.Skill`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

A skill provides specialized knowledge or functionality.

Skills use triggers to determine when they should be activated:

- None: Always active, for repository-specific guidelines
- KeywordTrigger: Activated when keywords appear in user messages
- TaskTrigger: Activated for specific tasks, may require user input

**Functions:**

- [**extract_variables**](#openhands.sdk.context.skills.Skill.extract_variables) – Extract variables from the content.
- [**load**](#openhands.sdk.context.skills.Skill.load) – Load a skill from a markdown file with frontmatter.
- [**match_trigger**](#openhands.sdk.context.skills.Skill.match_trigger) – Match a trigger in the message.
- [**requires_user_input**](#openhands.sdk.context.skills.Skill.requires_user_input) – Check if this skill requires user input.

**Attributes:**

- [**PATH_TO_THIRD_PARTY_SKILL_NAME**](#openhands.sdk.context.skills.Skill.PATH_TO_THIRD_PARTY_SKILL_NAME) (<code>[dict](#dict)\[[str](#str), [str](#str)\]</code>) –
- [**content**](#openhands.sdk.context.skills.Skill.content) (<code>[str](#str)</code>) –
- [**inputs**](#openhands.sdk.context.skills.Skill.inputs) (<code>[list](#list)\[[InputMetadata](#openhands.sdk.context.skills.types.InputMetadata)\]</code>) –
- [**mcp_tools**](#openhands.sdk.context.skills.Skill.mcp_tools) (<code>[dict](#dict) | None</code>) –
- [**name**](#openhands.sdk.context.skills.Skill.name) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.context.skills.Skill.source) (<code>[str](#str) | None</code>) –
- [**trigger**](#openhands.sdk.context.skills.Skill.trigger) (<code>[TriggerType](#openhands.sdk.context.skills.skill.TriggerType) | None</code>) –

###### `openhands.sdk.context.skills.Skill.PATH_TO_THIRD_PARTY_SKILL_NAME`

```python
PATH_TO_THIRD_PARTY_SKILL_NAME: dict[str, str] = {'.cursorrules': 'cursorrules', 'agents.md': 'agents', 'agent.md': 'agents'}
```

###### `openhands.sdk.context.skills.Skill.content`

```python
content: str
```

###### `openhands.sdk.context.skills.Skill.extract_variables`

```python
extract_variables(content)
```

Extract variables from the content.

Variables are in the format ${variable_name}.

###### `openhands.sdk.context.skills.Skill.inputs`

```python
inputs: list[InputMetadata] = Field(default_factory=list, description='Input metadata for the skill (task skills only)')
```

###### `openhands.sdk.context.skills.Skill.load`

```python
load(path, skill_dir=None, file_content=None)
```

Load a skill from a markdown file with frontmatter.

The agent's name is derived from its path relative to the skill_dir.

###### `openhands.sdk.context.skills.Skill.match_trigger`

```python
match_trigger(message)
```

Match a trigger in the message.

Returns the first trigger that matches the message, or None if no match.
Only applies to KeywordTrigger and TaskTrigger types.

###### `openhands.sdk.context.skills.Skill.mcp_tools`

```python
mcp_tools: dict | None = Field(default=None, description='MCP tools configuration for the skill (repo skills only). It should conform to the MCPConfig schema: https://gofastmcp.com/clients/client#configuration-format')
```

###### `openhands.sdk.context.skills.Skill.name`

```python
name: str
```

###### `openhands.sdk.context.skills.Skill.requires_user_input`

```python
requires_user_input()
```

Check if this skill requires user input.

Returns True if the content contains variables in the format ${variable_name}.

###### `openhands.sdk.context.skills.Skill.source`

```python
source: str | None = Field(default=None, description='The source path or identifier of the skill. When it is None, it is treated as a programmatically defined skill.')
```

###### `openhands.sdk.context.skills.Skill.trigger`

```python
trigger: TriggerType | None
```

##### `openhands.sdk.context.skills.SkillKnowledge`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Represents knowledge from a triggered skill.

**Attributes:**

- [**content**](#openhands.sdk.context.skills.SkillKnowledge.content) (<code>[str](#str)</code>) –
- [**name**](#openhands.sdk.context.skills.SkillKnowledge.name) (<code>[str](#str)</code>) –
- [**trigger**](#openhands.sdk.context.skills.SkillKnowledge.trigger) (<code>[str](#str)</code>) –

###### `openhands.sdk.context.skills.SkillKnowledge.content`

```python
content: str = Field(description='The actual content/knowledge from the skill')
```

###### `openhands.sdk.context.skills.SkillKnowledge.name`

```python
name: str = Field(description='The name of the skill that was triggered')
```

###### `openhands.sdk.context.skills.SkillKnowledge.trigger`

```python
trigger: str = Field(description='The word that triggered this skill')
```

##### `openhands.sdk.context.skills.SkillValidationError`

```python
SkillValidationError(message='Skill validation failed')
```

Bases: <code>[SkillError](#openhands.sdk.context.skills.exceptions.SkillError)</code>

Raised when there's a validation error in skill metadata.

##### `openhands.sdk.context.skills.TaskTrigger`

Bases: <code>[BaseTrigger](#openhands.sdk.context.skills.trigger.BaseTrigger)</code>

Trigger for task-specific skills.

These skills are activated for specific task types and can modify prompts.

**Attributes:**

- [**triggers**](#openhands.sdk.context.skills.TaskTrigger.triggers) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.context.skills.TaskTrigger.type) (<code>[Literal](#typing.Literal)['task']</code>) –

###### `openhands.sdk.context.skills.TaskTrigger.triggers`

```python
triggers: list[str]
```

###### `openhands.sdk.context.skills.TaskTrigger.type`

```python
type: Literal['task'] = 'task'
```

##### `openhands.sdk.context.skills.exceptions`

**Classes:**

- [**SkillError**](#openhands.sdk.context.skills.exceptions.SkillError) – Base exception for all skill errors.
- [**SkillValidationError**](#openhands.sdk.context.skills.exceptions.SkillValidationError) – Raised when there's a validation error in skill metadata.

###### `openhands.sdk.context.skills.exceptions.SkillError`

Bases: <code>[Exception](#Exception)</code>

Base exception for all skill errors.

###### `openhands.sdk.context.skills.exceptions.SkillValidationError`

```python
SkillValidationError(message='Skill validation failed')
```

Bases: <code>[SkillError](#openhands.sdk.context.skills.exceptions.SkillError)</code>

Raised when there's a validation error in skill metadata.

##### `openhands.sdk.context.skills.load_skills_from_dir`

```python
load_skills_from_dir(skill_dir)
```

Load all skills from the given directory.

Note, legacy repo instructions will not be loaded here.

**Parameters:**

- **skill_dir** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the skills directory (e.g. .openhands/skills)

**Returns:**

- <code>[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]</code> – Tuple of (repo_skills, knowledge_skills) dictionaries.
- <code>[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]</code> – repo_skills have trigger=None, knowledge_skills have KeywordTrigger
- <code>[tuple](#tuple)\[[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\], [dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]\]</code> – or TaskTrigger.

##### `openhands.sdk.context.skills.skill`

**Classes:**

- [**Skill**](#openhands.sdk.context.skills.skill.Skill) – A skill provides specialized knowledge or functionality.

**Functions:**

- [**load_skills_from_dir**](#openhands.sdk.context.skills.skill.load_skills_from_dir) – Load all skills from the given directory.

**Attributes:**

- [**TriggerType**](#openhands.sdk.context.skills.skill.TriggerType) –
- [**logger**](#openhands.sdk.context.skills.skill.logger) –

###### `openhands.sdk.context.skills.skill.Skill`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

A skill provides specialized knowledge or functionality.

Skills use triggers to determine when they should be activated:

- None: Always active, for repository-specific guidelines
- KeywordTrigger: Activated when keywords appear in user messages
- TaskTrigger: Activated for specific tasks, may require user input

**Functions:**

- [**extract_variables**](#openhands.sdk.context.skills.skill.Skill.extract_variables) – Extract variables from the content.
- [**load**](#openhands.sdk.context.skills.skill.Skill.load) – Load a skill from a markdown file with frontmatter.
- [**match_trigger**](#openhands.sdk.context.skills.skill.Skill.match_trigger) – Match a trigger in the message.
- [**requires_user_input**](#openhands.sdk.context.skills.skill.Skill.requires_user_input) – Check if this skill requires user input.

**Attributes:**

- [**PATH_TO_THIRD_PARTY_SKILL_NAME**](#openhands.sdk.context.skills.skill.Skill.PATH_TO_THIRD_PARTY_SKILL_NAME) (<code>[dict](#dict)\[[str](#str), [str](#str)\]</code>) –
- [**content**](#openhands.sdk.context.skills.skill.Skill.content) (<code>[str](#str)</code>) –
- [**inputs**](#openhands.sdk.context.skills.skill.Skill.inputs) (<code>[list](#list)\[[InputMetadata](#openhands.sdk.context.skills.types.InputMetadata)\]</code>) –
- [**mcp_tools**](#openhands.sdk.context.skills.skill.Skill.mcp_tools) (<code>[dict](#dict) | None</code>) –
- [**name**](#openhands.sdk.context.skills.skill.Skill.name) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.context.skills.skill.Skill.source) (<code>[str](#str) | None</code>) –
- [**trigger**](#openhands.sdk.context.skills.skill.Skill.trigger) (<code>[TriggerType](#openhands.sdk.context.skills.skill.TriggerType) | None</code>) –

####### `openhands.sdk.context.skills.skill.Skill.PATH_TO_THIRD_PARTY_SKILL_NAME`

```python
PATH_TO_THIRD_PARTY_SKILL_NAME: dict[str, str] = {'.cursorrules': 'cursorrules', 'agents.md': 'agents', 'agent.md': 'agents'}
```

####### `openhands.sdk.context.skills.skill.Skill.content`

```python
content: str
```

####### `openhands.sdk.context.skills.skill.Skill.extract_variables`

```python
extract_variables(content)
```

Extract variables from the content.

Variables are in the format ${variable_name}.

####### `openhands.sdk.context.skills.skill.Skill.inputs`

```python
inputs: list[InputMetadata] = Field(default_factory=list, description='Input metadata for the skill (task skills only)')
```

####### `openhands.sdk.context.skills.skill.Skill.load`

```python
load(path, skill_dir=None, file_content=None)
```

Load a skill from a markdown file with frontmatter.

The agent's name is derived from its path relative to the skill_dir.

####### `openhands.sdk.context.skills.skill.Skill.match_trigger`

```python
match_trigger(message)
```

Match a trigger in the message.

Returns the first trigger that matches the message, or None if no match.
Only applies to KeywordTrigger and TaskTrigger types.

####### `openhands.sdk.context.skills.skill.Skill.mcp_tools`

```python
mcp_tools: dict | None = Field(default=None, description='MCP tools configuration for the skill (repo skills only). It should conform to the MCPConfig schema: https://gofastmcp.com/clients/client#configuration-format')
```

####### `openhands.sdk.context.skills.skill.Skill.name`

```python
name: str
```

####### `openhands.sdk.context.skills.skill.Skill.requires_user_input`

```python
requires_user_input()
```

Check if this skill requires user input.

Returns True if the content contains variables in the format ${variable_name}.

####### `openhands.sdk.context.skills.skill.Skill.source`

```python
source: str | None = Field(default=None, description='The source path or identifier of the skill. When it is None, it is treated as a programmatically defined skill.')
```

####### `openhands.sdk.context.skills.skill.Skill.trigger`

```python
trigger: TriggerType | None
```

###### `openhands.sdk.context.skills.skill.TriggerType`

```python
TriggerType = Annotated[KeywordTrigger | TaskTrigger, Field(discriminator='type')]
```

###### `openhands.sdk.context.skills.skill.load_skills_from_dir`

```python
load_skills_from_dir(skill_dir)
```

Load all skills from the given directory.

Note, legacy repo instructions will not be loaded here.

**Parameters:**

- **skill_dir** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the skills directory (e.g. .openhands/skills)

**Returns:**

- <code>[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]</code> – Tuple of (repo_skills, knowledge_skills) dictionaries.
- <code>[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]</code> – repo_skills have trigger=None, knowledge_skills have KeywordTrigger
- <code>[tuple](#tuple)\[[dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\], [dict](#dict)\[[str](#str), [Skill](#openhands.sdk.context.skills.skill.Skill)\]\]</code> – or TaskTrigger.

###### `openhands.sdk.context.skills.skill.logger`

```python
logger = get_logger(__name__)
```

##### `openhands.sdk.context.skills.trigger`

Trigger types for skills.

This module defines different trigger types that determine when a skill
should be activated.

**Classes:**

- [**BaseTrigger**](#openhands.sdk.context.skills.trigger.BaseTrigger) – Base class for all trigger types.
- [**KeywordTrigger**](#openhands.sdk.context.skills.trigger.KeywordTrigger) – Trigger for keyword-based skills.
- [**TaskTrigger**](#openhands.sdk.context.skills.trigger.TaskTrigger) – Trigger for task-specific skills.

###### `openhands.sdk.context.skills.trigger.BaseTrigger`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>, <code>[ABC](#abc.ABC)</code>

Base class for all trigger types.

###### `openhands.sdk.context.skills.trigger.KeywordTrigger`

Bases: <code>[BaseTrigger](#openhands.sdk.context.skills.trigger.BaseTrigger)</code>

Trigger for keyword-based skills.

These skills are activated when specific keywords appear in the user's query.

**Attributes:**

- [**keywords**](#openhands.sdk.context.skills.trigger.KeywordTrigger.keywords) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.context.skills.trigger.KeywordTrigger.type) (<code>[Literal](#typing.Literal)['keyword']</code>) –

####### `openhands.sdk.context.skills.trigger.KeywordTrigger.keywords`

```python
keywords: list[str]
```

####### `openhands.sdk.context.skills.trigger.KeywordTrigger.type`

```python
type: Literal['keyword'] = 'keyword'
```

###### `openhands.sdk.context.skills.trigger.TaskTrigger`

Bases: <code>[BaseTrigger](#openhands.sdk.context.skills.trigger.BaseTrigger)</code>

Trigger for task-specific skills.

These skills are activated for specific task types and can modify prompts.

**Attributes:**

- [**triggers**](#openhands.sdk.context.skills.trigger.TaskTrigger.triggers) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.context.skills.trigger.TaskTrigger.type) (<code>[Literal](#typing.Literal)['task']</code>) –

####### `openhands.sdk.context.skills.trigger.TaskTrigger.triggers`

```python
triggers: list[str]
```

####### `openhands.sdk.context.skills.trigger.TaskTrigger.type`

```python
type: Literal['task'] = 'task'
```

##### `openhands.sdk.context.skills.types`

**Classes:**

- [**InputMetadata**](#openhands.sdk.context.skills.types.InputMetadata) – Metadata for task skill inputs.
- [**SkillContentResponse**](#openhands.sdk.context.skills.types.SkillContentResponse) – Response model for individual skill content endpoint.
- [**SkillKnowledge**](#openhands.sdk.context.skills.types.SkillKnowledge) – Represents knowledge from a triggered skill.
- [**SkillResponse**](#openhands.sdk.context.skills.types.SkillResponse) – Response model for skills endpoint.

###### `openhands.sdk.context.skills.types.InputMetadata`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Metadata for task skill inputs.

**Attributes:**

- [**description**](#openhands.sdk.context.skills.types.InputMetadata.description) (<code>[str](#str)</code>) –
- [**name**](#openhands.sdk.context.skills.types.InputMetadata.name) (<code>[str](#str)</code>) –

####### `openhands.sdk.context.skills.types.InputMetadata.description`

```python
description: str = Field(description='Description of the input parameter')
```

####### `openhands.sdk.context.skills.types.InputMetadata.name`

```python
name: str = Field(description='Name of the input parameter')
```

###### `openhands.sdk.context.skills.types.SkillContentResponse`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Response model for individual skill content endpoint.

**Attributes:**

- [**content**](#openhands.sdk.context.skills.types.SkillContentResponse.content) (<code>[str](#str)</code>) –
- [**git_provider**](#openhands.sdk.context.skills.types.SkillContentResponse.git_provider) (<code>[str](#str) | None</code>) –
- [**path**](#openhands.sdk.context.skills.types.SkillContentResponse.path) (<code>[str](#str)</code>) –
- [**triggers**](#openhands.sdk.context.skills.types.SkillContentResponse.triggers) (<code>[list](#list)\[[str](#str)\]</code>) –

####### `openhands.sdk.context.skills.types.SkillContentResponse.content`

```python
content: str = Field(description='The full content of the skill')
```

####### `openhands.sdk.context.skills.types.SkillContentResponse.git_provider`

```python
git_provider: str | None = Field(None, description='Git provider if the skill is sourced from a Git repository')
```

####### `openhands.sdk.context.skills.types.SkillContentResponse.path`

```python
path: str = Field(description='The path or identifier of the skill')
```

####### `openhands.sdk.context.skills.types.SkillContentResponse.triggers`

```python
triggers: list[str] = Field(description='List of triggers associated with the skill')
```

###### `openhands.sdk.context.skills.types.SkillKnowledge`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Represents knowledge from a triggered skill.

**Attributes:**

- [**content**](#openhands.sdk.context.skills.types.SkillKnowledge.content) (<code>[str](#str)</code>) –
- [**name**](#openhands.sdk.context.skills.types.SkillKnowledge.name) (<code>[str](#str)</code>) –
- [**trigger**](#openhands.sdk.context.skills.types.SkillKnowledge.trigger) (<code>[str](#str)</code>) –

####### `openhands.sdk.context.skills.types.SkillKnowledge.content`

```python
content: str = Field(description='The actual content/knowledge from the skill')
```

####### `openhands.sdk.context.skills.types.SkillKnowledge.name`

```python
name: str = Field(description='The name of the skill that was triggered')
```

####### `openhands.sdk.context.skills.types.SkillKnowledge.trigger`

```python
trigger: str = Field(description='The word that triggered this skill')
```

###### `openhands.sdk.context.skills.types.SkillResponse`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Response model for skills endpoint.

Note: This model only includes basic metadata that can be determined
without parsing skill content. Use the separate content API
to get detailed skill information.

**Attributes:**

- [**created_at**](#openhands.sdk.context.skills.types.SkillResponse.created_at) (<code>[datetime](#datetime.datetime)</code>) –
- [**name**](#openhands.sdk.context.skills.types.SkillResponse.name) (<code>[str](#str)</code>) –
- [**path**](#openhands.sdk.context.skills.types.SkillResponse.path) (<code>[str](#str)</code>) –

####### `openhands.sdk.context.skills.types.SkillResponse.created_at`

```python
created_at: datetime = Field(default_factory=(lambda: datetime.now(UTC)), description='Timestamp when the skill was created')
```

####### `openhands.sdk.context.skills.types.SkillResponse.name`

```python
name: str = Field(description='The name of the skill')
```

####### `openhands.sdk.context.skills.types.SkillResponse.path`

```python
path: str = Field(description='The path or identifier of the skill')
```

#### `openhands.sdk.context.view`

**Classes:**

- [**View**](#openhands.sdk.context.view.View) – Linearly ordered view of events.

**Attributes:**

- [**logger**](#openhands.sdk.context.view.logger) –

##### `openhands.sdk.context.view.View`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Linearly ordered view of events.

Produced by a condenser to indicate the included events are ready to process as LLM
input. Also contains fields with information from the condensation process to aid
in deciding whether further condensation is needed.

**Functions:**

- [**filter_unmatched_tool_calls**](#openhands.sdk.context.view.View.filter_unmatched_tool_calls) – Filter out unmatched tool call events.
- [**from_events**](#openhands.sdk.context.view.View.from_events) – Create a view from a list of events, respecting the semantics of any

**Attributes:**

- [**condensations**](#openhands.sdk.context.view.View.condensations) (<code>[list](#list)\[[Condensation](#openhands.sdk.event.Condensation)\]</code>) – A list of condensations that were processed to produce the view.
- [**events**](#openhands.sdk.context.view.View.events) (<code>[list](#list)\[[LLMConvertibleEvent](#openhands.sdk.event.LLMConvertibleEvent)\]</code>) –
- [**most_recent_condensation**](#openhands.sdk.context.view.View.most_recent_condensation) (<code>[Condensation](#openhands.sdk.event.Condensation) | None</code>) – Return the most recent condensation, or None if no condensations exist.
- [**summary_event**](#openhands.sdk.context.view.View.summary_event) (<code>[CondensationSummaryEvent](#openhands.sdk.event.CondensationSummaryEvent) | None</code>) – Return the summary event, or None if no summary exists.
- [**summary_event_index**](#openhands.sdk.context.view.View.summary_event_index) (<code>[int](#int) | None</code>) – Return the index of the summary event, or None if no summary exists.
- [**unhandled_condensation_request**](#openhands.sdk.context.view.View.unhandled_condensation_request) (<code>[bool](#bool)</code>) – Whether there is an unhandled condensation request in the view.

###### `openhands.sdk.context.view.View.condensations`

```python
condensations: list[Condensation] = []
```

A list of condensations that were processed to produce the view.

###### `openhands.sdk.context.view.View.events`

```python
events: list[LLMConvertibleEvent]
```

###### `openhands.sdk.context.view.View.filter_unmatched_tool_calls`

```python
filter_unmatched_tool_calls(events)
```

Filter out unmatched tool call events.

Removes ActionEvents and ObservationEvents that have tool_call_ids
but don't have matching pairs.

###### `openhands.sdk.context.view.View.from_events`

```python
from_events(events)
```

Create a view from a list of events, respecting the semantics of any
condensation events.

###### `openhands.sdk.context.view.View.most_recent_condensation`

```python
most_recent_condensation: Condensation | None
```

Return the most recent condensation, or None if no condensations exist.

###### `openhands.sdk.context.view.View.summary_event`

```python
summary_event: CondensationSummaryEvent | None
```

Return the summary event, or None if no summary exists.

###### `openhands.sdk.context.view.View.summary_event_index`

```python
summary_event_index: int | None
```

Return the index of the summary event, or None if no summary exists.

###### `openhands.sdk.context.view.View.unhandled_condensation_request`

```python
unhandled_condensation_request: bool = False
```

Whether there is an unhandled condensation request in the view.

##### `openhands.sdk.context.view.logger`

```python
logger = getLogger(__name__)
```

### `openhands.sdk.conversation`

**Modules:**

- [**base**](#openhands.sdk.conversation.base) –
- [**conversation**](#openhands.sdk.conversation.conversation) –
- [**conversation_stats**](#openhands.sdk.conversation.conversation_stats) –
- [**event_store**](#openhands.sdk.conversation.event_store) –
- [**events_list_base**](#openhands.sdk.conversation.events_list_base) –
- [**exceptions**](#openhands.sdk.conversation.exceptions) –
- [**fifo_lock**](#openhands.sdk.conversation.fifo_lock) – FIFO Lock implementation that guarantees first-in-first-out access ordering.
- [**impl**](#openhands.sdk.conversation.impl) –
- [**persistence_const**](#openhands.sdk.conversation.persistence_const) –
- [**response_utils**](#openhands.sdk.conversation.response_utils) – Utility functions for extracting agent responses from conversation events.
- [**secret_registry**](#openhands.sdk.conversation.secret_registry) – Secrets manager for handling sensitive data in conversations.
- [**secret_source**](#openhands.sdk.conversation.secret_source) –
- [**serialization_diff**](#openhands.sdk.conversation.serialization_diff) –
- [**state**](#openhands.sdk.conversation.state) –
- [**stuck_detector**](#openhands.sdk.conversation.stuck_detector) –
- [**title_utils**](#openhands.sdk.conversation.title_utils) – Utility functions for generating conversation titles.
- [**types**](#openhands.sdk.conversation.types) –
- [**visualizer**](#openhands.sdk.conversation.visualizer) –

**Classes:**

- [**BaseConversation**](#openhands.sdk.conversation.BaseConversation) –
- [**Conversation**](#openhands.sdk.conversation.Conversation) – Factory entrypoint that returns a LocalConversation or RemoteConversation.
- [**ConversationState**](#openhands.sdk.conversation.ConversationState) –
- [**ConversationVisualizer**](#openhands.sdk.conversation.ConversationVisualizer) – Handles visualization of conversation events with Rich formatting.
- [**EventLog**](#openhands.sdk.conversation.EventLog) –
- [**EventsListBase**](#openhands.sdk.conversation.EventsListBase) – Abstract base class for event lists that can be appended to.
- [**LocalConversation**](#openhands.sdk.conversation.LocalConversation) –
- [**RemoteConversation**](#openhands.sdk.conversation.RemoteConversation) –
- [**SecretRegistry**](#openhands.sdk.conversation.SecretRegistry) – Manages secrets and injects them into bash commands when needed.
- [**StuckDetector**](#openhands.sdk.conversation.StuckDetector) – Detects when an agent is stuck in repetitive or unproductive patterns.

**Functions:**

- [**get_agent_final_response**](#openhands.sdk.conversation.get_agent_final_response) – Extract the final response from the agent.

**Attributes:**

- [**ConversationCallbackType**](#openhands.sdk.conversation.ConversationCallbackType) –

#### `openhands.sdk.conversation.BaseConversation`

Bases: <code>[ABC](#abc.ABC)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.BaseConversation.close) –
- [**compose_callbacks**](#openhands.sdk.conversation.BaseConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.BaseConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.BaseConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.BaseConversation.pause) –
- [**reject_pending_actions**](#openhands.sdk.conversation.BaseConversation.reject_pending_actions) –
- [**run**](#openhands.sdk.conversation.BaseConversation.run) –
- [**send_message**](#openhands.sdk.conversation.BaseConversation.send_message) –
- [**set_confirmation_policy**](#openhands.sdk.conversation.BaseConversation.set_confirmation_policy) –
- [**update_secrets**](#openhands.sdk.conversation.BaseConversation.update_secrets) –

**Attributes:**

- [**confirmation_policy_active**](#openhands.sdk.conversation.BaseConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.BaseConversation.conversation_stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) –
- [**id**](#openhands.sdk.conversation.BaseConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.BaseConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**state**](#openhands.sdk.conversation.BaseConversation.state) (<code>[ConversationStateProtocol](#openhands.sdk.conversation.base.ConversationStateProtocol)</code>) –

##### `openhands.sdk.conversation.BaseConversation.close`

```python
close()
```

##### `openhands.sdk.conversation.BaseConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

##### `openhands.sdk.conversation.BaseConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

##### `openhands.sdk.conversation.BaseConversation.conversation_stats`

```python
conversation_stats: ConversationStats
```

##### `openhands.sdk.conversation.BaseConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.llm.LLM) | None</code>) – Optional LLM to use for title generation. If not provided,
  uses the agent's LLM.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation.

##### `openhands.sdk.conversation.BaseConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

##### `openhands.sdk.conversation.BaseConversation.id`

```python
id: ConversationID
```

##### `openhands.sdk.conversation.BaseConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

##### `openhands.sdk.conversation.BaseConversation.pause`

```python
pause()
```

##### `openhands.sdk.conversation.BaseConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

##### `openhands.sdk.conversation.BaseConversation.run`

```python
run()
```

##### `openhands.sdk.conversation.BaseConversation.send_message`

```python
send_message(message)
```

##### `openhands.sdk.conversation.BaseConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

##### `openhands.sdk.conversation.BaseConversation.state`

```python
state: ConversationStateProtocol
```

##### `openhands.sdk.conversation.BaseConversation.update_secrets`

```python
update_secrets(secrets)
```

#### `openhands.sdk.conversation.Conversation`

Factory entrypoint that returns a LocalConversation or RemoteConversation.

<details class="usage" open markdown="1">
<summary>Usage</summary>

- Conversation(agent=...) -> LocalConversation
- Conversation(agent=..., host="http://...") -> RemoteConversation

</details>

#### `openhands.sdk.conversation.ConversationCallbackType`

```python
ConversationCallbackType = Callable[[Event], None]
```

#### `openhands.sdk.conversation.ConversationState`

Bases: <code>[OpenHandsModel](#openhands.sdk.utils.models.OpenHandsModel)</code>

**Functions:**

- [**acquire**](#openhands.sdk.conversation.ConversationState.acquire) – Acquire the lock.
- [**create**](#openhands.sdk.conversation.ConversationState.create) – If base_state.json exists: resume (attach EventLog,
- [**get_unmatched_actions**](#openhands.sdk.conversation.ConversationState.get_unmatched_actions) – Find actions in the event history that don't have matching observations.
- [**locked**](#openhands.sdk.conversation.ConversationState.locked) – Return True if the lock is currently held by any thread.
- [**model_dump_json**](#openhands.sdk.conversation.ConversationState.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.conversation.ConversationState.model_json_schema) –
- [**model_post_init**](#openhands.sdk.conversation.ConversationState.model_post_init) –
- [**model_validate**](#openhands.sdk.conversation.ConversationState.model_validate) –
- [**model_validate_json**](#openhands.sdk.conversation.ConversationState.model_validate_json) –
- [**owned**](#openhands.sdk.conversation.ConversationState.owned) – Return True if the lock is currently held by the calling thread.
- [**release**](#openhands.sdk.conversation.ConversationState.release) – Release the lock.
- [**set_on_state_change**](#openhands.sdk.conversation.ConversationState.set_on_state_change) – Set a callback to be called when state changes.

**Attributes:**

- [**activated_knowledge_skills**](#openhands.sdk.conversation.ConversationState.activated_knowledge_skills) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**agent**](#openhands.sdk.conversation.ConversationState.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**agent_status**](#openhands.sdk.conversation.ConversationState.agent_status) (<code>[AgentExecutionStatus](#openhands.sdk.conversation.state.AgentExecutionStatus)</code>) –
- [**confirmation_policy**](#openhands.sdk.conversation.ConversationState.confirmation_policy) (<code>[ConfirmationPolicyBase](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase)</code>) –
- [**events**](#openhands.sdk.conversation.ConversationState.events) (<code>[EventLog](#openhands.sdk.conversation.event_store.EventLog)</code>) –
- [**id**](#openhands.sdk.conversation.ConversationState.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**max_iterations**](#openhands.sdk.conversation.ConversationState.max_iterations) (<code>[int](#int)</code>) –
- [**persistence_dir**](#openhands.sdk.conversation.ConversationState.persistence_dir) (<code>[str](#str) | None</code>) –
- [**secret_registry**](#openhands.sdk.conversation.ConversationState.secret_registry) (<code>[SecretRegistry](#openhands.sdk.conversation.secret_registry.SecretRegistry)</code>) –
- [**stats**](#openhands.sdk.conversation.ConversationState.stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) –
- [**stuck_detection**](#openhands.sdk.conversation.ConversationState.stuck_detection) (<code>[bool](#bool)</code>) –
- [**workspace**](#openhands.sdk.conversation.ConversationState.workspace) (<code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>) –

##### `openhands.sdk.conversation.ConversationState.acquire`

```python
acquire(blocking=True, timeout=-1)
```

Acquire the lock.

**Parameters:**

- **blocking** (<code>[bool](#bool)</code>) – If True, block until lock is acquired. If False, return
  immediately.
- **timeout** (<code>[float](#float)</code>) – Maximum time to wait for lock (ignored if blocking=False).
  -1 means wait indefinitely.

**Returns:**

- <code>[bool](#bool)</code> – True if lock was acquired, False otherwise.

##### `openhands.sdk.conversation.ConversationState.activated_knowledge_skills`

```python
activated_knowledge_skills: list[str] = Field(default_factory=list, description='List of activated knowledge skills name')
```

##### `openhands.sdk.conversation.ConversationState.agent`

```python
agent: AgentBase = Field(..., description='The agent running in the conversation. This is persisted to allow resuming conversations and check agent configuration to handle e.g., tool changes, LLM changes, etc.')
```

##### `openhands.sdk.conversation.ConversationState.agent_status`

```python
agent_status: AgentExecutionStatus = Field(default=(AgentExecutionStatus.IDLE))
```

##### `openhands.sdk.conversation.ConversationState.confirmation_policy`

```python
confirmation_policy: ConfirmationPolicyBase = NeverConfirm()
```

##### `openhands.sdk.conversation.ConversationState.create`

```python
create(id, agent, workspace, persistence_dir=None, max_iterations=500, stuck_detection=True)
```

If base_state.json exists: resume (attach EventLog,
reconcile agent, enforce id).
Else: create fresh (agent required), persist base, and return.

##### `openhands.sdk.conversation.ConversationState.events`

```python
events: EventLog
```

##### `openhands.sdk.conversation.ConversationState.get_unmatched_actions`

```python
get_unmatched_actions(events)
```

Find actions in the event history that don't have matching observations.

This method identifies ActionEvents that don't have corresponding
ObservationEvents or UserRejectObservations, which typically indicates
actions that are pending confirmation or execution.

**Parameters:**

- **events** (<code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.base.Event)\]</code>) – List of events to search through

**Returns:**

- <code>[list](#list)\[[ActionEvent](#openhands.sdk.event.ActionEvent)\]</code> – List of ActionEvent objects that don't have corresponding observations,
- <code>[list](#list)\[[ActionEvent](#openhands.sdk.event.ActionEvent)\]</code> – in chronological order

##### `openhands.sdk.conversation.ConversationState.id`

```python
id: ConversationID = Field(description='Unique conversation ID')
```

##### `openhands.sdk.conversation.ConversationState.locked`

```python
locked()
```

Return True if the lock is currently held by any thread.

##### `openhands.sdk.conversation.ConversationState.max_iterations`

```python
max_iterations: int = Field(default=500, gt=0, description='Maximum number of iterations the agent can perform in a single run.')
```

##### `openhands.sdk.conversation.ConversationState.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.conversation.ConversationState.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.conversation.ConversationState.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.conversation.ConversationState.model_validate`

```python
model_validate(*args, **kwargs)
```

##### `openhands.sdk.conversation.ConversationState.model_validate_json`

```python
model_validate_json(*args, **kwargs)
```

##### `openhands.sdk.conversation.ConversationState.owned`

```python
owned()
```

Return True if the lock is currently held by the calling thread.

##### `openhands.sdk.conversation.ConversationState.persistence_dir`

```python
persistence_dir: str | None = Field(default='workspace/conversations', description='Directory for persisting conversation state and events. If None, conversation will not be persisted.')
```

##### `openhands.sdk.conversation.ConversationState.release`

```python
release()
```

Release the lock.

**Raises:**

- <code>[RuntimeError](#RuntimeError)</code> – If the current thread doesn't own the lock.

##### `openhands.sdk.conversation.ConversationState.secret_registry`

```python
secret_registry: SecretRegistry = Field(default_factory=SecretRegistry, description='Registry for handling secrets and sensitive data', validation_alias=(AliasChoices('secret_registry', 'secrets_manager')), serialization_alias='secret_registry')
```

##### `openhands.sdk.conversation.ConversationState.set_on_state_change`

```python
set_on_state_change(callback)
```

Set a callback to be called when state changes.

**Parameters:**

- **callback** (<code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType) | None</code>) – A function that takes an Event (ConversationStateUpdateEvent)
  or None to remove the callback

##### `openhands.sdk.conversation.ConversationState.stats`

```python
stats: ConversationStats = Field(default_factory=ConversationStats, description='Conversation statistics for tracking LLM metrics')
```

##### `openhands.sdk.conversation.ConversationState.stuck_detection`

```python
stuck_detection: bool = Field(default=True, description='Whether to enable stuck detection for the agent.')
```

##### `openhands.sdk.conversation.ConversationState.workspace`

```python
workspace: BaseWorkspace = Field(..., description='Working directory for agent operations and tool execution')
```

#### `openhands.sdk.conversation.ConversationVisualizer`

```python
ConversationVisualizer(highlight_regex=None, skip_user_messages=False, conversation_stats=None, name_for_visualization=None)
```

Handles visualization of conversation events with Rich formatting.

Provides Rich-formatted output with panels and complete content display.

**Functions:**

- [**on_event**](#openhands.sdk.conversation.ConversationVisualizer.on_event) – Main event handler that displays events with Rich formatting.

**Parameters:**

- **highlight_regex** (<code>[dict](#dict)\[[str](#str), [str](#str)\] | None</code>) – Dictionary mapping regex patterns to Rich color styles
  for highlighting keywords in the visualizer.
  For example: {"Reasoning:": "bold blue",
  "Thought:": "bold green"}
- **skip_user_messages** (<code>[bool](#bool)</code>) – If True, skip displaying user messages. Useful for
  scenarios where user input is not relevant to show.
- **conversation_stats** (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats) | None</code>) – ConversationStats object to display metrics information.
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.

##### `openhands.sdk.conversation.ConversationVisualizer.on_event`

```python
on_event(event)
```

Main event handler that displays events with Rich formatting.

#### `openhands.sdk.conversation.EventLog`

```python
EventLog(fs, dir_path=EVENTS_DIR)
```

Bases: <code>[EventsListBase](#openhands.sdk.conversation.events_list_base.EventsListBase)</code>

**Functions:**

- [**append**](#openhands.sdk.conversation.EventLog.append) –
- [**get_id**](#openhands.sdk.conversation.EventLog.get_id) – Return the event_id for a given index.
- [**get_index**](#openhands.sdk.conversation.EventLog.get_index) – Return the integer index for a given event_id.

##### `openhands.sdk.conversation.EventLog.append`

```python
append(event)
```

##### `openhands.sdk.conversation.EventLog.get_id`

```python
get_id(idx)
```

Return the event_id for a given index.

##### `openhands.sdk.conversation.EventLog.get_index`

```python
get_index(event_id)
```

Return the integer index for a given event_id.

#### `openhands.sdk.conversation.EventsListBase`

Bases: <code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.Event)\]</code>, <code>[ABC](#abc.ABC)</code>

Abstract base class for event lists that can be appended to.

This provides a common interface for both local EventLog and remote
RemoteEventsList implementations, avoiding circular imports in protocols.

**Functions:**

- [**append**](#openhands.sdk.conversation.EventsListBase.append) – Add a new event to the list.

##### `openhands.sdk.conversation.EventsListBase.append`

```python
append(event)
```

Add a new event to the list.

#### `openhands.sdk.conversation.LocalConversation`

```python
LocalConversation(agent, workspace, persistence_dir=None, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=True, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.LocalConversation.close) – Close the conversation and clean up all tool executors.
- [**compose_callbacks**](#openhands.sdk.conversation.LocalConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.LocalConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.LocalConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.LocalConversation.pause) – Pause agent execution.
- [**reject_pending_actions**](#openhands.sdk.conversation.LocalConversation.reject_pending_actions) – Reject all pending actions from the agent.
- [**run**](#openhands.sdk.conversation.LocalConversation.run) – Runs the conversation until the agent finishes.
- [**send_message**](#openhands.sdk.conversation.LocalConversation.send_message) – Send a message to the agent.
- [**set_confirmation_policy**](#openhands.sdk.conversation.LocalConversation.set_confirmation_policy) – Set the confirmation policy and store it in conversation state.
- [**update_secrets**](#openhands.sdk.conversation.LocalConversation.update_secrets) – Add secrets to the conversation.

**Attributes:**

- [**agent**](#openhands.sdk.conversation.LocalConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.conversation.LocalConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.LocalConversation.conversation_stats) –
- [**id**](#openhands.sdk.conversation.LocalConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) – Get the unique ID of the conversation.
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.LocalConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**llm_registry**](#openhands.sdk.conversation.LocalConversation.llm_registry) (<code>[LLMRegistry](#openhands.sdk.llm.llm_registry.LLMRegistry)</code>) –
- [**max_iteration_per_run**](#openhands.sdk.conversation.LocalConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.conversation.LocalConversation.state) (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) – Get the conversation state.
- [**stuck_detector**](#openhands.sdk.conversation.LocalConversation.stuck_detector) (<code>[StuckDetector](#openhands.sdk.conversation.stuck_detector.StuckDetector) | None</code>) – Get the stuck detector instance if enabled.
- [**workspace**](#openhands.sdk.conversation.LocalConversation.workspace) (<code>[LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – The agent to use for the conversation
- **workspace** (<code>[str](#str) | [LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) – Working directory for agent operations and tool execution
- **persistence_dir** (<code>[str](#str) | None</code>) – Directory for persisting conversation state and events
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional ID for the conversation. If provided, will
  be used to identify the conversation. The user might want to
  suffix their persistent filestore with this ID.
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional list of callback functions to handle events
- **max_iteration_per_run** (<code>[int](#int)</code>) – Maximum number of iterations per run
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable default visualization. If True, adds
  a default visualizer callback. If False, relies on
  application to provide visualization through callbacks.
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection

##### `openhands.sdk.conversation.LocalConversation.agent`

```python
agent: AgentBase = agent
```

##### `openhands.sdk.conversation.LocalConversation.close`

```python
close()
```

Close the conversation and clean up all tool executors.

##### `openhands.sdk.conversation.LocalConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

##### `openhands.sdk.conversation.LocalConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

##### `openhands.sdk.conversation.LocalConversation.conversation_stats`

```python
conversation_stats
```

##### `openhands.sdk.conversation.LocalConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If not provided,
  uses self.agent.llm.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation.

##### `openhands.sdk.conversation.LocalConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

##### `openhands.sdk.conversation.LocalConversation.id`

```python
id: ConversationID
```

Get the unique ID of the conversation.

##### `openhands.sdk.conversation.LocalConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

##### `openhands.sdk.conversation.LocalConversation.llm_registry`

```python
llm_registry: LLMRegistry = LLMRegistry()
```

##### `openhands.sdk.conversation.LocalConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

##### `openhands.sdk.conversation.LocalConversation.pause`

```python
pause()
```

Pause agent execution.

This method can be called from any thread to request that the agent
pause execution. The pause will take effect at the next iteration
of the run loop (between agent steps).

Note: If called during an LLM completion, the pause will not take
effect until the current LLM call completes.

##### `openhands.sdk.conversation.LocalConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

Reject all pending actions from the agent.

This is a non-invasive method to reject actions between run() calls.
Also clears the agent_waiting_for_confirmation flag.

##### `openhands.sdk.conversation.LocalConversation.run`

```python
run()
```

Runs the conversation until the agent finishes.

In confirmation mode:

- First call: creates actions but doesn't execute them, stops and waits
- Second call: executes pending actions (implicit confirmation)

In normal mode:

- Creates and executes actions immediately

Can be paused between steps

##### `openhands.sdk.conversation.LocalConversation.send_message`

```python
send_message(message)
```

Send a message to the agent.

**Parameters:**

- **message** (<code>[str](#str) | [Message](#openhands.sdk.llm.Message)</code>) – Either a string (which will be converted to a user message)
  or a Message object

##### `openhands.sdk.conversation.LocalConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

Set the confirmation policy and store it in conversation state.

##### `openhands.sdk.conversation.LocalConversation.state`

```python
state: ConversationState
```

Get the conversation state.

It returns a protocol that has a subset of ConversationState methods
and properties. We will have the ability to access the same properties
of ConversationState on a remote conversation object.
But we won't be able to access methods that mutate the state.

##### `openhands.sdk.conversation.LocalConversation.stuck_detector`

```python
stuck_detector: StuckDetector | None
```

Get the stuck detector instance if enabled.

##### `openhands.sdk.conversation.LocalConversation.update_secrets`

```python
update_secrets(secrets)
```

Add secrets to the conversation.

**Parameters:**

- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\]</code>) – Dictionary mapping secret keys to values or no-arg callables.
  SecretValue = str | Callable\[[], str\]. Callables are invoked lazily
  when a command references the secret key.

##### `openhands.sdk.conversation.LocalConversation.workspace`

```python
workspace: LocalWorkspace = workspace
```

#### `openhands.sdk.conversation.RemoteConversation`

```python
RemoteConversation(agent, workspace, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=False, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.RemoteConversation.close) –
- [**compose_callbacks**](#openhands.sdk.conversation.RemoteConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.RemoteConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.RemoteConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.RemoteConversation.pause) –
- [**reject_pending_actions**](#openhands.sdk.conversation.RemoteConversation.reject_pending_actions) –
- [**run**](#openhands.sdk.conversation.RemoteConversation.run) –
- [**send_message**](#openhands.sdk.conversation.RemoteConversation.send_message) –
- [**set_confirmation_policy**](#openhands.sdk.conversation.RemoteConversation.set_confirmation_policy) –
- [**update_secrets**](#openhands.sdk.conversation.RemoteConversation.update_secrets) –

**Attributes:**

- [**agent**](#openhands.sdk.conversation.RemoteConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.conversation.RemoteConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.RemoteConversation.conversation_stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) – Get conversation stats from remote server.
- [**id**](#openhands.sdk.conversation.RemoteConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.RemoteConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**max_iteration_per_run**](#openhands.sdk.conversation.RemoteConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.conversation.RemoteConversation.state) (<code>[RemoteState](#openhands.sdk.conversation.impl.remote_conversation.RemoteState)</code>) – Access to remote conversation state.
- [**stuck_detector**](#openhands.sdk.conversation.RemoteConversation.stuck_detector) – Stuck detector for compatibility.
- [**workspace**](#openhands.sdk.conversation.RemoteConversation.workspace) (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – Agent configuration (will be sent to the server)
- **workspace** (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) – The working directory for agent operations and tool execution.
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional existing conversation id to attach to
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional callbacks to receive events (not yet streamed)
- **max_iteration_per_run** (<code>[int](#int)</code>) – Max iterations configured on server
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection on server
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable the default visualizer callback
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\] | None</code>) – Optional secrets to initialize the conversation with

##### `openhands.sdk.conversation.RemoteConversation.agent`

```python
agent: AgentBase = agent
```

##### `openhands.sdk.conversation.RemoteConversation.close`

```python
close()
```

##### `openhands.sdk.conversation.RemoteConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

##### `openhands.sdk.conversation.RemoteConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

##### `openhands.sdk.conversation.RemoteConversation.conversation_stats`

```python
conversation_stats: ConversationStats
```

Get conversation stats from remote server.

##### `openhands.sdk.conversation.RemoteConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If provided, its usage_id
  will be sent to the server. If not provided, uses the agent's LLM.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

##### `openhands.sdk.conversation.RemoteConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

##### `openhands.sdk.conversation.RemoteConversation.id`

```python
id: ConversationID
```

##### `openhands.sdk.conversation.RemoteConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

##### `openhands.sdk.conversation.RemoteConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

##### `openhands.sdk.conversation.RemoteConversation.pause`

```python
pause()
```

##### `openhands.sdk.conversation.RemoteConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

##### `openhands.sdk.conversation.RemoteConversation.run`

```python
run()
```

##### `openhands.sdk.conversation.RemoteConversation.send_message`

```python
send_message(message)
```

##### `openhands.sdk.conversation.RemoteConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

##### `openhands.sdk.conversation.RemoteConversation.state`

```python
state: RemoteState
```

Access to remote conversation state.

##### `openhands.sdk.conversation.RemoteConversation.stuck_detector`

```python
stuck_detector
```

Stuck detector for compatibility.
Not implemented for remote conversations.

##### `openhands.sdk.conversation.RemoteConversation.update_secrets`

```python
update_secrets(secrets)
```

##### `openhands.sdk.conversation.RemoteConversation.workspace`

```python
workspace: RemoteWorkspace = workspace
```

#### `openhands.sdk.conversation.SecretRegistry`

Bases: <code>[OpenHandsModel](#openhands.sdk.utils.models.OpenHandsModel)</code>

Manages secrets and injects them into bash commands when needed.

The secret registry stores a mapping of secret keys to SecretSources
that retrieve the actual secret values. When a bash command is about to be
executed, it scans the command for any secret keys and injects the corresponding
environment variables.

Secret sources will redact / encrypt their sensitive values as appropriate when
serializing, depending on the content of the context. If a context is present
and contains a 'cipher' object, this is used for encryption. If it contains a
boolean 'expose_secrets' flag set to True, secrets are dunped in plain text.
Otherwise secrets are redacted.

Additionally, it tracks the latest exported values to enable consistent masking
even when callable secrets fail on subsequent calls.

**Functions:**

- [**find_secrets_in_text**](#openhands.sdk.conversation.SecretRegistry.find_secrets_in_text) – Find all secret keys mentioned in the given text.
- [**get_secrets_as_env_vars**](#openhands.sdk.conversation.SecretRegistry.get_secrets_as_env_vars) – Get secrets that should be exported as environment variables for a command.
- [**mask_secrets_in_output**](#openhands.sdk.conversation.SecretRegistry.mask_secrets_in_output) – Mask secret values in the given text.
- [**model_dump_json**](#openhands.sdk.conversation.SecretRegistry.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.conversation.SecretRegistry.model_json_schema) –
- [**model_post_init**](#openhands.sdk.conversation.SecretRegistry.model_post_init) –
- [**model_validate**](#openhands.sdk.conversation.SecretRegistry.model_validate) –
- [**model_validate_json**](#openhands.sdk.conversation.SecretRegistry.model_validate_json) –
- [**update_secrets**](#openhands.sdk.conversation.SecretRegistry.update_secrets) – Add or update secrets in the manager.

**Attributes:**

- [**secret_sources**](#openhands.sdk.conversation.SecretRegistry.secret_sources) (<code>[dict](#dict)\[[str](#str), [SecretSource](#openhands.sdk.conversation.secret_source.SecretSource)\]</code>) –

##### `openhands.sdk.conversation.SecretRegistry.find_secrets_in_text`

```python
find_secrets_in_text(text)
```

Find all secret keys mentioned in the given text.

**Parameters:**

- **text** (<code>[str](#str)</code>) – The text to search for secret keys

**Returns:**

- <code>[set](#set)\[[str](#str)\]</code> – Set of secret keys found in the text

##### `openhands.sdk.conversation.SecretRegistry.get_secrets_as_env_vars`

```python
get_secrets_as_env_vars(command)
```

Get secrets that should be exported as environment variables for a command.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to check for secret references

**Returns:**

- <code>[dict](#dict)\[[str](#str), [str](#str)\]</code> – Dictionary of environment variables to export (key -> value)

##### `openhands.sdk.conversation.SecretRegistry.mask_secrets_in_output`

```python
mask_secrets_in_output(text)
```

Mask secret values in the given text.

This method uses both the current exported values and attempts to get
fresh values from callables to ensure comprehensive masking.

**Parameters:**

- **text** (<code>[str](#str)</code>) – The text to mask secrets in

**Returns:**

- <code>[str](#str)</code> – Text with secret values replaced by <secret-hidden>

##### `openhands.sdk.conversation.SecretRegistry.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.conversation.SecretRegistry.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.conversation.SecretRegistry.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.conversation.SecretRegistry.model_validate`

```python
model_validate(*args, **kwargs)
```

##### `openhands.sdk.conversation.SecretRegistry.model_validate_json`

```python
model_validate_json(*args, **kwargs)
```

##### `openhands.sdk.conversation.SecretRegistry.secret_sources`

```python
secret_sources: dict[str, SecretSource] = Field(default_factory=dict)
```

##### `openhands.sdk.conversation.SecretRegistry.update_secrets`

```python
update_secrets(secrets)
```

Add or update secrets in the manager.

**Parameters:**

- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\]</code>) – Dictionary mapping secret keys to either string values
  or callable functions that return string values

#### `openhands.sdk.conversation.StuckDetector`

```python
StuckDetector(state)
```

Detects when an agent is stuck in repetitive or unproductive patterns.

This detector analyzes the conversation history to identify various stuck patterns:

1. Repeating action-observation cycles
1. Repeating action-error cycles
1. Agent monologue (repeated messages without user input)
1. Repeating alternating action-observation patterns
1. Context window errors indicating memory issues

**Functions:**

- [**is_stuck**](#openhands.sdk.conversation.StuckDetector.is_stuck) – Check if the agent is currently stuck.

**Attributes:**

- [**state**](#openhands.sdk.conversation.StuckDetector.state) (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) –

##### `openhands.sdk.conversation.StuckDetector.is_stuck`

```python
is_stuck()
```

Check if the agent is currently stuck.

##### `openhands.sdk.conversation.StuckDetector.state`

```python
state: ConversationState = state
```

#### `openhands.sdk.conversation.base`

**Classes:**

- [**BaseConversation**](#openhands.sdk.conversation.base.BaseConversation) –
- [**ConversationStateProtocol**](#openhands.sdk.conversation.base.ConversationStateProtocol) – Protocol defining the interface for conversation state objects.

##### `openhands.sdk.conversation.base.BaseConversation`

Bases: <code>[ABC](#abc.ABC)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.base.BaseConversation.close) –
- [**compose_callbacks**](#openhands.sdk.conversation.base.BaseConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.base.BaseConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.base.BaseConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.base.BaseConversation.pause) –
- [**reject_pending_actions**](#openhands.sdk.conversation.base.BaseConversation.reject_pending_actions) –
- [**run**](#openhands.sdk.conversation.base.BaseConversation.run) –
- [**send_message**](#openhands.sdk.conversation.base.BaseConversation.send_message) –
- [**set_confirmation_policy**](#openhands.sdk.conversation.base.BaseConversation.set_confirmation_policy) –
- [**update_secrets**](#openhands.sdk.conversation.base.BaseConversation.update_secrets) –

**Attributes:**

- [**confirmation_policy_active**](#openhands.sdk.conversation.base.BaseConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.base.BaseConversation.conversation_stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) –
- [**id**](#openhands.sdk.conversation.base.BaseConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.base.BaseConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**state**](#openhands.sdk.conversation.base.BaseConversation.state) (<code>[ConversationStateProtocol](#openhands.sdk.conversation.base.ConversationStateProtocol)</code>) –

###### `openhands.sdk.conversation.base.BaseConversation.close`

```python
close()
```

###### `openhands.sdk.conversation.base.BaseConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

###### `openhands.sdk.conversation.base.BaseConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

###### `openhands.sdk.conversation.base.BaseConversation.conversation_stats`

```python
conversation_stats: ConversationStats
```

###### `openhands.sdk.conversation.base.BaseConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.llm.LLM) | None</code>) – Optional LLM to use for title generation. If not provided,
  uses the agent's LLM.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation.

###### `openhands.sdk.conversation.base.BaseConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

###### `openhands.sdk.conversation.base.BaseConversation.id`

```python
id: ConversationID
```

###### `openhands.sdk.conversation.base.BaseConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

###### `openhands.sdk.conversation.base.BaseConversation.pause`

```python
pause()
```

###### `openhands.sdk.conversation.base.BaseConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

###### `openhands.sdk.conversation.base.BaseConversation.run`

```python
run()
```

###### `openhands.sdk.conversation.base.BaseConversation.send_message`

```python
send_message(message)
```

###### `openhands.sdk.conversation.base.BaseConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

###### `openhands.sdk.conversation.base.BaseConversation.state`

```python
state: ConversationStateProtocol
```

###### `openhands.sdk.conversation.base.BaseConversation.update_secrets`

```python
update_secrets(secrets)
```

##### `openhands.sdk.conversation.base.ConversationStateProtocol`

Bases: <code>[Protocol](#typing.Protocol)</code>

Protocol defining the interface for conversation state objects.

**Attributes:**

- [**activated_knowledge_skills**](#openhands.sdk.conversation.base.ConversationStateProtocol.activated_knowledge_skills) (<code>[list](#list)\[[str](#str)\]</code>) – List of activated knowledge skills.
- [**agent**](#openhands.sdk.conversation.base.ConversationStateProtocol.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – The agent running in the conversation.
- [**agent_status**](#openhands.sdk.conversation.base.ConversationStateProtocol.agent_status) (<code>[AgentExecutionStatus](#openhands.sdk.conversation.state.AgentExecutionStatus)</code>) – The current agent execution status.
- [**confirmation_policy**](#openhands.sdk.conversation.base.ConversationStateProtocol.confirmation_policy) (<code>[ConfirmationPolicyBase](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase)</code>) – The confirmation policy.
- [**events**](#openhands.sdk.conversation.base.ConversationStateProtocol.events) (<code>[EventsListBase](#openhands.sdk.conversation.events_list_base.EventsListBase)</code>) – Access to the events list.
- [**id**](#openhands.sdk.conversation.base.ConversationStateProtocol.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) – The conversation ID.
- [**persistence_dir**](#openhands.sdk.conversation.base.ConversationStateProtocol.persistence_dir) (<code>[str](#str) | None</code>) – The persistence directory from the FileStore.
- [**workspace**](#openhands.sdk.conversation.base.ConversationStateProtocol.workspace) (<code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>) – The workspace for agent operations and tool execution.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.activated_knowledge_skills`

```python
activated_knowledge_skills: list[str]
```

List of activated knowledge skills.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.agent`

```python
agent: AgentBase
```

The agent running in the conversation.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.agent_status`

```python
agent_status: AgentExecutionStatus
```

The current agent execution status.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.confirmation_policy`

```python
confirmation_policy: ConfirmationPolicyBase
```

The confirmation policy.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.events`

```python
events: EventsListBase
```

Access to the events list.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.id`

```python
id: ConversationID
```

The conversation ID.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.persistence_dir`

```python
persistence_dir: str | None
```

The persistence directory from the FileStore.

If None, it means the conversation is not being persisted.

###### `openhands.sdk.conversation.base.ConversationStateProtocol.workspace`

```python
workspace: BaseWorkspace
```

The workspace for agent operations and tool execution.

#### `openhands.sdk.conversation.conversation`

**Classes:**

- [**Conversation**](#openhands.sdk.conversation.conversation.Conversation) – Factory entrypoint that returns a LocalConversation or RemoteConversation.

**Attributes:**

- [**logger**](#openhands.sdk.conversation.conversation.logger) –

##### `openhands.sdk.conversation.conversation.Conversation`

Factory entrypoint that returns a LocalConversation or RemoteConversation.

<details class="usage" open markdown="1">
<summary>Usage</summary>

- Conversation(agent=...) -> LocalConversation
- Conversation(agent=..., host="http://...") -> RemoteConversation

</details>

##### `openhands.sdk.conversation.conversation.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.conversation_stats`

**Classes:**

- [**ConversationStats**](#openhands.sdk.conversation.conversation_stats.ConversationStats) – Track per-LLM usage metrics observed during conversations.

**Attributes:**

- [**RESTORED_SERVICES_DEPRECATION_MSG**](#openhands.sdk.conversation.conversation_stats.RESTORED_SERVICES_DEPRECATION_MSG) –
- [**SERVICE_TO_USAGE_DEPRECATION_MSG**](#openhands.sdk.conversation.conversation_stats.SERVICE_TO_USAGE_DEPRECATION_MSG) –
- [**logger**](#openhands.sdk.conversation.conversation_stats.logger) –

##### `openhands.sdk.conversation.conversation_stats.ConversationStats`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Track per-LLM usage metrics observed during conversations.

**Functions:**

- [**get_combined_metrics**](#openhands.sdk.conversation.conversation_stats.ConversationStats.get_combined_metrics) –
- [**get_metrics_for_service**](#openhands.sdk.conversation.conversation_stats.ConversationStats.get_metrics_for_service) –
- [**get_metrics_for_usage**](#openhands.sdk.conversation.conversation_stats.ConversationStats.get_metrics_for_usage) –
- [**register_llm**](#openhands.sdk.conversation.conversation_stats.ConversationStats.register_llm) –

**Attributes:**

- [**service_to_metrics**](#openhands.sdk.conversation.conversation_stats.ConversationStats.service_to_metrics) (<code>[dict](#dict)\[[str](#str), [Metrics](#openhands.sdk.llm.utils.metrics.Metrics)\]</code>) –
- [**usage_to_metrics**](#openhands.sdk.conversation.conversation_stats.ConversationStats.usage_to_metrics) (<code>[dict](#dict)\[[str](#str), [Metrics](#openhands.sdk.llm.utils.metrics.Metrics)\]</code>) –

###### `openhands.sdk.conversation.conversation_stats.ConversationStats.get_combined_metrics`

```python
get_combined_metrics()
```

###### `openhands.sdk.conversation.conversation_stats.ConversationStats.get_metrics_for_service`

```python
get_metrics_for_service(service_id)
```

###### `openhands.sdk.conversation.conversation_stats.ConversationStats.get_metrics_for_usage`

```python
get_metrics_for_usage(usage_id)
```

###### `openhands.sdk.conversation.conversation_stats.ConversationStats.register_llm`

```python
register_llm(event)
```

###### `openhands.sdk.conversation.conversation_stats.ConversationStats.service_to_metrics`

```python
service_to_metrics: dict[str, Metrics]
```

###### `openhands.sdk.conversation.conversation_stats.ConversationStats.usage_to_metrics`

```python
usage_to_metrics: dict[str, Metrics] = Field(default_factory=dict, validation_alias=(AliasChoices('usage_to_metrics', 'service_to_metrics')), serialization_alias='usage_to_metrics', description='Active usage metrics tracked by the registry.')
```

##### `openhands.sdk.conversation.conversation_stats.RESTORED_SERVICES_DEPRECATION_MSG`

```python
RESTORED_SERVICES_DEPRECATION_MSG = 'ConversationStats._restored_services is deprecated; use _restored_usage_ids instead.'
```

##### `openhands.sdk.conversation.conversation_stats.SERVICE_TO_USAGE_DEPRECATION_MSG`

```python
SERVICE_TO_USAGE_DEPRECATION_MSG = 'ConversationStats.service_to_metrics is deprecated; use usage_to_metrics instead.'
```

##### `openhands.sdk.conversation.conversation_stats.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.event_store`

**Classes:**

- [**EventLog**](#openhands.sdk.conversation.event_store.EventLog) –

**Attributes:**

- [**logger**](#openhands.sdk.conversation.event_store.logger) –

##### `openhands.sdk.conversation.event_store.EventLog`

```python
EventLog(fs, dir_path=EVENTS_DIR)
```

Bases: <code>[EventsListBase](#openhands.sdk.conversation.events_list_base.EventsListBase)</code>

**Functions:**

- [**append**](#openhands.sdk.conversation.event_store.EventLog.append) –
- [**get_id**](#openhands.sdk.conversation.event_store.EventLog.get_id) – Return the event_id for a given index.
- [**get_index**](#openhands.sdk.conversation.event_store.EventLog.get_index) – Return the integer index for a given event_id.

###### `openhands.sdk.conversation.event_store.EventLog.append`

```python
append(event)
```

###### `openhands.sdk.conversation.event_store.EventLog.get_id`

```python
get_id(idx)
```

Return the event_id for a given index.

###### `openhands.sdk.conversation.event_store.EventLog.get_index`

```python
get_index(event_id)
```

Return the integer index for a given event_id.

##### `openhands.sdk.conversation.event_store.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.events_list_base`

**Classes:**

- [**EventsListBase**](#openhands.sdk.conversation.events_list_base.EventsListBase) – Abstract base class for event lists that can be appended to.

##### `openhands.sdk.conversation.events_list_base.EventsListBase`

Bases: <code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.Event)\]</code>, <code>[ABC](#abc.ABC)</code>

Abstract base class for event lists that can be appended to.

This provides a common interface for both local EventLog and remote
RemoteEventsList implementations, avoiding circular imports in protocols.

**Functions:**

- [**append**](#openhands.sdk.conversation.events_list_base.EventsListBase.append) – Add a new event to the list.

###### `openhands.sdk.conversation.events_list_base.EventsListBase.append`

```python
append(event)
```

Add a new event to the list.

#### `openhands.sdk.conversation.exceptions`

**Classes:**

- [**ConversationRunError**](#openhands.sdk.conversation.exceptions.ConversationRunError) – Raised when a conversation run fails.

##### `openhands.sdk.conversation.exceptions.ConversationRunError`

```python
ConversationRunError(conversation_id, original_exception, message=None)
```

Bases: <code>[RuntimeError](#RuntimeError)</code>

Raised when a conversation run fails.

Carries the conversation_id to make resuming/debugging easier while
preserving the original exception via exception chaining.

**Attributes:**

- [**conversation_id**](#openhands.sdk.conversation.exceptions.ConversationRunError.conversation_id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**original_exception**](#openhands.sdk.conversation.exceptions.ConversationRunError.original_exception) (<code>[BaseException](#BaseException)</code>) –

###### `openhands.sdk.conversation.exceptions.ConversationRunError.conversation_id`

```python
conversation_id: ConversationID = conversation_id
```

###### `openhands.sdk.conversation.exceptions.ConversationRunError.original_exception`

```python
original_exception: BaseException = original_exception
```

#### `openhands.sdk.conversation.fifo_lock`

FIFO Lock implementation that guarantees first-in-first-out access ordering.

This provides fair lock access where threads acquire the lock in the exact order
they requested it, preventing starvation that can occur with standard RLock.

**Classes:**

- [**FIFOLock**](#openhands.sdk.conversation.fifo_lock.FIFOLock) – A reentrant lock that guarantees FIFO (first-in-first-out) access ordering.

##### `openhands.sdk.conversation.fifo_lock.FIFOLock`

```python
FIFOLock()
```

A reentrant lock that guarantees FIFO (first-in-first-out) access ordering.

Unlike Python's standard RLock, this lock ensures that threads acquire
the lock in the exact order they requested it, providing fairness and
preventing lock starvation.

Features:

- Reentrant: Same thread can acquire multiple times
- FIFO ordering: Threads get lock in request order
- Context manager support: Use with 'with' statement
- Thread-safe: Safe for concurrent access

**Functions:**

- [**acquire**](#openhands.sdk.conversation.fifo_lock.FIFOLock.acquire) – Acquire the lock.
- [**locked**](#openhands.sdk.conversation.fifo_lock.FIFOLock.locked) – Return True if the lock is currently held by any thread.
- [**owned**](#openhands.sdk.conversation.fifo_lock.FIFOLock.owned) – Return True if the lock is currently held by the calling thread.
- [**release**](#openhands.sdk.conversation.fifo_lock.FIFOLock.release) – Release the lock.

###### `openhands.sdk.conversation.fifo_lock.FIFOLock.acquire`

```python
acquire(blocking=True, timeout=-1)
```

Acquire the lock.

**Parameters:**

- **blocking** (<code>[bool](#bool)</code>) – If True, block until lock is acquired. If False, return
  immediately.
- **timeout** (<code>[float](#float)</code>) – Maximum time to wait for lock (ignored if blocking=False).
  -1 means wait indefinitely.

**Returns:**

- <code>[bool](#bool)</code> – True if lock was acquired, False otherwise.

###### `openhands.sdk.conversation.fifo_lock.FIFOLock.locked`

```python
locked()
```

Return True if the lock is currently held by any thread.

###### `openhands.sdk.conversation.fifo_lock.FIFOLock.owned`

```python
owned()
```

Return True if the lock is currently held by the calling thread.

###### `openhands.sdk.conversation.fifo_lock.FIFOLock.release`

```python
release()
```

Release the lock.

**Raises:**

- <code>[RuntimeError](#RuntimeError)</code> – If the current thread doesn't own the lock.

#### `openhands.sdk.conversation.get_agent_final_response`

```python
get_agent_final_response(events)
```

Extract the final response from the agent.

An agent can end a conversation in two ways:

1. By calling the finish tool
1. By returning a text message with no tool calls

**Parameters:**

- **events** (<code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.base.Event)\]</code>) – List of conversation events to search through.

**Returns:**

- <code>[str](#str)</code> – The final response message from the agent, or empty string if not found.

#### `openhands.sdk.conversation.impl`

**Modules:**

- [**local_conversation**](#openhands.sdk.conversation.impl.local_conversation) –
- [**remote_conversation**](#openhands.sdk.conversation.impl.remote_conversation) –

**Classes:**

- [**LocalConversation**](#openhands.sdk.conversation.impl.LocalConversation) –
- [**RemoteConversation**](#openhands.sdk.conversation.impl.RemoteConversation) –

##### `openhands.sdk.conversation.impl.LocalConversation`

```python
LocalConversation(agent, workspace, persistence_dir=None, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=True, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.impl.LocalConversation.close) – Close the conversation and clean up all tool executors.
- [**compose_callbacks**](#openhands.sdk.conversation.impl.LocalConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.impl.LocalConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.impl.LocalConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.impl.LocalConversation.pause) – Pause agent execution.
- [**reject_pending_actions**](#openhands.sdk.conversation.impl.LocalConversation.reject_pending_actions) – Reject all pending actions from the agent.
- [**run**](#openhands.sdk.conversation.impl.LocalConversation.run) – Runs the conversation until the agent finishes.
- [**send_message**](#openhands.sdk.conversation.impl.LocalConversation.send_message) – Send a message to the agent.
- [**set_confirmation_policy**](#openhands.sdk.conversation.impl.LocalConversation.set_confirmation_policy) – Set the confirmation policy and store it in conversation state.
- [**update_secrets**](#openhands.sdk.conversation.impl.LocalConversation.update_secrets) – Add secrets to the conversation.

**Attributes:**

- [**agent**](#openhands.sdk.conversation.impl.LocalConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.conversation.impl.LocalConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.impl.LocalConversation.conversation_stats) –
- [**id**](#openhands.sdk.conversation.impl.LocalConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) – Get the unique ID of the conversation.
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.impl.LocalConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**llm_registry**](#openhands.sdk.conversation.impl.LocalConversation.llm_registry) (<code>[LLMRegistry](#openhands.sdk.llm.llm_registry.LLMRegistry)</code>) –
- [**max_iteration_per_run**](#openhands.sdk.conversation.impl.LocalConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.conversation.impl.LocalConversation.state) (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) – Get the conversation state.
- [**stuck_detector**](#openhands.sdk.conversation.impl.LocalConversation.stuck_detector) (<code>[StuckDetector](#openhands.sdk.conversation.stuck_detector.StuckDetector) | None</code>) – Get the stuck detector instance if enabled.
- [**workspace**](#openhands.sdk.conversation.impl.LocalConversation.workspace) (<code>[LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – The agent to use for the conversation
- **workspace** (<code>[str](#str) | [LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) – Working directory for agent operations and tool execution
- **persistence_dir** (<code>[str](#str) | None</code>) – Directory for persisting conversation state and events
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional ID for the conversation. If provided, will
  be used to identify the conversation. The user might want to
  suffix their persistent filestore with this ID.
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional list of callback functions to handle events
- **max_iteration_per_run** (<code>[int](#int)</code>) – Maximum number of iterations per run
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable default visualization. If True, adds
  a default visualizer callback. If False, relies on
  application to provide visualization through callbacks.
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection

###### `openhands.sdk.conversation.impl.LocalConversation.agent`

```python
agent: AgentBase = agent
```

###### `openhands.sdk.conversation.impl.LocalConversation.close`

```python
close()
```

Close the conversation and clean up all tool executors.

###### `openhands.sdk.conversation.impl.LocalConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

###### `openhands.sdk.conversation.impl.LocalConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

###### `openhands.sdk.conversation.impl.LocalConversation.conversation_stats`

```python
conversation_stats
```

###### `openhands.sdk.conversation.impl.LocalConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If not provided,
  uses self.agent.llm.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation.

###### `openhands.sdk.conversation.impl.LocalConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

###### `openhands.sdk.conversation.impl.LocalConversation.id`

```python
id: ConversationID
```

Get the unique ID of the conversation.

###### `openhands.sdk.conversation.impl.LocalConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

###### `openhands.sdk.conversation.impl.LocalConversation.llm_registry`

```python
llm_registry: LLMRegistry = LLMRegistry()
```

###### `openhands.sdk.conversation.impl.LocalConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

###### `openhands.sdk.conversation.impl.LocalConversation.pause`

```python
pause()
```

Pause agent execution.

This method can be called from any thread to request that the agent
pause execution. The pause will take effect at the next iteration
of the run loop (between agent steps).

Note: If called during an LLM completion, the pause will not take
effect until the current LLM call completes.

###### `openhands.sdk.conversation.impl.LocalConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

Reject all pending actions from the agent.

This is a non-invasive method to reject actions between run() calls.
Also clears the agent_waiting_for_confirmation flag.

###### `openhands.sdk.conversation.impl.LocalConversation.run`

```python
run()
```

Runs the conversation until the agent finishes.

In confirmation mode:

- First call: creates actions but doesn't execute them, stops and waits
- Second call: executes pending actions (implicit confirmation)

In normal mode:

- Creates and executes actions immediately

Can be paused between steps

###### `openhands.sdk.conversation.impl.LocalConversation.send_message`

```python
send_message(message)
```

Send a message to the agent.

**Parameters:**

- **message** (<code>[str](#str) | [Message](#openhands.sdk.llm.Message)</code>) – Either a string (which will be converted to a user message)
  or a Message object

###### `openhands.sdk.conversation.impl.LocalConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

Set the confirmation policy and store it in conversation state.

###### `openhands.sdk.conversation.impl.LocalConversation.state`

```python
state: ConversationState
```

Get the conversation state.

It returns a protocol that has a subset of ConversationState methods
and properties. We will have the ability to access the same properties
of ConversationState on a remote conversation object.
But we won't be able to access methods that mutate the state.

###### `openhands.sdk.conversation.impl.LocalConversation.stuck_detector`

```python
stuck_detector: StuckDetector | None
```

Get the stuck detector instance if enabled.

###### `openhands.sdk.conversation.impl.LocalConversation.update_secrets`

```python
update_secrets(secrets)
```

Add secrets to the conversation.

**Parameters:**

- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\]</code>) – Dictionary mapping secret keys to values or no-arg callables.
  SecretValue = str | Callable\[[], str\]. Callables are invoked lazily
  when a command references the secret key.

###### `openhands.sdk.conversation.impl.LocalConversation.workspace`

```python
workspace: LocalWorkspace = workspace
```

##### `openhands.sdk.conversation.impl.RemoteConversation`

```python
RemoteConversation(agent, workspace, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=False, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.impl.RemoteConversation.close) –
- [**compose_callbacks**](#openhands.sdk.conversation.impl.RemoteConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.impl.RemoteConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.impl.RemoteConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.impl.RemoteConversation.pause) –
- [**reject_pending_actions**](#openhands.sdk.conversation.impl.RemoteConversation.reject_pending_actions) –
- [**run**](#openhands.sdk.conversation.impl.RemoteConversation.run) –
- [**send_message**](#openhands.sdk.conversation.impl.RemoteConversation.send_message) –
- [**set_confirmation_policy**](#openhands.sdk.conversation.impl.RemoteConversation.set_confirmation_policy) –
- [**update_secrets**](#openhands.sdk.conversation.impl.RemoteConversation.update_secrets) –

**Attributes:**

- [**agent**](#openhands.sdk.conversation.impl.RemoteConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.conversation.impl.RemoteConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.impl.RemoteConversation.conversation_stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) – Get conversation stats from remote server.
- [**id**](#openhands.sdk.conversation.impl.RemoteConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.impl.RemoteConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**max_iteration_per_run**](#openhands.sdk.conversation.impl.RemoteConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.conversation.impl.RemoteConversation.state) (<code>[RemoteState](#openhands.sdk.conversation.impl.remote_conversation.RemoteState)</code>) – Access to remote conversation state.
- [**stuck_detector**](#openhands.sdk.conversation.impl.RemoteConversation.stuck_detector) – Stuck detector for compatibility.
- [**workspace**](#openhands.sdk.conversation.impl.RemoteConversation.workspace) (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – Agent configuration (will be sent to the server)
- **workspace** (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) – The working directory for agent operations and tool execution.
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional existing conversation id to attach to
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional callbacks to receive events (not yet streamed)
- **max_iteration_per_run** (<code>[int](#int)</code>) – Max iterations configured on server
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection on server
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable the default visualizer callback
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\] | None</code>) – Optional secrets to initialize the conversation with

###### `openhands.sdk.conversation.impl.RemoteConversation.agent`

```python
agent: AgentBase = agent
```

###### `openhands.sdk.conversation.impl.RemoteConversation.close`

```python
close()
```

###### `openhands.sdk.conversation.impl.RemoteConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

###### `openhands.sdk.conversation.impl.RemoteConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

###### `openhands.sdk.conversation.impl.RemoteConversation.conversation_stats`

```python
conversation_stats: ConversationStats
```

Get conversation stats from remote server.

###### `openhands.sdk.conversation.impl.RemoteConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If provided, its usage_id
  will be sent to the server. If not provided, uses the agent's LLM.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

###### `openhands.sdk.conversation.impl.RemoteConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

###### `openhands.sdk.conversation.impl.RemoteConversation.id`

```python
id: ConversationID
```

###### `openhands.sdk.conversation.impl.RemoteConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

###### `openhands.sdk.conversation.impl.RemoteConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

###### `openhands.sdk.conversation.impl.RemoteConversation.pause`

```python
pause()
```

###### `openhands.sdk.conversation.impl.RemoteConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

###### `openhands.sdk.conversation.impl.RemoteConversation.run`

```python
run()
```

###### `openhands.sdk.conversation.impl.RemoteConversation.send_message`

```python
send_message(message)
```

###### `openhands.sdk.conversation.impl.RemoteConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

###### `openhands.sdk.conversation.impl.RemoteConversation.state`

```python
state: RemoteState
```

Access to remote conversation state.

###### `openhands.sdk.conversation.impl.RemoteConversation.stuck_detector`

```python
stuck_detector
```

Stuck detector for compatibility.
Not implemented for remote conversations.

###### `openhands.sdk.conversation.impl.RemoteConversation.update_secrets`

```python
update_secrets(secrets)
```

###### `openhands.sdk.conversation.impl.RemoteConversation.workspace`

```python
workspace: RemoteWorkspace = workspace
```

##### `openhands.sdk.conversation.impl.local_conversation`

**Classes:**

- [**LocalConversation**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation) –

**Attributes:**

- [**logger**](#openhands.sdk.conversation.impl.local_conversation.logger) –

###### `openhands.sdk.conversation.impl.local_conversation.LocalConversation`

```python
LocalConversation(agent, workspace, persistence_dir=None, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=True, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.close) – Close the conversation and clean up all tool executors.
- [**compose_callbacks**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.pause) – Pause agent execution.
- [**reject_pending_actions**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.reject_pending_actions) – Reject all pending actions from the agent.
- [**run**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.run) – Runs the conversation until the agent finishes.
- [**send_message**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.send_message) – Send a message to the agent.
- [**set_confirmation_policy**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.set_confirmation_policy) – Set the confirmation policy and store it in conversation state.
- [**update_secrets**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.update_secrets) – Add secrets to the conversation.

**Attributes:**

- [**agent**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.conversation_stats) –
- [**id**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) – Get the unique ID of the conversation.
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**llm_registry**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.llm_registry) (<code>[LLMRegistry](#openhands.sdk.llm.llm_registry.LLMRegistry)</code>) –
- [**max_iteration_per_run**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.state) (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) – Get the conversation state.
- [**stuck_detector**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.stuck_detector) (<code>[StuckDetector](#openhands.sdk.conversation.stuck_detector.StuckDetector) | None</code>) – Get the stuck detector instance if enabled.
- [**workspace**](#openhands.sdk.conversation.impl.local_conversation.LocalConversation.workspace) (<code>[LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – The agent to use for the conversation
- **workspace** (<code>[str](#str) | [LocalWorkspace](#openhands.sdk.workspace.LocalWorkspace)</code>) – Working directory for agent operations and tool execution
- **persistence_dir** (<code>[str](#str) | None</code>) – Directory for persisting conversation state and events
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional ID for the conversation. If provided, will
  be used to identify the conversation. The user might want to
  suffix their persistent filestore with this ID.
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional list of callback functions to handle events
- **max_iteration_per_run** (<code>[int](#int)</code>) – Maximum number of iterations per run
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable default visualization. If True, adds
  a default visualizer callback. If False, relies on
  application to provide visualization through callbacks.
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.agent`

```python
agent: AgentBase = agent
```

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.close`

```python
close()
```

Close the conversation and clean up all tool executors.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.conversation_stats`

```python
conversation_stats
```

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If not provided,
  uses self.agent.llm.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.id`

```python
id: ConversationID
```

Get the unique ID of the conversation.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.llm_registry`

```python
llm_registry: LLMRegistry = LLMRegistry()
```

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.pause`

```python
pause()
```

Pause agent execution.

This method can be called from any thread to request that the agent
pause execution. The pause will take effect at the next iteration
of the run loop (between agent steps).

Note: If called during an LLM completion, the pause will not take
effect until the current LLM call completes.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

Reject all pending actions from the agent.

This is a non-invasive method to reject actions between run() calls.
Also clears the agent_waiting_for_confirmation flag.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.run`

```python
run()
```

Runs the conversation until the agent finishes.

In confirmation mode:

- First call: creates actions but doesn't execute them, stops and waits
- Second call: executes pending actions (implicit confirmation)

In normal mode:

- Creates and executes actions immediately

Can be paused between steps

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.send_message`

```python
send_message(message)
```

Send a message to the agent.

**Parameters:**

- **message** (<code>[str](#str) | [Message](#openhands.sdk.llm.Message)</code>) – Either a string (which will be converted to a user message)
  or a Message object

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

Set the confirmation policy and store it in conversation state.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.state`

```python
state: ConversationState
```

Get the conversation state.

It returns a protocol that has a subset of ConversationState methods
and properties. We will have the ability to access the same properties
of ConversationState on a remote conversation object.
But we won't be able to access methods that mutate the state.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.stuck_detector`

```python
stuck_detector: StuckDetector | None
```

Get the stuck detector instance if enabled.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.update_secrets`

```python
update_secrets(secrets)
```

Add secrets to the conversation.

**Parameters:**

- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\]</code>) – Dictionary mapping secret keys to values or no-arg callables.
  SecretValue = str | Callable\[[], str\]. Callables are invoked lazily
  when a command references the secret key.

####### `openhands.sdk.conversation.impl.local_conversation.LocalConversation.workspace`

```python
workspace: LocalWorkspace = workspace
```

###### `openhands.sdk.conversation.impl.local_conversation.logger`

```python
logger = get_logger(__name__)
```

##### `openhands.sdk.conversation.impl.remote_conversation`

**Classes:**

- [**RemoteConversation**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation) –
- [**RemoteEventsList**](#openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList) – A list-like, read-only view of remote conversation events.
- [**RemoteState**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState) – A state-like interface for accessing remote conversation state.
- [**WebSocketCallbackClient**](#openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient) – Minimal WS client: connects, forwards events, retries on error.

**Attributes:**

- [**logger**](#openhands.sdk.conversation.impl.remote_conversation.logger) –

###### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation`

```python
RemoteConversation(agent, workspace, conversation_id=None, callbacks=None, max_iteration_per_run=500, stuck_detection=True, visualize=False, name_for_visualization=None, secrets=None, **_)
```

Bases: <code>[BaseConversation](#openhands.sdk.conversation.base.BaseConversation)</code>

**Functions:**

- [**close**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.close) –
- [**compose_callbacks**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.compose_callbacks) – Compose multiple callbacks into a single callback function.
- [**generate_title**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.generate_title) – Generate a title for the conversation based on the first user message.
- [**get_persistence_dir**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.get_persistence_dir) – Get the persistence directory for the conversation.
- [**pause**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.pause) –
- [**reject_pending_actions**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.reject_pending_actions) –
- [**run**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.run) –
- [**send_message**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.send_message) –
- [**set_confirmation_policy**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.set_confirmation_policy) –
- [**update_secrets**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.update_secrets) –

**Attributes:**

- [**agent**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**confirmation_policy_active**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.confirmation_policy_active) (<code>[bool](#bool)</code>) –
- [**conversation_stats**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.conversation_stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) – Get conversation stats from remote server.
- [**id**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**is_confirmation_mode_active**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.is_confirmation_mode_active) (<code>[bool](#bool)</code>) – Check if confirmation mode is active.
- [**max_iteration_per_run**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.max_iteration_per_run) (<code>[int](#int)</code>) –
- [**state**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.state) (<code>[RemoteState](#openhands.sdk.conversation.impl.remote_conversation.RemoteState)</code>) – Access to remote conversation state.
- [**stuck_detector**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.stuck_detector) – Stuck detector for compatibility.
- [**workspace**](#openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.workspace) (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) –

**Parameters:**

- **agent** (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) – Agent configuration (will be sent to the server)
- **workspace** (<code>[RemoteWorkspace](#openhands.sdk.workspace.RemoteWorkspace)</code>) – The working directory for agent operations and tool execution.
- **conversation_id** (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID) | None</code>) – Optional existing conversation id to attach to
- **callbacks** (<code>[list](#list)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\] | None</code>) – Optional callbacks to receive events (not yet streamed)
- **max_iteration_per_run** (<code>[int](#int)</code>) – Max iterations configured on server
- **stuck_detection** (<code>[bool](#bool)</code>) – Whether to enable stuck detection on server
- **visualize** (<code>[bool](#bool)</code>) – Whether to enable the default visualizer callback
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.
- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\] | None</code>) – Optional secrets to initialize the conversation with

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.agent`

```python
agent: AgentBase = agent
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.close`

```python
close()
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.compose_callbacks`

```python
compose_callbacks(callbacks)
```

Compose multiple callbacks into a single callback function.

**Parameters:**

- **callbacks** (<code>[Iterable](#collections.abc.Iterable)\[[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)\]</code>) – An iterable of callback functions

**Returns:**

- <code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code> – A single callback function that calls all provided callbacks

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.confirmation_policy_active`

```python
confirmation_policy_active: bool
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.conversation_stats`

```python
conversation_stats: ConversationStats
```

Get conversation stats from remote server.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.generate_title`

```python
generate_title(llm=None, max_length=50)
```

Generate a title for the conversation based on the first user message.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation. If provided, its usage_id
  will be sent to the server. If not provided, uses the agent's LLM.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.get_persistence_dir`

```python
get_persistence_dir(persistence_base_dir, conversation_id)
```

Get the persistence directory for the conversation.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.id`

```python
id: ConversationID
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.is_confirmation_mode_active`

```python
is_confirmation_mode_active: bool
```

Check if confirmation mode is active.

Returns True if BOTH conditions are met:

1. The agent has a security analyzer set (not None)
1. The confirmation policy is active

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.max_iteration_per_run`

```python
max_iteration_per_run: int = max_iteration_per_run
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.pause`

```python
pause()
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.reject_pending_actions`

```python
reject_pending_actions(reason='User rejected the action')
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.run`

```python
run()
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.send_message`

```python
send_message(message)
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.set_confirmation_policy`

```python
set_confirmation_policy(policy)
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.state`

```python
state: RemoteState
```

Access to remote conversation state.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.stuck_detector`

```python
stuck_detector
```

Stuck detector for compatibility.
Not implemented for remote conversations.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.update_secrets`

```python
update_secrets(secrets)
```

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteConversation.workspace`

```python
workspace: RemoteWorkspace = workspace
```

###### `openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList`

```python
RemoteEventsList(client, conversation_id)
```

Bases: <code>[EventsListBase](#openhands.sdk.conversation.events_list_base.EventsListBase)</code>

A list-like, read-only view of remote conversation events.

On first access it fetches existing events from the server. Afterwards,
it relies on the WebSocket stream to incrementally append new events.

**Functions:**

- [**add_event**](#openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList.add_event) – Add a new event to the local cache (called by WebSocket callback).
- [**append**](#openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList.append) – Add a new event to the list (for compatibility with EventLog interface).
- [**create_default_callback**](#openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList.create_default_callback) – Create a default callback that adds events to this list.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList.add_event`

```python
add_event(event)
```

Add a new event to the local cache (called by WebSocket callback).

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList.append`

```python
append(event)
```

Add a new event to the list (for compatibility with EventLog interface).

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList.create_default_callback`

```python
create_default_callback()
```

Create a default callback that adds events to this list.

###### `openhands.sdk.conversation.impl.remote_conversation.RemoteState`

```python
RemoteState(client, conversation_id)
```

Bases: <code>[ConversationStateProtocol](#openhands.sdk.conversation.base.ConversationStateProtocol)</code>

A state-like interface for accessing remote conversation state.

**Functions:**

- [**create_state_update_callback**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.create_state_update_callback) – Create a callback that updates state from ConversationStateUpdateEvent.
- [**model_dump**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.model_dump) – Get a dictionary representation of the remote state.
- [**model_dump_json**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.model_dump_json) – Get a JSON representation of the remote state.
- [**update_state_from_event**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.update_state_from_event) – Update cached state from a ConversationStateUpdateEvent.

**Attributes:**

- [**activated_knowledge_skills**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.activated_knowledge_skills) (<code>[list](#list)\[[str](#str)\]</code>) – List of activated knowledge skills.
- [**agent**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.agent) – The agent configuration (fetched from remote).
- [**agent_status**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.agent_status) (<code>[AgentExecutionStatus](#openhands.sdk.conversation.state.AgentExecutionStatus)</code>) – The current agent execution status.
- [**confirmation_policy**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.confirmation_policy) (<code>[ConfirmationPolicyBase](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase)</code>) – The confirmation policy.
- [**events**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.events) (<code>[RemoteEventsList](#openhands.sdk.conversation.impl.remote_conversation.RemoteEventsList)</code>) – Access to the events list.
- [**id**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) – The conversation ID.
- [**persistence_dir**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.persistence_dir) – The persistence directory (fetched from remote).
- [**workspace**](#openhands.sdk.conversation.impl.remote_conversation.RemoteState.workspace) – The working directory (fetched from remote).

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.activated_knowledge_skills`

```python
activated_knowledge_skills: list[str]
```

List of activated knowledge skills.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.agent`

```python
agent
```

The agent configuration (fetched from remote).

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.agent_status`

```python
agent_status: AgentExecutionStatus
```

The current agent execution status.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.confirmation_policy`

```python
confirmation_policy: ConfirmationPolicyBase
```

The confirmation policy.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.create_state_update_callback`

```python
create_state_update_callback()
```

Create a callback that updates state from ConversationStateUpdateEvent.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.events`

```python
events: RemoteEventsList
```

Access to the events list.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.id`

```python
id: ConversationID
```

The conversation ID.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.model_dump`

```python
model_dump(**_kwargs)
```

Get a dictionary representation of the remote state.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.model_dump_json`

```python
model_dump_json(**kwargs)
```

Get a JSON representation of the remote state.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.persistence_dir`

```python
persistence_dir
```

The persistence directory (fetched from remote).

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.update_state_from_event`

```python
update_state_from_event(event)
```

Update cached state from a ConversationStateUpdateEvent.

####### `openhands.sdk.conversation.impl.remote_conversation.RemoteState.workspace`

```python
workspace
```

The working directory (fetched from remote).

###### `openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient`

```python
WebSocketCallbackClient(host, conversation_id, callback, api_key=None)
```

Minimal WS client: connects, forwards events, retries on error.

**Functions:**

- [**start**](#openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.start) –
- [**stop**](#openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.stop) –

**Attributes:**

- [**api_key**](#openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.api_key) (<code>[str](#str) | None</code>) –
- [**callback**](#openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.callback) (<code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType)</code>) –
- [**conversation_id**](#openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.conversation_id) (<code>[str](#str)</code>) –
- [**host**](#openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.host) (<code>[str](#str)</code>) –

####### `openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.api_key`

```python
api_key: str | None = api_key
```

####### `openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.callback`

```python
callback: ConversationCallbackType = callback
```

####### `openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.conversation_id`

```python
conversation_id: str = conversation_id
```

####### `openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.host`

```python
host: str = host
```

####### `openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.start`

```python
start()
```

####### `openhands.sdk.conversation.impl.remote_conversation.WebSocketCallbackClient.stop`

```python
stop()
```

###### `openhands.sdk.conversation.impl.remote_conversation.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.persistence_const`

**Attributes:**

- [**BASE_STATE**](#openhands.sdk.conversation.persistence_const.BASE_STATE) –
- [**EVENTS_DIR**](#openhands.sdk.conversation.persistence_const.EVENTS_DIR) –
- [**EVENT_FILE_PATTERN**](#openhands.sdk.conversation.persistence_const.EVENT_FILE_PATTERN) –
- [**EVENT_NAME_RE**](#openhands.sdk.conversation.persistence_const.EVENT_NAME_RE) –

##### `openhands.sdk.conversation.persistence_const.BASE_STATE`

```python
BASE_STATE = 'base_state.json'
```

##### `openhands.sdk.conversation.persistence_const.EVENTS_DIR`

```python
EVENTS_DIR = 'events'
```

##### `openhands.sdk.conversation.persistence_const.EVENT_FILE_PATTERN`

```python
EVENT_FILE_PATTERN = 'event-{idx:05d}-{event_id}.json'
```

##### `openhands.sdk.conversation.persistence_const.EVENT_NAME_RE`

```python
EVENT_NAME_RE = re.compile('^event-(?P<idx>\\d{5})-(?P<event_id>[0-9a-fA-F\\-]{8,})\\.json$')
```

#### `openhands.sdk.conversation.response_utils`

Utility functions for extracting agent responses from conversation events.

**Functions:**

- [**get_agent_final_response**](#openhands.sdk.conversation.response_utils.get_agent_final_response) – Extract the final response from the agent.

##### `openhands.sdk.conversation.response_utils.get_agent_final_response`

```python
get_agent_final_response(events)
```

Extract the final response from the agent.

An agent can end a conversation in two ways:

1. By calling the finish tool
1. By returning a text message with no tool calls

**Parameters:**

- **events** (<code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.base.Event)\]</code>) – List of conversation events to search through.

**Returns:**

- <code>[str](#str)</code> – The final response message from the agent, or empty string if not found.

#### `openhands.sdk.conversation.secret_registry`

Secrets manager for handling sensitive data in conversations.

**Classes:**

- [**SecretRegistry**](#openhands.sdk.conversation.secret_registry.SecretRegistry) – Manages secrets and injects them into bash commands when needed.

**Attributes:**

- [**SecretValue**](#openhands.sdk.conversation.secret_registry.SecretValue) –
- [**logger**](#openhands.sdk.conversation.secret_registry.logger) –

##### `openhands.sdk.conversation.secret_registry.SecretRegistry`

Bases: <code>[OpenHandsModel](#openhands.sdk.utils.models.OpenHandsModel)</code>

Manages secrets and injects them into bash commands when needed.

The secret registry stores a mapping of secret keys to SecretSources
that retrieve the actual secret values. When a bash command is about to be
executed, it scans the command for any secret keys and injects the corresponding
environment variables.

Secret sources will redact / encrypt their sensitive values as appropriate when
serializing, depending on the content of the context. If a context is present
and contains a 'cipher' object, this is used for encryption. If it contains a
boolean 'expose_secrets' flag set to True, secrets are dunped in plain text.
Otherwise secrets are redacted.

Additionally, it tracks the latest exported values to enable consistent masking
even when callable secrets fail on subsequent calls.

**Functions:**

- [**find_secrets_in_text**](#openhands.sdk.conversation.secret_registry.SecretRegistry.find_secrets_in_text) – Find all secret keys mentioned in the given text.
- [**get_secrets_as_env_vars**](#openhands.sdk.conversation.secret_registry.SecretRegistry.get_secrets_as_env_vars) – Get secrets that should be exported as environment variables for a command.
- [**mask_secrets_in_output**](#openhands.sdk.conversation.secret_registry.SecretRegistry.mask_secrets_in_output) – Mask secret values in the given text.
- [**model_dump_json**](#openhands.sdk.conversation.secret_registry.SecretRegistry.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.conversation.secret_registry.SecretRegistry.model_json_schema) –
- [**model_post_init**](#openhands.sdk.conversation.secret_registry.SecretRegistry.model_post_init) –
- [**model_validate**](#openhands.sdk.conversation.secret_registry.SecretRegistry.model_validate) –
- [**model_validate_json**](#openhands.sdk.conversation.secret_registry.SecretRegistry.model_validate_json) –
- [**update_secrets**](#openhands.sdk.conversation.secret_registry.SecretRegistry.update_secrets) – Add or update secrets in the manager.

**Attributes:**

- [**secret_sources**](#openhands.sdk.conversation.secret_registry.SecretRegistry.secret_sources) (<code>[dict](#dict)\[[str](#str), [SecretSource](#openhands.sdk.conversation.secret_source.SecretSource)\]</code>) –

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.find_secrets_in_text`

```python
find_secrets_in_text(text)
```

Find all secret keys mentioned in the given text.

**Parameters:**

- **text** (<code>[str](#str)</code>) – The text to search for secret keys

**Returns:**

- <code>[set](#set)\[[str](#str)\]</code> – Set of secret keys found in the text

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.get_secrets_as_env_vars`

```python
get_secrets_as_env_vars(command)
```

Get secrets that should be exported as environment variables for a command.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to check for secret references

**Returns:**

- <code>[dict](#dict)\[[str](#str), [str](#str)\]</code> – Dictionary of environment variables to export (key -> value)

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.mask_secrets_in_output`

```python
mask_secrets_in_output(text)
```

Mask secret values in the given text.

This method uses both the current exported values and attempts to get
fresh values from callables to ensure comprehensive masking.

**Parameters:**

- **text** (<code>[str](#str)</code>) – The text to mask secrets in

**Returns:**

- <code>[str](#str)</code> – Text with secret values replaced by <secret-hidden>

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.model_validate`

```python
model_validate(*args, **kwargs)
```

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.model_validate_json`

```python
model_validate_json(*args, **kwargs)
```

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.secret_sources`

```python
secret_sources: dict[str, SecretSource] = Field(default_factory=dict)
```

###### `openhands.sdk.conversation.secret_registry.SecretRegistry.update_secrets`

```python
update_secrets(secrets)
```

Add or update secrets in the manager.

**Parameters:**

- **secrets** (<code>[Mapping](#collections.abc.Mapping)\[[str](#str), [SecretValue](#openhands.sdk.conversation.secret_registry.SecretValue)\]</code>) – Dictionary mapping secret keys to either string values
  or callable functions that return string values

##### `openhands.sdk.conversation.secret_registry.SecretValue`

```python
SecretValue = str | SecretSource
```

##### `openhands.sdk.conversation.secret_registry.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.secret_source`

**Classes:**

- [**LookupSecret**](#openhands.sdk.conversation.secret_source.LookupSecret) – A secret looked up from some external url
- [**SecretSource**](#openhands.sdk.conversation.secret_source.SecretSource) – Source for a named secret which may be obtained dynamically
- [**StaticSecret**](#openhands.sdk.conversation.secret_source.StaticSecret) – A secret stored locally

##### `openhands.sdk.conversation.secret_source.LookupSecret`

Bases: <code>[SecretSource](#openhands.sdk.conversation.secret_source.SecretSource)</code>

A secret looked up from some external url

**Functions:**

- [**get_serializable_type**](#openhands.sdk.conversation.secret_source.LookupSecret.get_serializable_type) – Custom method to get the union of all currently loaded
- [**get_value**](#openhands.sdk.conversation.secret_source.LookupSecret.get_value) –
- [**model_dump_json**](#openhands.sdk.conversation.secret_source.LookupSecret.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.conversation.secret_source.LookupSecret.model_json_schema) –
- [**model_post_init**](#openhands.sdk.conversation.secret_source.LookupSecret.model_post_init) –
- [**model_rebuild**](#openhands.sdk.conversation.secret_source.LookupSecret.model_rebuild) –
- [**model_validate**](#openhands.sdk.conversation.secret_source.LookupSecret.model_validate) –
- [**model_validate_json**](#openhands.sdk.conversation.secret_source.LookupSecret.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.conversation.secret_source.LookupSecret.resolve_kind) –

**Attributes:**

- [**description**](#openhands.sdk.conversation.secret_source.LookupSecret.description) (<code>[str](#str) | None</code>) –
- [**headers**](#openhands.sdk.conversation.secret_source.LookupSecret.headers) (<code>[dict](#dict)\[[str](#str), [str](#str)\]</code>) –
- [**kind**](#openhands.sdk.conversation.secret_source.LookupSecret.kind) (<code>[str](#str)</code>) –
- [**url**](#openhands.sdk.conversation.secret_source.LookupSecret.url) (<code>[str](#str)</code>) –

###### `openhands.sdk.conversation.secret_source.LookupSecret.description`

```python
description: str | None = Field(default=None, description='Optional description for this secret')
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.conversation.secret_source.LookupSecret.get_value`

```python
get_value()
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.headers`

```python
headers: dict[str, str] = Field(default_factory=dict)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.conversation.secret_source.LookupSecret.url`

```python
url: str
```

##### `openhands.sdk.conversation.secret_source.SecretSource`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Source for a named secret which may be obtained dynamically

**Functions:**

- [**get_serializable_type**](#openhands.sdk.conversation.secret_source.SecretSource.get_serializable_type) – Custom method to get the union of all currently loaded
- [**get_value**](#openhands.sdk.conversation.secret_source.SecretSource.get_value) – Get the value of a secret in plain text
- [**model_dump_json**](#openhands.sdk.conversation.secret_source.SecretSource.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.conversation.secret_source.SecretSource.model_json_schema) –
- [**model_post_init**](#openhands.sdk.conversation.secret_source.SecretSource.model_post_init) –
- [**model_rebuild**](#openhands.sdk.conversation.secret_source.SecretSource.model_rebuild) –
- [**model_validate**](#openhands.sdk.conversation.secret_source.SecretSource.model_validate) –
- [**model_validate_json**](#openhands.sdk.conversation.secret_source.SecretSource.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.conversation.secret_source.SecretSource.resolve_kind) –

**Attributes:**

- [**description**](#openhands.sdk.conversation.secret_source.SecretSource.description) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.conversation.secret_source.SecretSource.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.conversation.secret_source.SecretSource.description`

```python
description: str | None = Field(default=None, description='Optional description for this secret')
```

###### `openhands.sdk.conversation.secret_source.SecretSource.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.conversation.secret_source.SecretSource.get_value`

```python
get_value()
```

Get the value of a secret in plain text

###### `openhands.sdk.conversation.secret_source.SecretSource.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.conversation.secret_source.SecretSource.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.conversation.secret_source.SecretSource.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.SecretSource.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.conversation.secret_source.SecretSource.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.conversation.secret_source.SecretSource.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.SecretSource.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.SecretSource.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.conversation.secret_source.StaticSecret`

Bases: <code>[SecretSource](#openhands.sdk.conversation.secret_source.SecretSource)</code>

A secret stored locally

**Functions:**

- [**get_serializable_type**](#openhands.sdk.conversation.secret_source.StaticSecret.get_serializable_type) – Custom method to get the union of all currently loaded
- [**get_value**](#openhands.sdk.conversation.secret_source.StaticSecret.get_value) –
- [**model_dump_json**](#openhands.sdk.conversation.secret_source.StaticSecret.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.conversation.secret_source.StaticSecret.model_json_schema) –
- [**model_post_init**](#openhands.sdk.conversation.secret_source.StaticSecret.model_post_init) –
- [**model_rebuild**](#openhands.sdk.conversation.secret_source.StaticSecret.model_rebuild) –
- [**model_validate**](#openhands.sdk.conversation.secret_source.StaticSecret.model_validate) –
- [**model_validate_json**](#openhands.sdk.conversation.secret_source.StaticSecret.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.conversation.secret_source.StaticSecret.resolve_kind) –

**Attributes:**

- [**description**](#openhands.sdk.conversation.secret_source.StaticSecret.description) (<code>[str](#str) | None</code>) –
- [**kind**](#openhands.sdk.conversation.secret_source.StaticSecret.kind) (<code>[str](#str)</code>) –
- [**value**](#openhands.sdk.conversation.secret_source.StaticSecret.value) (<code>[SecretStr](#pydantic.SecretStr)</code>) –

###### `openhands.sdk.conversation.secret_source.StaticSecret.description`

```python
description: str | None = Field(default=None, description='Optional description for this secret')
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.conversation.secret_source.StaticSecret.get_value`

```python
get_value()
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.conversation.secret_source.StaticSecret.value`

```python
value: SecretStr
```

#### `openhands.sdk.conversation.serialization_diff`

#### `openhands.sdk.conversation.state`

**Classes:**

- [**AgentExecutionStatus**](#openhands.sdk.conversation.state.AgentExecutionStatus) – Enum representing the current execution state of the agent.
- [**ConversationState**](#openhands.sdk.conversation.state.ConversationState) –

**Attributes:**

- [**logger**](#openhands.sdk.conversation.state.logger) –

##### `openhands.sdk.conversation.state.AgentExecutionStatus`

Bases: <code>[str](#str)</code>, <code>[Enum](#enum.Enum)</code>

Enum representing the current execution state of the agent.

**Attributes:**

- [**ERROR**](#openhands.sdk.conversation.state.AgentExecutionStatus.ERROR) –
- [**FINISHED**](#openhands.sdk.conversation.state.AgentExecutionStatus.FINISHED) –
- [**IDLE**](#openhands.sdk.conversation.state.AgentExecutionStatus.IDLE) –
- [**PAUSED**](#openhands.sdk.conversation.state.AgentExecutionStatus.PAUSED) –
- [**RUNNING**](#openhands.sdk.conversation.state.AgentExecutionStatus.RUNNING) –
- [**STUCK**](#openhands.sdk.conversation.state.AgentExecutionStatus.STUCK) –
- [**WAITING_FOR_CONFIRMATION**](#openhands.sdk.conversation.state.AgentExecutionStatus.WAITING_FOR_CONFIRMATION) –

###### `openhands.sdk.conversation.state.AgentExecutionStatus.ERROR`

```python
ERROR = 'error'
```

###### `openhands.sdk.conversation.state.AgentExecutionStatus.FINISHED`

```python
FINISHED = 'finished'
```

###### `openhands.sdk.conversation.state.AgentExecutionStatus.IDLE`

```python
IDLE = 'idle'
```

###### `openhands.sdk.conversation.state.AgentExecutionStatus.PAUSED`

```python
PAUSED = 'paused'
```

###### `openhands.sdk.conversation.state.AgentExecutionStatus.RUNNING`

```python
RUNNING = 'running'
```

###### `openhands.sdk.conversation.state.AgentExecutionStatus.STUCK`

```python
STUCK = 'stuck'
```

###### `openhands.sdk.conversation.state.AgentExecutionStatus.WAITING_FOR_CONFIRMATION`

```python
WAITING_FOR_CONFIRMATION = 'waiting_for_confirmation'
```

##### `openhands.sdk.conversation.state.ConversationState`

Bases: <code>[OpenHandsModel](#openhands.sdk.utils.models.OpenHandsModel)</code>

**Functions:**

- [**acquire**](#openhands.sdk.conversation.state.ConversationState.acquire) – Acquire the lock.
- [**create**](#openhands.sdk.conversation.state.ConversationState.create) – If base_state.json exists: resume (attach EventLog,
- [**get_unmatched_actions**](#openhands.sdk.conversation.state.ConversationState.get_unmatched_actions) – Find actions in the event history that don't have matching observations.
- [**locked**](#openhands.sdk.conversation.state.ConversationState.locked) – Return True if the lock is currently held by any thread.
- [**model_dump_json**](#openhands.sdk.conversation.state.ConversationState.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.conversation.state.ConversationState.model_json_schema) –
- [**model_post_init**](#openhands.sdk.conversation.state.ConversationState.model_post_init) –
- [**model_validate**](#openhands.sdk.conversation.state.ConversationState.model_validate) –
- [**model_validate_json**](#openhands.sdk.conversation.state.ConversationState.model_validate_json) –
- [**owned**](#openhands.sdk.conversation.state.ConversationState.owned) – Return True if the lock is currently held by the calling thread.
- [**release**](#openhands.sdk.conversation.state.ConversationState.release) – Release the lock.
- [**set_on_state_change**](#openhands.sdk.conversation.state.ConversationState.set_on_state_change) – Set a callback to be called when state changes.

**Attributes:**

- [**activated_knowledge_skills**](#openhands.sdk.conversation.state.ConversationState.activated_knowledge_skills) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**agent**](#openhands.sdk.conversation.state.ConversationState.agent) (<code>[AgentBase](#openhands.sdk.agent.base.AgentBase)</code>) –
- [**agent_status**](#openhands.sdk.conversation.state.ConversationState.agent_status) (<code>[AgentExecutionStatus](#openhands.sdk.conversation.state.AgentExecutionStatus)</code>) –
- [**confirmation_policy**](#openhands.sdk.conversation.state.ConversationState.confirmation_policy) (<code>[ConfirmationPolicyBase](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase)</code>) –
- [**events**](#openhands.sdk.conversation.state.ConversationState.events) (<code>[EventLog](#openhands.sdk.conversation.event_store.EventLog)</code>) –
- [**id**](#openhands.sdk.conversation.state.ConversationState.id) (<code>[ConversationID](#openhands.sdk.conversation.types.ConversationID)</code>) –
- [**max_iterations**](#openhands.sdk.conversation.state.ConversationState.max_iterations) (<code>[int](#int)</code>) –
- [**persistence_dir**](#openhands.sdk.conversation.state.ConversationState.persistence_dir) (<code>[str](#str) | None</code>) –
- [**secret_registry**](#openhands.sdk.conversation.state.ConversationState.secret_registry) (<code>[SecretRegistry](#openhands.sdk.conversation.secret_registry.SecretRegistry)</code>) –
- [**stats**](#openhands.sdk.conversation.state.ConversationState.stats) (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats)</code>) –
- [**stuck_detection**](#openhands.sdk.conversation.state.ConversationState.stuck_detection) (<code>[bool](#bool)</code>) –
- [**workspace**](#openhands.sdk.conversation.state.ConversationState.workspace) (<code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>) –

###### `openhands.sdk.conversation.state.ConversationState.acquire`

```python
acquire(blocking=True, timeout=-1)
```

Acquire the lock.

**Parameters:**

- **blocking** (<code>[bool](#bool)</code>) – If True, block until lock is acquired. If False, return
  immediately.
- **timeout** (<code>[float](#float)</code>) – Maximum time to wait for lock (ignored if blocking=False).
  -1 means wait indefinitely.

**Returns:**

- <code>[bool](#bool)</code> – True if lock was acquired, False otherwise.

###### `openhands.sdk.conversation.state.ConversationState.activated_knowledge_skills`

```python
activated_knowledge_skills: list[str] = Field(default_factory=list, description='List of activated knowledge skills name')
```

###### `openhands.sdk.conversation.state.ConversationState.agent`

```python
agent: AgentBase = Field(..., description='The agent running in the conversation. This is persisted to allow resuming conversations and check agent configuration to handle e.g., tool changes, LLM changes, etc.')
```

###### `openhands.sdk.conversation.state.ConversationState.agent_status`

```python
agent_status: AgentExecutionStatus = Field(default=(AgentExecutionStatus.IDLE))
```

###### `openhands.sdk.conversation.state.ConversationState.confirmation_policy`

```python
confirmation_policy: ConfirmationPolicyBase = NeverConfirm()
```

###### `openhands.sdk.conversation.state.ConversationState.create`

```python
create(id, agent, workspace, persistence_dir=None, max_iterations=500, stuck_detection=True)
```

If base_state.json exists: resume (attach EventLog,
reconcile agent, enforce id).
Else: create fresh (agent required), persist base, and return.

###### `openhands.sdk.conversation.state.ConversationState.events`

```python
events: EventLog
```

###### `openhands.sdk.conversation.state.ConversationState.get_unmatched_actions`

```python
get_unmatched_actions(events)
```

Find actions in the event history that don't have matching observations.

This method identifies ActionEvents that don't have corresponding
ObservationEvents or UserRejectObservations, which typically indicates
actions that are pending confirmation or execution.

**Parameters:**

- **events** (<code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.base.Event)\]</code>) – List of events to search through

**Returns:**

- <code>[list](#list)\[[ActionEvent](#openhands.sdk.event.ActionEvent)\]</code> – List of ActionEvent objects that don't have corresponding observations,
- <code>[list](#list)\[[ActionEvent](#openhands.sdk.event.ActionEvent)\]</code> – in chronological order

###### `openhands.sdk.conversation.state.ConversationState.id`

```python
id: ConversationID = Field(description='Unique conversation ID')
```

###### `openhands.sdk.conversation.state.ConversationState.locked`

```python
locked()
```

Return True if the lock is currently held by any thread.

###### `openhands.sdk.conversation.state.ConversationState.max_iterations`

```python
max_iterations: int = Field(default=500, gt=0, description='Maximum number of iterations the agent can perform in a single run.')
```

###### `openhands.sdk.conversation.state.ConversationState.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.conversation.state.ConversationState.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.conversation.state.ConversationState.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.conversation.state.ConversationState.model_validate`

```python
model_validate(*args, **kwargs)
```

###### `openhands.sdk.conversation.state.ConversationState.model_validate_json`

```python
model_validate_json(*args, **kwargs)
```

###### `openhands.sdk.conversation.state.ConversationState.owned`

```python
owned()
```

Return True if the lock is currently held by the calling thread.

###### `openhands.sdk.conversation.state.ConversationState.persistence_dir`

```python
persistence_dir: str | None = Field(default='workspace/conversations', description='Directory for persisting conversation state and events. If None, conversation will not be persisted.')
```

###### `openhands.sdk.conversation.state.ConversationState.release`

```python
release()
```

Release the lock.

**Raises:**

- <code>[RuntimeError](#RuntimeError)</code> – If the current thread doesn't own the lock.

###### `openhands.sdk.conversation.state.ConversationState.secret_registry`

```python
secret_registry: SecretRegistry = Field(default_factory=SecretRegistry, description='Registry for handling secrets and sensitive data', validation_alias=(AliasChoices('secret_registry', 'secrets_manager')), serialization_alias='secret_registry')
```

###### `openhands.sdk.conversation.state.ConversationState.set_on_state_change`

```python
set_on_state_change(callback)
```

Set a callback to be called when state changes.

**Parameters:**

- **callback** (<code>[ConversationCallbackType](#openhands.sdk.conversation.types.ConversationCallbackType) | None</code>) – A function that takes an Event (ConversationStateUpdateEvent)
  or None to remove the callback

###### `openhands.sdk.conversation.state.ConversationState.stats`

```python
stats: ConversationStats = Field(default_factory=ConversationStats, description='Conversation statistics for tracking LLM metrics')
```

###### `openhands.sdk.conversation.state.ConversationState.stuck_detection`

```python
stuck_detection: bool = Field(default=True, description='Whether to enable stuck detection for the agent.')
```

###### `openhands.sdk.conversation.state.ConversationState.workspace`

```python
workspace: BaseWorkspace = Field(..., description='Working directory for agent operations and tool execution')
```

##### `openhands.sdk.conversation.state.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.stuck_detector`

**Classes:**

- [**StuckDetector**](#openhands.sdk.conversation.stuck_detector.StuckDetector) – Detects when an agent is stuck in repetitive or unproductive patterns.

**Attributes:**

- [**logger**](#openhands.sdk.conversation.stuck_detector.logger) –

##### `openhands.sdk.conversation.stuck_detector.StuckDetector`

```python
StuckDetector(state)
```

Detects when an agent is stuck in repetitive or unproductive patterns.

This detector analyzes the conversation history to identify various stuck patterns:

1. Repeating action-observation cycles
1. Repeating action-error cycles
1. Agent monologue (repeated messages without user input)
1. Repeating alternating action-observation patterns
1. Context window errors indicating memory issues

**Functions:**

- [**is_stuck**](#openhands.sdk.conversation.stuck_detector.StuckDetector.is_stuck) – Check if the agent is currently stuck.

**Attributes:**

- [**state**](#openhands.sdk.conversation.stuck_detector.StuckDetector.state) (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) –

###### `openhands.sdk.conversation.stuck_detector.StuckDetector.is_stuck`

```python
is_stuck()
```

Check if the agent is currently stuck.

###### `openhands.sdk.conversation.stuck_detector.StuckDetector.state`

```python
state: ConversationState = state
```

##### `openhands.sdk.conversation.stuck_detector.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.title_utils`

Utility functions for generating conversation titles.

**Functions:**

- [**extract_first_user_message**](#openhands.sdk.conversation.title_utils.extract_first_user_message) – Extract the first user message from conversation events.
- [**generate_conversation_title**](#openhands.sdk.conversation.title_utils.generate_conversation_title) – Generate a title for a conversation based on the first user message.
- [**generate_fallback_title**](#openhands.sdk.conversation.title_utils.generate_fallback_title) – Generate a fallback title by truncating the first user message.
- [**generate_title_with_llm**](#openhands.sdk.conversation.title_utils.generate_title_with_llm) – Generate a conversation title using LLM.

**Attributes:**

- [**categories**](#openhands.sdk.conversation.title_utils.categories) –
- [**logger**](#openhands.sdk.conversation.title_utils.logger) –

##### `openhands.sdk.conversation.title_utils.categories`

```python
categories = [{'emoji': '💄', 'name': 'frontend', 'description': 'UI and style files'}, {'emoji': '👔', 'name': 'backend', 'description': 'Business logic'}, {'emoji': '✅', 'name': 'test', 'description': 'Tests'}, {'emoji': '👷', 'name': 'devops', 'description': 'CI build system'}, {'emoji': '🚀', 'name': 'deployment', 'description': 'Deploy stuff'}, {'emoji': '📦️', 'name': 'dependencies', 'description': 'Packages and dependencies'}, {'emoji': '🗃️', 'name': 'database', 'description': 'Database changes'}, {'emoji': '🔧', 'name': 'chores', 'description': 'Configuration and maintenance'}, {'emoji': '✨', 'name': 'features', 'description': 'New features'}, {'emoji': '🐛', 'name': 'bugfix', 'description': 'Bug fixes'}, {'emoji': '⚡️', 'name': 'performance', 'description': 'Performance improvements'}, {'emoji': '🔒️', 'name': 'security', 'description': 'Security fixes'}, {'emoji': '📝', 'name': 'documentation', 'description': 'Documentation'}, {'emoji': '♻️', 'name': 'refactor', 'description': 'Code refactoring'}]
```

##### `openhands.sdk.conversation.title_utils.extract_first_user_message`

```python
extract_first_user_message(events)
```

Extract the first user message from conversation events.

**Parameters:**

- **events** (<code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.base.Event)\]</code>) – List of conversation events.

**Returns:**

- <code>[str](#str) | None</code> – The first user message text, or None if no user message is found.

##### `openhands.sdk.conversation.title_utils.generate_conversation_title`

```python
generate_conversation_title(events, llm=None, max_length=50)
```

Generate a title for a conversation based on the first user message.

This is the main utility function that orchestrates the title generation process:

1. Extract the first user message from events
1. Try to generate title using LLM
1. Fall back to simple truncation if LLM fails

**Parameters:**

- **events** (<code>[Sequence](#collections.abc.Sequence)\[[Event](#openhands.sdk.event.base.Event)\]</code>) – List of conversation events.
- **llm** (<code>[LLM](#openhands.sdk.llm.LLM) | None</code>) – Optional LLM to use for title generation.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str)</code> – A generated title for the conversation.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If no user messages are found in the conversation events.

##### `openhands.sdk.conversation.title_utils.generate_fallback_title`

```python
generate_fallback_title(message, max_length=50)
```

Generate a fallback title by truncating the first user message.

**Parameters:**

- **message** (<code>[str](#str)</code>) – The first user message.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the title.

**Returns:**

- <code>[str](#str)</code> – A truncated title.

##### `openhands.sdk.conversation.title_utils.generate_title_with_llm`

```python
generate_title_with_llm(message, llm, max_length=50)
```

Generate a conversation title using LLM.

**Parameters:**

- **message** (<code>[str](#str)</code>) – The first user message to generate title from.
- **llm** (<code>[LLM](#openhands.sdk.llm.LLM)</code>) – The LLM to use for title generation.
- **max_length** (<code>[int](#int)</code>) – Maximum length of the generated title.

**Returns:**

- <code>[str](#str) | None</code> – Generated title, or None if LLM fails or returns empty response.

##### `openhands.sdk.conversation.title_utils.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.conversation.types`

**Attributes:**

- [**ConversationCallbackType**](#openhands.sdk.conversation.types.ConversationCallbackType) –
- [**ConversationID**](#openhands.sdk.conversation.types.ConversationID) – Type alias for conversation IDs.

##### `openhands.sdk.conversation.types.ConversationCallbackType`

```python
ConversationCallbackType = Callable[[Event], None]
```

##### `openhands.sdk.conversation.types.ConversationID`

```python
ConversationID = uuid.UUID
```

Type alias for conversation IDs.

#### `openhands.sdk.conversation.visualizer`

**Classes:**

- [**ConversationVisualizer**](#openhands.sdk.conversation.visualizer.ConversationVisualizer) – Handles visualization of conversation events with Rich formatting.

**Functions:**

- [**create_default_visualizer**](#openhands.sdk.conversation.visualizer.create_default_visualizer) – Create a default conversation visualizer instance.

**Attributes:**

- [**DEFAULT_HIGHLIGHT_REGEX**](#openhands.sdk.conversation.visualizer.DEFAULT_HIGHLIGHT_REGEX) –

##### `openhands.sdk.conversation.visualizer.ConversationVisualizer`

```python
ConversationVisualizer(highlight_regex=None, skip_user_messages=False, conversation_stats=None, name_for_visualization=None)
```

Handles visualization of conversation events with Rich formatting.

Provides Rich-formatted output with panels and complete content display.

**Functions:**

- [**on_event**](#openhands.sdk.conversation.visualizer.ConversationVisualizer.on_event) – Main event handler that displays events with Rich formatting.

**Parameters:**

- **highlight_regex** (<code>[dict](#dict)\[[str](#str), [str](#str)\] | None</code>) – Dictionary mapping regex patterns to Rich color styles
  for highlighting keywords in the visualizer.
  For example: {"Reasoning:": "bold blue",
  "Thought:": "bold green"}
- **skip_user_messages** (<code>[bool](#bool)</code>) – If True, skip displaying user messages. Useful for
  scenarios where user input is not relevant to show.
- **conversation_stats** (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats) | None</code>) – ConversationStats object to display metrics information.
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.

###### `openhands.sdk.conversation.visualizer.ConversationVisualizer.on_event`

```python
on_event(event)
```

Main event handler that displays events with Rich formatting.

##### `openhands.sdk.conversation.visualizer.DEFAULT_HIGHLIGHT_REGEX`

```python
DEFAULT_HIGHLIGHT_REGEX = {'^Reasoning:': f'bold {_THOUGHT_COLOR}', '^Thought:': f'bold {_THOUGHT_COLOR}', '^Action:': f'bold {_ACTION_COLOR}', '^Arguments:': f'bold {_ACTION_COLOR}', '^Tool:': f'bold {_OBSERVATION_COLOR}', '^Result:': f'bold {_OBSERVATION_COLOR}', '^Rejection Reason:': f'bold {_ERROR_COLOR}', '\\*\\*(.*?)\\*\\*': 'bold', '\\*(.*?)\\*': 'italic'}
```

##### `openhands.sdk.conversation.visualizer.create_default_visualizer`

```python
create_default_visualizer(highlight_regex=None, conversation_stats=None, name_for_visualization=None, **kwargs)
```

Create a default conversation visualizer instance.

**Parameters:**

- **highlight_regex** (<code>[dict](#dict)\[[str](#str), [str](#str)\] | None</code>) – Dictionary mapping regex patterns to Rich color styles
  for highlighting keywords in the visualizer.
  For example: {"Reasoning:": "bold blue",
  "Thought:": "bold green"}
- **conversation_stats** (<code>[ConversationStats](#openhands.sdk.conversation.conversation_stats.ConversationStats) | None</code>) – ConversationStats object to display metrics information.
- **name_for_visualization** (<code>[str](#str) | None</code>) – Optional name to prefix in panel titles to identify
  which agent/conversation is speaking.

### `openhands.sdk.create_mcp_tools`

```python
create_mcp_tools(config, timeout=30.0)
```

Create MCP tools from MCP configuration.

### `openhands.sdk.event`

**Modules:**

- [**base**](#openhands.sdk.event.base) –
- [**condenser**](#openhands.sdk.event.condenser) –
- [**conversation_state**](#openhands.sdk.event.conversation_state) – Events related to conversation state updates.
- [**llm_convertible**](#openhands.sdk.event.llm_convertible) –
- [**types**](#openhands.sdk.event.types) –
- [**user_action**](#openhands.sdk.event.user_action) –

**Classes:**

- [**ActionEvent**](#openhands.sdk.event.ActionEvent) –
- [**AgentErrorEvent**](#openhands.sdk.event.AgentErrorEvent) – Error triggered by the agent.
- [**Condensation**](#openhands.sdk.event.Condensation) – This action indicates a condensation of the conversation history is happening.
- [**CondensationRequest**](#openhands.sdk.event.CondensationRequest) – This action is used to request a condensation of the conversation history.
- [**CondensationSummaryEvent**](#openhands.sdk.event.CondensationSummaryEvent) – This event represents a summary generated by a condenser.
- [**ConversationStateUpdateEvent**](#openhands.sdk.event.ConversationStateUpdateEvent) – Event that contains conversation state updates.
- [**Event**](#openhands.sdk.event.Event) – Base class for all events.
- [**LLMConvertibleEvent**](#openhands.sdk.event.LLMConvertibleEvent) – Base class for events that can be converted to LLM messages.
- [**MessageEvent**](#openhands.sdk.event.MessageEvent) – Message from either agent or user.
- [**ObservationBaseEvent**](#openhands.sdk.event.ObservationBaseEvent) – Base class for anything as a response to a tool call.
- [**ObservationEvent**](#openhands.sdk.event.ObservationEvent) –
- [**PauseEvent**](#openhands.sdk.event.PauseEvent) – Event indicating that the agent execution was paused by user request.
- [**SystemPromptEvent**](#openhands.sdk.event.SystemPromptEvent) – System prompt added by the agent.
- [**UserRejectObservation**](#openhands.sdk.event.UserRejectObservation) – Observation when user rejects an action in confirmation mode.

**Attributes:**

- [**EventID**](#openhands.sdk.event.EventID) – Type alias for event IDs.
- [**ToolCallID**](#openhands.sdk.event.ToolCallID) – Type alias for tool call IDs.

#### `openhands.sdk.event.ActionEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.ActionEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.ActionEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.ActionEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.ActionEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.ActionEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.ActionEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.ActionEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.ActionEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.ActionEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.ActionEvent.to_llm_message) – Individual message - may be incomplete for multi-action batches

**Attributes:**

- [**action**](#openhands.sdk.event.ActionEvent.action) (<code>[Action](#openhands.sdk.tool.schema.Action) | None</code>) –
- [**id**](#openhands.sdk.event.ActionEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.ActionEvent.kind) (<code>[str](#str)</code>) –
- [**llm_response_id**](#openhands.sdk.event.ActionEvent.llm_response_id) (<code>[EventID](#openhands.sdk.event.base.EventID)</code>) –
- [**model_config**](#openhands.sdk.event.ActionEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**reasoning_content**](#openhands.sdk.event.ActionEvent.reasoning_content) (<code>[str](#str) | None</code>) –
- [**responses_reasoning_item**](#openhands.sdk.event.ActionEvent.responses_reasoning_item) (<code>[ReasoningItemModel](#openhands.sdk.llm.ReasoningItemModel) | None</code>) –
- [**security_risk**](#openhands.sdk.event.ActionEvent.security_risk) (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) –
- [**source**](#openhands.sdk.event.ActionEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**thinking_blocks**](#openhands.sdk.event.ActionEvent.thinking_blocks) (<code>[list](#list)\[[ThinkingBlock](#openhands.sdk.llm.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.RedactedThinkingBlock)\]</code>) –
- [**thought**](#openhands.sdk.event.ActionEvent.thought) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent)\]</code>) –
- [**timestamp**](#openhands.sdk.event.ActionEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call**](#openhands.sdk.event.ActionEvent.tool_call) (<code>[MessageToolCall](#openhands.sdk.llm.MessageToolCall)</code>) –
- [**tool_call_id**](#openhands.sdk.event.ActionEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.ActionEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.ActionEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action event.

##### `openhands.sdk.event.ActionEvent.action`

```python
action: Action | None = Field(default=None, description='Single tool call returned by LLM (None when non-executable)')
```

##### `openhands.sdk.event.ActionEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.ActionEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.ActionEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.ActionEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.ActionEvent.llm_response_id`

```python
llm_response_id: EventID = Field(description='Completion or Response ID of the LLM response that generated this eventE.g., Can be used to group related actions from same LLM response. This helps in tracking and managing results of parallel function calling from the same LLM response.')
```

##### `openhands.sdk.event.ActionEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.ActionEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.ActionEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.ActionEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.ActionEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.ActionEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.ActionEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.ActionEvent.reasoning_content`

```python
reasoning_content: str | None = Field(default=None, description='Intermediate reasoning/thinking content from reasoning models')
```

##### `openhands.sdk.event.ActionEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.ActionEvent.responses_reasoning_item`

```python
responses_reasoning_item: ReasoningItemModel | None = Field(default=None, description='OpenAI Responses reasoning item from model output')
```

##### `openhands.sdk.event.ActionEvent.security_risk`

```python
security_risk: risk.SecurityRisk = Field(default=(risk.SecurityRisk.UNKNOWN), description="The LLM's assessment of the safety risk of this action.")
```

##### `openhands.sdk.event.ActionEvent.source`

```python
source: SourceType = 'agent'
```

##### `openhands.sdk.event.ActionEvent.thinking_blocks`

```python
thinking_blocks: list[ThinkingBlock | RedactedThinkingBlock] = Field(default_factory=list, description='Anthropic thinking blocks from the LLM response')
```

##### `openhands.sdk.event.ActionEvent.thought`

```python
thought: Sequence[TextContent] = Field(..., description='The thought process of the agent before taking this action')
```

##### `openhands.sdk.event.ActionEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.ActionEvent.to_llm_message`

```python
to_llm_message()
```

Individual message - may be incomplete for multi-action batches

##### `openhands.sdk.event.ActionEvent.tool_call`

```python
tool_call: MessageToolCall = Field(..., description='The tool call received from the LLM response. We keep a copy of it so it is easier to construct it into LLM messageThis could be different from `action`: e.g., `tool_call` may contain `security_risk` field predicted by LLM when LLM risk analyzer is enabled, while `action` does not.')
```

##### `openhands.sdk.event.ActionEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The unique id returned by LLM API for this tool call')
```

##### `openhands.sdk.event.ActionEvent.tool_name`

```python
tool_name: str = Field(..., description='The name of the tool being called')
```

##### `openhands.sdk.event.ActionEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action event.

#### `openhands.sdk.event.AgentErrorEvent`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

Error triggered by the agent.

Note: This event should not contain model "thought" or "reasoning_content". It
represents an error produced by the agent/scaffold, not model output.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.AgentErrorEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.AgentErrorEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.AgentErrorEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.AgentErrorEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.AgentErrorEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.AgentErrorEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.AgentErrorEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.AgentErrorEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.AgentErrorEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.AgentErrorEvent.to_llm_message) –

**Attributes:**

- [**error**](#openhands.sdk.event.AgentErrorEvent.error) (<code>[str](#str)</code>) –
- [**id**](#openhands.sdk.event.AgentErrorEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.AgentErrorEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.AgentErrorEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.AgentErrorEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.AgentErrorEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.AgentErrorEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.AgentErrorEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.AgentErrorEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this agent error event.

##### `openhands.sdk.event.AgentErrorEvent.error`

```python
error: str = Field(..., description='The error message from the scaffold')
```

##### `openhands.sdk.event.AgentErrorEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.AgentErrorEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.AgentErrorEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.AgentErrorEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.AgentErrorEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.AgentErrorEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.AgentErrorEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.AgentErrorEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.AgentErrorEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.AgentErrorEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.AgentErrorEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.AgentErrorEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.AgentErrorEvent.source`

```python
source: SourceType = 'agent'
```

##### `openhands.sdk.event.AgentErrorEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.AgentErrorEvent.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.AgentErrorEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

##### `openhands.sdk.event.AgentErrorEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

##### `openhands.sdk.event.AgentErrorEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this agent error event.

#### `openhands.sdk.event.Condensation`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

This action indicates a condensation of the conversation history is happening.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.Condensation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.Condensation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.Condensation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.Condensation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.Condensation.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.Condensation.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.Condensation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.Condensation.resolve_kind) –

**Attributes:**

- [**forgotten_event_ids**](#openhands.sdk.event.Condensation.forgotten_event_ids) (<code>[list](#list)\[[EventID](#openhands.sdk.event.types.EventID)\]</code>) –
- [**id**](#openhands.sdk.event.Condensation.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.Condensation.kind) (<code>[str](#str)</code>) –
- [**llm_response_id**](#openhands.sdk.event.Condensation.llm_response_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**model_config**](#openhands.sdk.event.Condensation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.Condensation.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**summary**](#openhands.sdk.event.Condensation.summary) (<code>[str](#str) | None</code>) –
- [**summary_offset**](#openhands.sdk.event.Condensation.summary_offset) (<code>[int](#int) | None</code>) –
- [**timestamp**](#openhands.sdk.event.Condensation.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.Condensation.visualize) (<code>[Text](#rich.text.Text)</code>) –

##### `openhands.sdk.event.Condensation.forgotten_event_ids`

```python
forgotten_event_ids: list[EventID] = Field(default_factory=list, description='The IDs of the events that are being forgotten (removed from the `View` given to the LLM).')
```

##### `openhands.sdk.event.Condensation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.Condensation.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.Condensation.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.Condensation.llm_response_id`

```python
llm_response_id: EventID = Field(description='Completion or Response ID of the LLM response that generated this event')
```

##### `openhands.sdk.event.Condensation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.Condensation.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.Condensation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.Condensation.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.Condensation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.Condensation.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.Condensation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.Condensation.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.Condensation.source`

```python
source: SourceType = 'environment'
```

##### `openhands.sdk.event.Condensation.summary`

```python
summary: str | None = Field(default=None, description='An optional summary of the events being forgotten.')
```

##### `openhands.sdk.event.Condensation.summary_offset`

```python
summary_offset: int | None = Field(default=None, ge=0, description='An optional offset to the start of the resulting view indicating where the summary should be inserted.')
```

##### `openhands.sdk.event.Condensation.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.Condensation.visualize`

```python
visualize: Text
```

#### `openhands.sdk.event.CondensationRequest`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

This action is used to request a condensation of the conversation history.

**Attributes:**

- [**action**](#openhands.sdk.event.CondensationRequest.action) (<code>[str](#str)</code>) – The action type, namely ActionType.CONDENSATION_REQUEST.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.CondensationRequest.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.CondensationRequest.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.CondensationRequest.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.CondensationRequest.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.CondensationRequest.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.CondensationRequest.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.CondensationRequest.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.CondensationRequest.resolve_kind) –

##### `openhands.sdk.event.CondensationRequest.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.CondensationRequest.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.CondensationRequest.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.CondensationRequest.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.CondensationRequest.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.CondensationRequest.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.CondensationRequest.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.CondensationRequest.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.CondensationRequest.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.CondensationRequest.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.CondensationRequest.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.CondensationRequest.source`

```python
source: SourceType = 'environment'
```

##### `openhands.sdk.event.CondensationRequest.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.CondensationRequest.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### `openhands.sdk.event.CondensationSummaryEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

This event represents a summary generated by a condenser.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.CondensationSummaryEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.CondensationSummaryEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.CondensationSummaryEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.CondensationSummaryEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.CondensationSummaryEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.CondensationSummaryEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.CondensationSummaryEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.CondensationSummaryEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.CondensationSummaryEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.CondensationSummaryEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.CondensationSummaryEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.CondensationSummaryEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.CondensationSummaryEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.CondensationSummaryEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**summary**](#openhands.sdk.event.CondensationSummaryEvent.summary) (<code>[str](#str)</code>) – The summary text.
- [**timestamp**](#openhands.sdk.event.CondensationSummaryEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.CondensationSummaryEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

##### `openhands.sdk.event.CondensationSummaryEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.CondensationSummaryEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.CondensationSummaryEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.CondensationSummaryEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.CondensationSummaryEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.CondensationSummaryEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.CondensationSummaryEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.CondensationSummaryEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.CondensationSummaryEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.CondensationSummaryEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.CondensationSummaryEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.CondensationSummaryEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.CondensationSummaryEvent.source`

```python
source: SourceType = 'environment'
```

##### `openhands.sdk.event.CondensationSummaryEvent.summary`

```python
summary: str
```

The summary text.

##### `openhands.sdk.event.CondensationSummaryEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.CondensationSummaryEvent.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.CondensationSummaryEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### `openhands.sdk.event.ConversationStateUpdateEvent`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

Event that contains conversation state updates.

This event is sent via websocket whenever the conversation state changes,
allowing remote clients to stay in sync without making REST API calls.

All fields are serialized versions of the corresponding ConversationState fields
to ensure compatibility with websocket transmission.

**Functions:**

- [**from_conversation_state**](#openhands.sdk.event.ConversationStateUpdateEvent.from_conversation_state) – Create a state update event from a ConversationState object.
- [**get_serializable_type**](#openhands.sdk.event.ConversationStateUpdateEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.ConversationStateUpdateEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.ConversationStateUpdateEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.ConversationStateUpdateEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.ConversationStateUpdateEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.ConversationStateUpdateEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.ConversationStateUpdateEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.ConversationStateUpdateEvent.resolve_kind) –
- [**validate_key**](#openhands.sdk.event.ConversationStateUpdateEvent.validate_key) –
- [**validate_value**](#openhands.sdk.event.ConversationStateUpdateEvent.validate_value) –

**Attributes:**

- [**id**](#openhands.sdk.event.ConversationStateUpdateEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**key**](#openhands.sdk.event.ConversationStateUpdateEvent.key) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.event.ConversationStateUpdateEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.ConversationStateUpdateEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.ConversationStateUpdateEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.ConversationStateUpdateEvent.timestamp) (<code>[str](#str)</code>) –
- [**value**](#openhands.sdk.event.ConversationStateUpdateEvent.value) (<code>[Any](#typing.Any)</code>) –
- [**visualize**](#openhands.sdk.event.ConversationStateUpdateEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

##### `openhands.sdk.event.ConversationStateUpdateEvent.from_conversation_state`

```python
from_conversation_state(state)
```

Create a state update event from a ConversationState object.

This creates an event containing a snapshot of important state fields.

**Parameters:**

- **state** (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) – The ConversationState to serialize
- **conversation_id** – The conversation ID for the event

**Returns:**

- <code>[ConversationStateUpdateEvent](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent)</code> – A ConversationStateUpdateEvent with serialized state data

##### `openhands.sdk.event.ConversationStateUpdateEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.ConversationStateUpdateEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.key`

```python
key: str = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique key for this state update event')
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.source`

```python
source: SourceType = 'environment'
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.validate_key`

```python
validate_key(key)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.validate_value`

```python
validate_value(value, info)
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.value`

```python
value: Any = Field(default_factory=dict, description='Serialized conversation state updates')
```

##### `openhands.sdk.event.ConversationStateUpdateEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### `openhands.sdk.event.Event`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Base class for all events.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.Event.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.Event.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.Event.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.Event.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.Event.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.Event.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.Event.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.Event.resolve_kind) –

**Attributes:**

- [**id**](#openhands.sdk.event.Event.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.Event.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.Event.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.Event.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.Event.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.Event.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

##### `openhands.sdk.event.Event.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.Event.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.Event.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.Event.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.Event.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.Event.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.Event.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.Event.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.Event.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.Event.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.Event.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.Event.source`

```python
source: SourceType = Field(..., description='The source of this event')
```

##### `openhands.sdk.event.Event.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.Event.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### `openhands.sdk.event.EventID`

```python
EventID = str
```

Type alias for event IDs.

#### `openhands.sdk.event.LLMConvertibleEvent`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>, <code>[ABC](#abc.ABC)</code>

Base class for events that can be converted to LLM messages.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.LLMConvertibleEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.LLMConvertibleEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.LLMConvertibleEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.LLMConvertibleEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.LLMConvertibleEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.LLMConvertibleEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.LLMConvertibleEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.LLMConvertibleEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.LLMConvertibleEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.LLMConvertibleEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.LLMConvertibleEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.LLMConvertibleEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.LLMConvertibleEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.LLMConvertibleEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.LLMConvertibleEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.LLMConvertibleEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

##### `openhands.sdk.event.LLMConvertibleEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.LLMConvertibleEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.LLMConvertibleEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.LLMConvertibleEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.LLMConvertibleEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.LLMConvertibleEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.LLMConvertibleEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.LLMConvertibleEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.LLMConvertibleEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.LLMConvertibleEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.LLMConvertibleEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.LLMConvertibleEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.LLMConvertibleEvent.source`

```python
source: SourceType = Field(..., description='The source of this event')
```

##### `openhands.sdk.event.LLMConvertibleEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.LLMConvertibleEvent.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.LLMConvertibleEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### `openhands.sdk.event.MessageEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

Message from either agent or user.

This is originally the "MessageAction", but it suppose not to be tool call.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.MessageEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.MessageEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.MessageEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.MessageEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.MessageEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.MessageEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.MessageEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.MessageEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.MessageEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.MessageEvent.to_llm_message) –

**Attributes:**

- [**activated_skills**](#openhands.sdk.event.MessageEvent.activated_skills) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**extended_content**](#openhands.sdk.event.MessageEvent.extended_content) (<code>[list](#list)\[[TextContent](#openhands.sdk.llm.TextContent)\]</code>) –
- [**id**](#openhands.sdk.event.MessageEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.MessageEvent.kind) (<code>[str](#str)</code>) –
- [**llm_message**](#openhands.sdk.event.MessageEvent.llm_message) (<code>[Message](#openhands.sdk.llm.Message)</code>) –
- [**llm_response_id**](#openhands.sdk.event.MessageEvent.llm_response_id) (<code>[EventID](#openhands.sdk.event.base.EventID) | None</code>) –
- [**model_config**](#openhands.sdk.event.MessageEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**reasoning_content**](#openhands.sdk.event.MessageEvent.reasoning_content) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.event.MessageEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**thinking_blocks**](#openhands.sdk.event.MessageEvent.thinking_blocks) (<code>[Sequence](#collections.abc.Sequence)\[[ThinkingBlock](#openhands.sdk.llm.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.RedactedThinkingBlock)\]</code>) – Return the Anthropic thinking blocks from the LLM message.
- [**timestamp**](#openhands.sdk.event.MessageEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.MessageEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this message event.

##### `openhands.sdk.event.MessageEvent.activated_skills`

```python
activated_skills: list[str] = Field(default_factory=list, description='List of activated skill name')
```

##### `openhands.sdk.event.MessageEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.MessageEvent.extended_content`

```python
extended_content: list[TextContent] = Field(default_factory=list, description='List of content added by agent context')
```

##### `openhands.sdk.event.MessageEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.MessageEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.MessageEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.MessageEvent.llm_message`

```python
llm_message: Message = Field(..., description='The exact LLM message for this message event')
```

##### `openhands.sdk.event.MessageEvent.llm_response_id`

```python
llm_response_id: EventID | None = Field(default=None, description="Completion or Response ID of the LLM response that generated this eventIf the source != 'agent', this field is None")
```

##### `openhands.sdk.event.MessageEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.MessageEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.MessageEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.MessageEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.MessageEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.MessageEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.MessageEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.MessageEvent.reasoning_content`

```python
reasoning_content: str
```

##### `openhands.sdk.event.MessageEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.MessageEvent.source`

```python
source: SourceType
```

##### `openhands.sdk.event.MessageEvent.thinking_blocks`

```python
thinking_blocks: Sequence[ThinkingBlock | RedactedThinkingBlock]
```

Return the Anthropic thinking blocks from the LLM message.

##### `openhands.sdk.event.MessageEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.MessageEvent.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.MessageEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this message event.

#### `openhands.sdk.event.ObservationBaseEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

Base class for anything as a response to a tool call.

Examples include tool execution, error, user reject.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.ObservationBaseEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.ObservationBaseEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.ObservationBaseEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.ObservationBaseEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.ObservationBaseEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.ObservationBaseEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.ObservationBaseEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.ObservationBaseEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.ObservationBaseEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.ObservationBaseEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.ObservationBaseEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.ObservationBaseEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.ObservationBaseEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.ObservationBaseEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.ObservationBaseEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.ObservationBaseEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.ObservationBaseEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.ObservationBaseEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

##### `openhands.sdk.event.ObservationBaseEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.ObservationBaseEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.ObservationBaseEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.ObservationBaseEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.ObservationBaseEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.ObservationBaseEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.ObservationBaseEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.ObservationBaseEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.ObservationBaseEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.ObservationBaseEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.ObservationBaseEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.ObservationBaseEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.ObservationBaseEvent.source`

```python
source: SourceType = 'environment'
```

##### `openhands.sdk.event.ObservationBaseEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.ObservationBaseEvent.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.ObservationBaseEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

##### `openhands.sdk.event.ObservationBaseEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

##### `openhands.sdk.event.ObservationBaseEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### `openhands.sdk.event.ObservationEvent`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.ObservationEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.ObservationEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.ObservationEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.ObservationEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.ObservationEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.ObservationEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.ObservationEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.ObservationEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.ObservationEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.ObservationEvent.to_llm_message) –

**Attributes:**

- [**action_id**](#openhands.sdk.event.ObservationEvent.action_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**id**](#openhands.sdk.event.ObservationEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.ObservationEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.ObservationEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**observation**](#openhands.sdk.event.ObservationEvent.observation) (<code>[Observation](#openhands.sdk.tool.schema.Observation)</code>) –
- [**source**](#openhands.sdk.event.ObservationEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.ObservationEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.ObservationEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.ObservationEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.ObservationEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this observation event.

##### `openhands.sdk.event.ObservationEvent.action_id`

```python
action_id: EventID = Field(..., description='The action id that this observation is responding to')
```

##### `openhands.sdk.event.ObservationEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.ObservationEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.ObservationEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.ObservationEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.ObservationEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.ObservationEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.ObservationEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.ObservationEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.ObservationEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.ObservationEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.ObservationEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.ObservationEvent.observation`

```python
observation: Observation = Field(..., description='The observation (tool call) sent to LLM')
```

##### `openhands.sdk.event.ObservationEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.ObservationEvent.source`

```python
source: SourceType = 'environment'
```

##### `openhands.sdk.event.ObservationEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.ObservationEvent.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.ObservationEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

##### `openhands.sdk.event.ObservationEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

##### `openhands.sdk.event.ObservationEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this observation event.

#### `openhands.sdk.event.PauseEvent`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

Event indicating that the agent execution was paused by user request.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.PauseEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.PauseEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.PauseEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.PauseEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.PauseEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.PauseEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.PauseEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.PauseEvent.resolve_kind) –

**Attributes:**

- [**id**](#openhands.sdk.event.PauseEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.PauseEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.PauseEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.PauseEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.PauseEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.PauseEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this pause event.

##### `openhands.sdk.event.PauseEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.PauseEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.PauseEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.PauseEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.PauseEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.PauseEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.PauseEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.PauseEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.PauseEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.PauseEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.PauseEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.PauseEvent.source`

```python
source: SourceType = 'user'
```

##### `openhands.sdk.event.PauseEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.PauseEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this pause event.

#### `openhands.sdk.event.SystemPromptEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

System prompt added by the agent.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.SystemPromptEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.SystemPromptEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.SystemPromptEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.SystemPromptEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.SystemPromptEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.SystemPromptEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.SystemPromptEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.SystemPromptEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.SystemPromptEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.SystemPromptEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.SystemPromptEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.SystemPromptEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.SystemPromptEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.SystemPromptEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**system_prompt**](#openhands.sdk.event.SystemPromptEvent.system_prompt) (<code>[TextContent](#openhands.sdk.llm.TextContent)</code>) –
- [**timestamp**](#openhands.sdk.event.SystemPromptEvent.timestamp) (<code>[str](#str)</code>) –
- [**tools**](#openhands.sdk.event.SystemPromptEvent.tools) (<code>[list](#list)\[[ChatCompletionToolParam](#litellm.ChatCompletionToolParam)\]</code>) –
- [**visualize**](#openhands.sdk.event.SystemPromptEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this system prompt event.

##### `openhands.sdk.event.SystemPromptEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.SystemPromptEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.SystemPromptEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.SystemPromptEvent.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.SystemPromptEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.SystemPromptEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.SystemPromptEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.SystemPromptEvent.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.SystemPromptEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.SystemPromptEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.SystemPromptEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.SystemPromptEvent.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.SystemPromptEvent.source`

```python
source: SourceType = 'agent'
```

##### `openhands.sdk.event.SystemPromptEvent.system_prompt`

```python
system_prompt: TextContent = Field(..., description='The system prompt text')
```

##### `openhands.sdk.event.SystemPromptEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.SystemPromptEvent.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.SystemPromptEvent.tools`

```python
tools: list[ChatCompletionToolParam] = Field(..., description='List of tools in OpenAI tool format')
```

##### `openhands.sdk.event.SystemPromptEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this system prompt event.

#### `openhands.sdk.event.ToolCallID`

```python
ToolCallID = str
```

Type alias for tool call IDs.

#### `openhands.sdk.event.UserRejectObservation`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

Observation when user rejects an action in confirmation mode.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.UserRejectObservation.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.UserRejectObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.UserRejectObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.UserRejectObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.UserRejectObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.UserRejectObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.UserRejectObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.UserRejectObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.UserRejectObservation.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.UserRejectObservation.to_llm_message) –

**Attributes:**

- [**action_id**](#openhands.sdk.event.UserRejectObservation.action_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**id**](#openhands.sdk.event.UserRejectObservation.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.UserRejectObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.UserRejectObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**rejection_reason**](#openhands.sdk.event.UserRejectObservation.rejection_reason) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.event.UserRejectObservation.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.UserRejectObservation.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.UserRejectObservation.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.UserRejectObservation.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.UserRejectObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this user rejection event.

##### `openhands.sdk.event.UserRejectObservation.action_id`

```python
action_id: EventID = Field(..., description='The action id that this observation is responding to')
```

##### `openhands.sdk.event.UserRejectObservation.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

##### `openhands.sdk.event.UserRejectObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.event.UserRejectObservation.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

##### `openhands.sdk.event.UserRejectObservation.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.event.UserRejectObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.event.UserRejectObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.event.UserRejectObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.event.UserRejectObservation.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.event.UserRejectObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.event.UserRejectObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.event.UserRejectObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.event.UserRejectObservation.rejection_reason`

```python
rejection_reason: str = Field(default='User rejected the action', description='Reason for rejecting the action')
```

##### `openhands.sdk.event.UserRejectObservation.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.event.UserRejectObservation.source`

```python
source: SourceType = 'environment'
```

##### `openhands.sdk.event.UserRejectObservation.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

##### `openhands.sdk.event.UserRejectObservation.to_llm_message`

```python
to_llm_message()
```

##### `openhands.sdk.event.UserRejectObservation.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

##### `openhands.sdk.event.UserRejectObservation.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

##### `openhands.sdk.event.UserRejectObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this user rejection event.

#### `openhands.sdk.event.base`

**Classes:**

- [**Event**](#openhands.sdk.event.base.Event) – Base class for all events.
- [**LLMConvertibleEvent**](#openhands.sdk.event.base.LLMConvertibleEvent) – Base class for events that can be converted to LLM messages.

**Attributes:**

- [**N_CHAR_PREVIEW**](#openhands.sdk.event.base.N_CHAR_PREVIEW) –

##### `openhands.sdk.event.base.Event`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Base class for all events.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.base.Event.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.base.Event.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.base.Event.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.base.Event.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.base.Event.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.base.Event.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.base.Event.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.base.Event.resolve_kind) –

**Attributes:**

- [**id**](#openhands.sdk.event.base.Event.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.base.Event.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.base.Event.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.base.Event.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.base.Event.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.base.Event.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

###### `openhands.sdk.event.base.Event.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.base.Event.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.base.Event.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.base.Event.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.base.Event.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.base.Event.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.base.Event.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.base.Event.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.base.Event.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.base.Event.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.base.Event.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.base.Event.source`

```python
source: SourceType = Field(..., description='The source of this event')
```

###### `openhands.sdk.event.base.Event.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.base.Event.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

##### `openhands.sdk.event.base.LLMConvertibleEvent`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>, <code>[ABC](#abc.ABC)</code>

Base class for events that can be converted to LLM messages.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.base.LLMConvertibleEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.base.LLMConvertibleEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.base.LLMConvertibleEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.base.LLMConvertibleEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.base.LLMConvertibleEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.base.LLMConvertibleEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.base.LLMConvertibleEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.base.LLMConvertibleEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.base.LLMConvertibleEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.base.LLMConvertibleEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.base.LLMConvertibleEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.base.LLMConvertibleEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.base.LLMConvertibleEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.base.LLMConvertibleEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.base.LLMConvertibleEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.base.LLMConvertibleEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

###### `openhands.sdk.event.base.LLMConvertibleEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.base.LLMConvertibleEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.base.LLMConvertibleEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.source`

```python
source: SourceType = Field(..., description='The source of this event')
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.base.LLMConvertibleEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

##### `openhands.sdk.event.base.N_CHAR_PREVIEW`

```python
N_CHAR_PREVIEW = 500
```

#### `openhands.sdk.event.condenser`

**Classes:**

- [**Condensation**](#openhands.sdk.event.condenser.Condensation) – This action indicates a condensation of the conversation history is happening.
- [**CondensationRequest**](#openhands.sdk.event.condenser.CondensationRequest) – This action is used to request a condensation of the conversation history.
- [**CondensationSummaryEvent**](#openhands.sdk.event.condenser.CondensationSummaryEvent) – This event represents a summary generated by a condenser.

##### `openhands.sdk.event.condenser.Condensation`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

This action indicates a condensation of the conversation history is happening.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.condenser.Condensation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.condenser.Condensation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.condenser.Condensation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.condenser.Condensation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.condenser.Condensation.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.condenser.Condensation.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.condenser.Condensation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.condenser.Condensation.resolve_kind) –

**Attributes:**

- [**forgotten_event_ids**](#openhands.sdk.event.condenser.Condensation.forgotten_event_ids) (<code>[list](#list)\[[EventID](#openhands.sdk.event.types.EventID)\]</code>) –
- [**id**](#openhands.sdk.event.condenser.Condensation.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.condenser.Condensation.kind) (<code>[str](#str)</code>) –
- [**llm_response_id**](#openhands.sdk.event.condenser.Condensation.llm_response_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**model_config**](#openhands.sdk.event.condenser.Condensation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.condenser.Condensation.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**summary**](#openhands.sdk.event.condenser.Condensation.summary) (<code>[str](#str) | None</code>) –
- [**summary_offset**](#openhands.sdk.event.condenser.Condensation.summary_offset) (<code>[int](#int) | None</code>) –
- [**timestamp**](#openhands.sdk.event.condenser.Condensation.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.condenser.Condensation.visualize) (<code>[Text](#rich.text.Text)</code>) –

###### `openhands.sdk.event.condenser.Condensation.forgotten_event_ids`

```python
forgotten_event_ids: list[EventID] = Field(default_factory=list, description='The IDs of the events that are being forgotten (removed from the `View` given to the LLM).')
```

###### `openhands.sdk.event.condenser.Condensation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.condenser.Condensation.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.condenser.Condensation.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.condenser.Condensation.llm_response_id`

```python
llm_response_id: EventID = Field(description='Completion or Response ID of the LLM response that generated this event')
```

###### `openhands.sdk.event.condenser.Condensation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.condenser.Condensation.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.condenser.Condensation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.condenser.Condensation.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.condenser.Condensation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.condenser.Condensation.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.condenser.Condensation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.condenser.Condensation.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.condenser.Condensation.source`

```python
source: SourceType = 'environment'
```

###### `openhands.sdk.event.condenser.Condensation.summary`

```python
summary: str | None = Field(default=None, description='An optional summary of the events being forgotten.')
```

###### `openhands.sdk.event.condenser.Condensation.summary_offset`

```python
summary_offset: int | None = Field(default=None, ge=0, description='An optional offset to the start of the resulting view indicating where the summary should be inserted.')
```

###### `openhands.sdk.event.condenser.Condensation.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.condenser.Condensation.visualize`

```python
visualize: Text
```

##### `openhands.sdk.event.condenser.CondensationRequest`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

This action is used to request a condensation of the conversation history.

**Attributes:**

- [**action**](#openhands.sdk.event.condenser.CondensationRequest.action) (<code>[str](#str)</code>) – The action type, namely ActionType.CONDENSATION_REQUEST.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.condenser.CondensationRequest.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.condenser.CondensationRequest.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.condenser.CondensationRequest.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.condenser.CondensationRequest.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.condenser.CondensationRequest.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.condenser.CondensationRequest.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.condenser.CondensationRequest.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.condenser.CondensationRequest.resolve_kind) –

###### `openhands.sdk.event.condenser.CondensationRequest.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.condenser.CondensationRequest.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.condenser.CondensationRequest.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.condenser.CondensationRequest.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.condenser.CondensationRequest.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.condenser.CondensationRequest.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.condenser.CondensationRequest.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.condenser.CondensationRequest.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.condenser.CondensationRequest.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.condenser.CondensationRequest.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.condenser.CondensationRequest.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.condenser.CondensationRequest.source`

```python
source: SourceType = 'environment'
```

###### `openhands.sdk.event.condenser.CondensationRequest.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.condenser.CondensationRequest.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

##### `openhands.sdk.event.condenser.CondensationSummaryEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

This event represents a summary generated by a condenser.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.condenser.CondensationSummaryEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.condenser.CondensationSummaryEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.condenser.CondensationSummaryEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.condenser.CondensationSummaryEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.condenser.CondensationSummaryEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.condenser.CondensationSummaryEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.condenser.CondensationSummaryEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.condenser.CondensationSummaryEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.condenser.CondensationSummaryEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.condenser.CondensationSummaryEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.condenser.CondensationSummaryEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.condenser.CondensationSummaryEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.condenser.CondensationSummaryEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.condenser.CondensationSummaryEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**summary**](#openhands.sdk.event.condenser.CondensationSummaryEvent.summary) (<code>[str](#str)</code>) – The summary text.
- [**timestamp**](#openhands.sdk.event.condenser.CondensationSummaryEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.condenser.CondensationSummaryEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.source`

```python
source: SourceType = 'environment'
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.summary`

```python
summary: str
```

The summary text.

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.condenser.CondensationSummaryEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### `openhands.sdk.event.conversation_state`

Events related to conversation state updates.

**Classes:**

- [**ConversationStateUpdateEvent**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent) – Event that contains conversation state updates.

**Attributes:**

- [**FULL_STATE_KEY**](#openhands.sdk.event.conversation_state.FULL_STATE_KEY) –

##### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

Event that contains conversation state updates.

This event is sent via websocket whenever the conversation state changes,
allowing remote clients to stay in sync without making REST API calls.

All fields are serialized versions of the corresponding ConversationState fields
to ensure compatibility with websocket transmission.

**Functions:**

- [**from_conversation_state**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.from_conversation_state) – Create a state update event from a ConversationState object.
- [**get_serializable_type**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.resolve_kind) –
- [**validate_key**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.validate_key) –
- [**validate_value**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.validate_value) –

**Attributes:**

- [**id**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**key**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.key) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.timestamp) (<code>[str](#str)</code>) –
- [**value**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.value) (<code>[Any](#typing.Any)</code>) –
- [**visualize**](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.from_conversation_state`

```python
from_conversation_state(state)
```

Create a state update event from a ConversationState object.

This creates an event containing a snapshot of important state fields.

**Parameters:**

- **state** (<code>[ConversationState](#openhands.sdk.conversation.state.ConversationState)</code>) – The ConversationState to serialize
- **conversation_id** – The conversation ID for the event

**Returns:**

- <code>[ConversationStateUpdateEvent](#openhands.sdk.event.conversation_state.ConversationStateUpdateEvent)</code> – A ConversationStateUpdateEvent with serialized state data

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.key`

```python
key: str = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique key for this state update event')
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.source`

```python
source: SourceType = 'environment'
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.validate_key`

```python
validate_key(key)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.validate_value`

```python
validate_value(value, info)
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.value`

```python
value: Any = Field(default_factory=dict, description='Serialized conversation state updates')
```

###### `openhands.sdk.event.conversation_state.ConversationStateUpdateEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

##### `openhands.sdk.event.conversation_state.FULL_STATE_KEY`

```python
FULL_STATE_KEY = 'full_state'
```

#### `openhands.sdk.event.llm_convertible`

**Modules:**

- [**action**](#openhands.sdk.event.llm_convertible.action) –
- [**message**](#openhands.sdk.event.llm_convertible.message) –
- [**observation**](#openhands.sdk.event.llm_convertible.observation) –
- [**system**](#openhands.sdk.event.llm_convertible.system) –

**Classes:**

- [**ActionEvent**](#openhands.sdk.event.llm_convertible.ActionEvent) –
- [**AgentErrorEvent**](#openhands.sdk.event.llm_convertible.AgentErrorEvent) – Error triggered by the agent.
- [**MessageEvent**](#openhands.sdk.event.llm_convertible.MessageEvent) – Message from either agent or user.
- [**ObservationBaseEvent**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent) – Base class for anything as a response to a tool call.
- [**ObservationEvent**](#openhands.sdk.event.llm_convertible.ObservationEvent) –
- [**SystemPromptEvent**](#openhands.sdk.event.llm_convertible.SystemPromptEvent) – System prompt added by the agent.
- [**UserRejectObservation**](#openhands.sdk.event.llm_convertible.UserRejectObservation) – Observation when user rejects an action in confirmation mode.

##### `openhands.sdk.event.llm_convertible.ActionEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.ActionEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.ActionEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.ActionEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.ActionEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.ActionEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.ActionEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.ActionEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.ActionEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.ActionEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.ActionEvent.to_llm_message) – Individual message - may be incomplete for multi-action batches

**Attributes:**

- [**action**](#openhands.sdk.event.llm_convertible.ActionEvent.action) (<code>[Action](#openhands.sdk.tool.schema.Action) | None</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.ActionEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.ActionEvent.kind) (<code>[str](#str)</code>) –
- [**llm_response_id**](#openhands.sdk.event.llm_convertible.ActionEvent.llm_response_id) (<code>[EventID](#openhands.sdk.event.base.EventID)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.ActionEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**reasoning_content**](#openhands.sdk.event.llm_convertible.ActionEvent.reasoning_content) (<code>[str](#str) | None</code>) –
- [**responses_reasoning_item**](#openhands.sdk.event.llm_convertible.ActionEvent.responses_reasoning_item) (<code>[ReasoningItemModel](#openhands.sdk.llm.ReasoningItemModel) | None</code>) –
- [**security_risk**](#openhands.sdk.event.llm_convertible.ActionEvent.security_risk) (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.ActionEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**thinking_blocks**](#openhands.sdk.event.llm_convertible.ActionEvent.thinking_blocks) (<code>[list](#list)\[[ThinkingBlock](#openhands.sdk.llm.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.RedactedThinkingBlock)\]</code>) –
- [**thought**](#openhands.sdk.event.llm_convertible.ActionEvent.thought) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent)\]</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.ActionEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call**](#openhands.sdk.event.llm_convertible.ActionEvent.tool_call) (<code>[MessageToolCall](#openhands.sdk.llm.MessageToolCall)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.ActionEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.ActionEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.ActionEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action event.

###### `openhands.sdk.event.llm_convertible.ActionEvent.action`

```python
action: Action | None = Field(default=None, description='Single tool call returned by LLM (None when non-executable)')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.llm_convertible.ActionEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.llm_convertible.ActionEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.llm_response_id`

```python
llm_response_id: EventID = Field(description='Completion or Response ID of the LLM response that generated this eventE.g., Can be used to group related actions from same LLM response. This helps in tracking and managing results of parallel function calling from the same LLM response.')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.reasoning_content`

```python
reasoning_content: str | None = Field(default=None, description='Intermediate reasoning/thinking content from reasoning models')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.responses_reasoning_item`

```python
responses_reasoning_item: ReasoningItemModel | None = Field(default=None, description='OpenAI Responses reasoning item from model output')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.security_risk`

```python
security_risk: risk.SecurityRisk = Field(default=(risk.SecurityRisk.UNKNOWN), description="The LLM's assessment of the safety risk of this action.")
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.source`

```python
source: SourceType = 'agent'
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.thinking_blocks`

```python
thinking_blocks: list[ThinkingBlock | RedactedThinkingBlock] = Field(default_factory=list, description='Anthropic thinking blocks from the LLM response')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.thought`

```python
thought: Sequence[TextContent] = Field(..., description='The thought process of the agent before taking this action')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.to_llm_message`

```python
to_llm_message()
```

Individual message - may be incomplete for multi-action batches

###### `openhands.sdk.event.llm_convertible.ActionEvent.tool_call`

```python
tool_call: MessageToolCall = Field(..., description='The tool call received from the LLM response. We keep a copy of it so it is easier to construct it into LLM messageThis could be different from `action`: e.g., `tool_call` may contain `security_risk` field predicted by LLM when LLM risk analyzer is enabled, while `action` does not.')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The unique id returned by LLM API for this tool call')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.tool_name`

```python
tool_name: str = Field(..., description='The name of the tool being called')
```

###### `openhands.sdk.event.llm_convertible.ActionEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action event.

##### `openhands.sdk.event.llm_convertible.AgentErrorEvent`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

Error triggered by the agent.

Note: This event should not contain model "thought" or "reasoning_content". It
represents an error produced by the agent/scaffold, not model output.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.to_llm_message) –

**Attributes:**

- [**error**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.error) (<code>[str](#str)</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.AgentErrorEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this agent error event.

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.error`

```python
error: str = Field(..., description='The error message from the scaffold')
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.source`

```python
source: SourceType = 'agent'
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.AgentErrorEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this agent error event.

##### `openhands.sdk.event.llm_convertible.MessageEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

Message from either agent or user.

This is originally the "MessageAction", but it suppose not to be tool call.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.MessageEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.MessageEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.MessageEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.MessageEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.MessageEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.MessageEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.MessageEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.MessageEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.MessageEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.MessageEvent.to_llm_message) –

**Attributes:**

- [**activated_skills**](#openhands.sdk.event.llm_convertible.MessageEvent.activated_skills) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**extended_content**](#openhands.sdk.event.llm_convertible.MessageEvent.extended_content) (<code>[list](#list)\[[TextContent](#openhands.sdk.llm.TextContent)\]</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.MessageEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.MessageEvent.kind) (<code>[str](#str)</code>) –
- [**llm_message**](#openhands.sdk.event.llm_convertible.MessageEvent.llm_message) (<code>[Message](#openhands.sdk.llm.Message)</code>) –
- [**llm_response_id**](#openhands.sdk.event.llm_convertible.MessageEvent.llm_response_id) (<code>[EventID](#openhands.sdk.event.base.EventID) | None</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.MessageEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**reasoning_content**](#openhands.sdk.event.llm_convertible.MessageEvent.reasoning_content) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.MessageEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**thinking_blocks**](#openhands.sdk.event.llm_convertible.MessageEvent.thinking_blocks) (<code>[Sequence](#collections.abc.Sequence)\[[ThinkingBlock](#openhands.sdk.llm.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.RedactedThinkingBlock)\]</code>) – Return the Anthropic thinking blocks from the LLM message.
- [**timestamp**](#openhands.sdk.event.llm_convertible.MessageEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.MessageEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this message event.

###### `openhands.sdk.event.llm_convertible.MessageEvent.activated_skills`

```python
activated_skills: list[str] = Field(default_factory=list, description='List of activated skill name')
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.llm_convertible.MessageEvent.extended_content`

```python
extended_content: list[TextContent] = Field(default_factory=list, description='List of content added by agent context')
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.llm_convertible.MessageEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.llm_message`

```python
llm_message: Message = Field(..., description='The exact LLM message for this message event')
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.llm_response_id`

```python
llm_response_id: EventID | None = Field(default=None, description="Completion or Response ID of the LLM response that generated this eventIf the source != 'agent', this field is None")
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.reasoning_content`

```python
reasoning_content: str
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.source`

```python
source: SourceType
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.thinking_blocks`

```python
thinking_blocks: Sequence[ThinkingBlock | RedactedThinkingBlock]
```

Return the Anthropic thinking blocks from the LLM message.

###### `openhands.sdk.event.llm_convertible.MessageEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.llm_convertible.MessageEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this message event.

##### `openhands.sdk.event.llm_convertible.ObservationBaseEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

Base class for anything as a response to a tool call.

Examples include tool execution, error, user reject.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.ObservationBaseEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.source`

```python
source: SourceType = 'environment'
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.ObservationBaseEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

##### `openhands.sdk.event.llm_convertible.ObservationEvent`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.ObservationEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.ObservationEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.ObservationEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.ObservationEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.ObservationEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.ObservationEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.ObservationEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.ObservationEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.ObservationEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.ObservationEvent.to_llm_message) –

**Attributes:**

- [**action_id**](#openhands.sdk.event.llm_convertible.ObservationEvent.action_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.ObservationEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.ObservationEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.ObservationEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**observation**](#openhands.sdk.event.llm_convertible.ObservationEvent.observation) (<code>[Observation](#openhands.sdk.tool.schema.Observation)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.ObservationEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.ObservationEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.ObservationEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.ObservationEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.ObservationEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this observation event.

###### `openhands.sdk.event.llm_convertible.ObservationEvent.action_id`

```python
action_id: EventID = Field(..., description='The action id that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.llm_convertible.ObservationEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.llm_convertible.ObservationEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.observation`

```python
observation: Observation = Field(..., description='The observation (tool call) sent to LLM')
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.source`

```python
source: SourceType = 'environment'
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.ObservationEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this observation event.

##### `openhands.sdk.event.llm_convertible.SystemPromptEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

System prompt added by the agent.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**system_prompt**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.system_prompt) (<code>[TextContent](#openhands.sdk.llm.TextContent)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.timestamp) (<code>[str](#str)</code>) –
- [**tools**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.tools) (<code>[list](#list)\[[ChatCompletionToolParam](#litellm.ChatCompletionToolParam)\]</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.SystemPromptEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this system prompt event.

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.source`

```python
source: SourceType = 'agent'
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.system_prompt`

```python
system_prompt: TextContent = Field(..., description='The system prompt text')
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.tools`

```python
tools: list[ChatCompletionToolParam] = Field(..., description='List of tools in OpenAI tool format')
```

###### `openhands.sdk.event.llm_convertible.SystemPromptEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this system prompt event.

##### `openhands.sdk.event.llm_convertible.UserRejectObservation`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

Observation when user rejects an action in confirmation mode.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.UserRejectObservation.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.UserRejectObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.UserRejectObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.UserRejectObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.UserRejectObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.UserRejectObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.UserRejectObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.UserRejectObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.UserRejectObservation.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.UserRejectObservation.to_llm_message) –

**Attributes:**

- [**action_id**](#openhands.sdk.event.llm_convertible.UserRejectObservation.action_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.UserRejectObservation.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.UserRejectObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.UserRejectObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**rejection_reason**](#openhands.sdk.event.llm_convertible.UserRejectObservation.rejection_reason) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.UserRejectObservation.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.UserRejectObservation.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.UserRejectObservation.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.UserRejectObservation.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.UserRejectObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this user rejection event.

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.action_id`

```python
action_id: EventID = Field(..., description='The action id that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.rejection_reason`

```python
rejection_reason: str = Field(default='User rejected the action', description='Reason for rejecting the action')
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.source`

```python
source: SourceType = 'environment'
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.to_llm_message`

```python
to_llm_message()
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

###### `openhands.sdk.event.llm_convertible.UserRejectObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this user rejection event.

##### `openhands.sdk.event.llm_convertible.action`

**Classes:**

- [**ActionEvent**](#openhands.sdk.event.llm_convertible.action.ActionEvent) –

###### `openhands.sdk.event.llm_convertible.action.ActionEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.action.ActionEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.action.ActionEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.action.ActionEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.action.ActionEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.action.ActionEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.action.ActionEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.action.ActionEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.action.ActionEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.action.ActionEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.action.ActionEvent.to_llm_message) – Individual message - may be incomplete for multi-action batches

**Attributes:**

- [**action**](#openhands.sdk.event.llm_convertible.action.ActionEvent.action) (<code>[Action](#openhands.sdk.tool.schema.Action) | None</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.action.ActionEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.action.ActionEvent.kind) (<code>[str](#str)</code>) –
- [**llm_response_id**](#openhands.sdk.event.llm_convertible.action.ActionEvent.llm_response_id) (<code>[EventID](#openhands.sdk.event.base.EventID)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.action.ActionEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**reasoning_content**](#openhands.sdk.event.llm_convertible.action.ActionEvent.reasoning_content) (<code>[str](#str) | None</code>) –
- [**responses_reasoning_item**](#openhands.sdk.event.llm_convertible.action.ActionEvent.responses_reasoning_item) (<code>[ReasoningItemModel](#openhands.sdk.llm.ReasoningItemModel) | None</code>) –
- [**security_risk**](#openhands.sdk.event.llm_convertible.action.ActionEvent.security_risk) (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.action.ActionEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**thinking_blocks**](#openhands.sdk.event.llm_convertible.action.ActionEvent.thinking_blocks) (<code>[list](#list)\[[ThinkingBlock](#openhands.sdk.llm.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.RedactedThinkingBlock)\]</code>) –
- [**thought**](#openhands.sdk.event.llm_convertible.action.ActionEvent.thought) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent)\]</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.action.ActionEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call**](#openhands.sdk.event.llm_convertible.action.ActionEvent.tool_call) (<code>[MessageToolCall](#openhands.sdk.llm.MessageToolCall)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.action.ActionEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.action.ActionEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.action.ActionEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action event.

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.action`

```python
action: Action | None = Field(default=None, description='Single tool call returned by LLM (None when non-executable)')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.llm_response_id`

```python
llm_response_id: EventID = Field(description='Completion or Response ID of the LLM response that generated this eventE.g., Can be used to group related actions from same LLM response. This helps in tracking and managing results of parallel function calling from the same LLM response.')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.reasoning_content`

```python
reasoning_content: str | None = Field(default=None, description='Intermediate reasoning/thinking content from reasoning models')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.responses_reasoning_item`

```python
responses_reasoning_item: ReasoningItemModel | None = Field(default=None, description='OpenAI Responses reasoning item from model output')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.security_risk`

```python
security_risk: risk.SecurityRisk = Field(default=(risk.SecurityRisk.UNKNOWN), description="The LLM's assessment of the safety risk of this action.")
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.source`

```python
source: SourceType = 'agent'
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.thinking_blocks`

```python
thinking_blocks: list[ThinkingBlock | RedactedThinkingBlock] = Field(default_factory=list, description='Anthropic thinking blocks from the LLM response')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.thought`

```python
thought: Sequence[TextContent] = Field(..., description='The thought process of the agent before taking this action')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.to_llm_message`

```python
to_llm_message()
```

Individual message - may be incomplete for multi-action batches

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.tool_call`

```python
tool_call: MessageToolCall = Field(..., description='The tool call received from the LLM response. We keep a copy of it so it is easier to construct it into LLM messageThis could be different from `action`: e.g., `tool_call` may contain `security_risk` field predicted by LLM when LLM risk analyzer is enabled, while `action` does not.')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The unique id returned by LLM API for this tool call')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.tool_name`

```python
tool_name: str = Field(..., description='The name of the tool being called')
```

####### `openhands.sdk.event.llm_convertible.action.ActionEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action event.

##### `openhands.sdk.event.llm_convertible.message`

**Classes:**

- [**MessageEvent**](#openhands.sdk.event.llm_convertible.message.MessageEvent) – Message from either agent or user.

###### `openhands.sdk.event.llm_convertible.message.MessageEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

Message from either agent or user.

This is originally the "MessageAction", but it suppose not to be tool call.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.message.MessageEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.message.MessageEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.message.MessageEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.message.MessageEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.message.MessageEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.message.MessageEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.message.MessageEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.message.MessageEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.message.MessageEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.message.MessageEvent.to_llm_message) –

**Attributes:**

- [**activated_skills**](#openhands.sdk.event.llm_convertible.message.MessageEvent.activated_skills) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**extended_content**](#openhands.sdk.event.llm_convertible.message.MessageEvent.extended_content) (<code>[list](#list)\[[TextContent](#openhands.sdk.llm.TextContent)\]</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.message.MessageEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.message.MessageEvent.kind) (<code>[str](#str)</code>) –
- [**llm_message**](#openhands.sdk.event.llm_convertible.message.MessageEvent.llm_message) (<code>[Message](#openhands.sdk.llm.Message)</code>) –
- [**llm_response_id**](#openhands.sdk.event.llm_convertible.message.MessageEvent.llm_response_id) (<code>[EventID](#openhands.sdk.event.base.EventID) | None</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.message.MessageEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**reasoning_content**](#openhands.sdk.event.llm_convertible.message.MessageEvent.reasoning_content) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.message.MessageEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**thinking_blocks**](#openhands.sdk.event.llm_convertible.message.MessageEvent.thinking_blocks) (<code>[Sequence](#collections.abc.Sequence)\[[ThinkingBlock](#openhands.sdk.llm.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.RedactedThinkingBlock)\]</code>) – Return the Anthropic thinking blocks from the LLM message.
- [**timestamp**](#openhands.sdk.event.llm_convertible.message.MessageEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.message.MessageEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this message event.

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.activated_skills`

```python
activated_skills: list[str] = Field(default_factory=list, description='List of activated skill name')
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.extended_content`

```python
extended_content: list[TextContent] = Field(default_factory=list, description='List of content added by agent context')
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.llm_message`

```python
llm_message: Message = Field(..., description='The exact LLM message for this message event')
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.llm_response_id`

```python
llm_response_id: EventID | None = Field(default=None, description="Completion or Response ID of the LLM response that generated this eventIf the source != 'agent', this field is None")
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.reasoning_content`

```python
reasoning_content: str
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.source`

```python
source: SourceType
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.thinking_blocks`

```python
thinking_blocks: Sequence[ThinkingBlock | RedactedThinkingBlock]
```

Return the Anthropic thinking blocks from the LLM message.

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.to_llm_message`

```python
to_llm_message()
```

####### `openhands.sdk.event.llm_convertible.message.MessageEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this message event.

##### `openhands.sdk.event.llm_convertible.observation`

**Classes:**

- [**AgentErrorEvent**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent) – Error triggered by the agent.
- [**ObservationBaseEvent**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent) – Base class for anything as a response to a tool call.
- [**ObservationEvent**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent) –
- [**UserRejectObservation**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation) – Observation when user rejects an action in confirmation mode.

###### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

Error triggered by the agent.

Note: This event should not contain model "thought" or "reasoning_content". It
represents an error produced by the agent/scaffold, not model output.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.to_llm_message) –

**Attributes:**

- [**error**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.error) (<code>[str](#str)</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this agent error event.

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.error`

```python
error: str = Field(..., description='The error message from the scaffold')
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.source`

```python
source: SourceType = 'agent'
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.to_llm_message`

```python
to_llm_message()
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.AgentErrorEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this agent error event.

###### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

Base class for anything as a response to a tool call.

Examples include tool execution, error, user reject.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this event.

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.source`

```python
source: SourceType = 'environment'
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.to_llm_message`

```python
to_llm_message()
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this event.

This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

###### `openhands.sdk.event.llm_convertible.observation.ObservationEvent`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.to_llm_message) –

**Attributes:**

- [**action_id**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.action_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**observation**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.observation) (<code>[Observation](#openhands.sdk.tool.schema.Observation)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.observation.ObservationEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this observation event.

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.action_id`

```python
action_id: EventID = Field(..., description='The action id that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.observation`

```python
observation: Observation = Field(..., description='The observation (tool call) sent to LLM')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.source`

```python
source: SourceType = 'environment'
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.to_llm_message`

```python
to_llm_message()
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.ObservationEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this observation event.

###### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation`

Bases: <code>[ObservationBaseEvent](#openhands.sdk.event.llm_convertible.observation.ObservationBaseEvent)</code>

Observation when user rejects an action in confirmation mode.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.to_llm_message) –

**Attributes:**

- [**action_id**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.action_id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**id**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**rejection_reason**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.rejection_reason) (<code>[str](#str)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.timestamp) (<code>[str](#str)</code>) –
- [**tool_call_id**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.tool_call_id) (<code>[ToolCallID](#openhands.sdk.event.types.ToolCallID)</code>) –
- [**tool_name**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.observation.UserRejectObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this user rejection event.

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.action_id`

```python
action_id: EventID = Field(..., description='The action id that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.rejection_reason`

```python
rejection_reason: str = Field(default='User rejected the action', description='Reason for rejecting the action')
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.source`

```python
source: SourceType = 'environment'
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.to_llm_message`

```python
to_llm_message()
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.tool_call_id`

```python
tool_call_id: ToolCallID = Field(..., description='The tool call id that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.tool_name`

```python
tool_name: str = Field(..., description='The tool name that this observation is responding to')
```

####### `openhands.sdk.event.llm_convertible.observation.UserRejectObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this user rejection event.

##### `openhands.sdk.event.llm_convertible.system`

**Classes:**

- [**SystemPromptEvent**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent) – System prompt added by the agent.

###### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent`

Bases: <code>[LLMConvertibleEvent](#openhands.sdk.event.base.LLMConvertibleEvent)</code>

System prompt added by the agent.

**Functions:**

- [**events_to_messages**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.events_to_messages) – Convert event stream to LLM message stream, handling multi-action batches
- [**get_serializable_type**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.resolve_kind) –
- [**to_llm_message**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.to_llm_message) –

**Attributes:**

- [**id**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**system_prompt**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.system_prompt) (<code>[TextContent](#openhands.sdk.llm.TextContent)</code>) –
- [**timestamp**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.timestamp) (<code>[str](#str)</code>) –
- [**tools**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.tools) (<code>[list](#list)\[[ChatCompletionToolParam](#litellm.ChatCompletionToolParam)\]</code>) –
- [**visualize**](#openhands.sdk.event.llm_convertible.system.SystemPromptEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this system prompt event.

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.events_to_messages`

```python
events_to_messages(events)
```

Convert event stream to LLM message stream, handling multi-action batches

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.source`

```python
source: SourceType = 'agent'
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.system_prompt`

```python
system_prompt: TextContent = Field(..., description='The system prompt text')
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.to_llm_message`

```python
to_llm_message()
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.tools`

```python
tools: list[ChatCompletionToolParam] = Field(..., description='List of tools in OpenAI tool format')
```

####### `openhands.sdk.event.llm_convertible.system.SystemPromptEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this system prompt event.

#### `openhands.sdk.event.types`

**Attributes:**

- [**EventID**](#openhands.sdk.event.types.EventID) – Type alias for event IDs.
- [**EventType**](#openhands.sdk.event.types.EventType) –
- [**SourceType**](#openhands.sdk.event.types.SourceType) –
- [**ToolCallID**](#openhands.sdk.event.types.ToolCallID) – Type alias for tool call IDs.

##### `openhands.sdk.event.types.EventID`

```python
EventID = str
```

Type alias for event IDs.

##### `openhands.sdk.event.types.EventType`

```python
EventType = Literal['action', 'observation', 'message', 'system_prompt', 'agent_error']
```

##### `openhands.sdk.event.types.SourceType`

```python
SourceType = Literal['agent', 'user', 'environment']
```

##### `openhands.sdk.event.types.ToolCallID`

```python
ToolCallID = str
```

Type alias for tool call IDs.

#### `openhands.sdk.event.user_action`

**Classes:**

- [**PauseEvent**](#openhands.sdk.event.user_action.PauseEvent) – Event indicating that the agent execution was paused by user request.

##### `openhands.sdk.event.user_action.PauseEvent`

Bases: <code>[Event](#openhands.sdk.event.base.Event)</code>

Event indicating that the agent execution was paused by user request.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.event.user_action.PauseEvent.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.event.user_action.PauseEvent.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.event.user_action.PauseEvent.model_json_schema) –
- [**model_post_init**](#openhands.sdk.event.user_action.PauseEvent.model_post_init) –
- [**model_rebuild**](#openhands.sdk.event.user_action.PauseEvent.model_rebuild) –
- [**model_validate**](#openhands.sdk.event.user_action.PauseEvent.model_validate) –
- [**model_validate_json**](#openhands.sdk.event.user_action.PauseEvent.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.event.user_action.PauseEvent.resolve_kind) –

**Attributes:**

- [**id**](#openhands.sdk.event.user_action.PauseEvent.id) (<code>[EventID](#openhands.sdk.event.types.EventID)</code>) –
- [**kind**](#openhands.sdk.event.user_action.PauseEvent.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.event.user_action.PauseEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**source**](#openhands.sdk.event.user_action.PauseEvent.source) (<code>[SourceType](#openhands.sdk.event.types.SourceType)</code>) –
- [**timestamp**](#openhands.sdk.event.user_action.PauseEvent.timestamp) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.event.user_action.PauseEvent.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this pause event.

###### `openhands.sdk.event.user_action.PauseEvent.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.event.user_action.PauseEvent.id`

```python
id: EventID = Field(default_factory=(lambda: str(uuid.uuid4())), description='Unique event id (ULID/UUID)')
```

###### `openhands.sdk.event.user_action.PauseEvent.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.event.user_action.PauseEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.event.user_action.PauseEvent.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.event.user_action.PauseEvent.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.event.user_action.PauseEvent.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.event.user_action.PauseEvent.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.event.user_action.PauseEvent.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.event.user_action.PauseEvent.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.event.user_action.PauseEvent.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.event.user_action.PauseEvent.source`

```python
source: SourceType = 'user'
```

###### `openhands.sdk.event.user_action.PauseEvent.timestamp`

```python
timestamp: str = Field(default_factory=(lambda: datetime.now().isoformat()), description='Event timestamp')
```

###### `openhands.sdk.event.user_action.PauseEvent.visualize`

```python
visualize: Text
```

Return Rich Text representation of this pause event.

### `openhands.sdk.get_logger`

```python
get_logger(name)
```

Return a logger for the given module name.

### `openhands.sdk.io`

**Modules:**

- [**base**](#openhands.sdk.io.base) –
- [**local**](#openhands.sdk.io.local) –
- [**memory**](#openhands.sdk.io.memory) –

**Classes:**

- [**FileStore**](#openhands.sdk.io.FileStore) – Abstract base class for file storage operations.
- [**InMemoryFileStore**](#openhands.sdk.io.InMemoryFileStore) –
- [**LocalFileStore**](#openhands.sdk.io.LocalFileStore) –

#### `openhands.sdk.io.FileStore`

Bases: <code>[ABC](#abc.ABC)</code>

Abstract base class for file storage operations.

This class defines the interface for file storage backends that can
handle basic file operations like reading, writing, listing, and deleting files.

**Functions:**

- [**delete**](#openhands.sdk.io.FileStore.delete) – Delete the file or directory at the specified path.
- [**list**](#openhands.sdk.io.FileStore.list) – List all files and directories at the specified path.
- [**read**](#openhands.sdk.io.FileStore.read) – Read and return the contents of a file as a string.
- [**write**](#openhands.sdk.io.FileStore.write) – Write contents to a file at the specified path.

##### `openhands.sdk.io.FileStore.delete`

```python
delete(path)
```

Delete the file or directory at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file or directory path to delete.

##### `openhands.sdk.io.FileStore.list`

```python
list(path)
```

List all files and directories at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The directory path to list contents from.

**Returns:**

- <code>[list](#openhands.sdk.io.base.FileStore.list)\[[str](#str)\]</code> – A list of file and directory names in the specified path.

##### `openhands.sdk.io.FileStore.read`

```python
read(path)
```

Read and return the contents of a file as a string.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file path to read from.

**Returns:**

- <code>[str](#str)</code> – The file contents as a string.

##### `openhands.sdk.io.FileStore.write`

```python
write(path, contents)
```

Write contents to a file at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file path where contents should be written.
- **contents** (<code>[str](#str) | [bytes](#bytes)</code>) – The data to write, either as string or bytes.

#### `openhands.sdk.io.InMemoryFileStore`

```python
InMemoryFileStore(files=None)
```

Bases: <code>[FileStore](#openhands.sdk.io.base.FileStore)</code>

**Functions:**

- [**delete**](#openhands.sdk.io.InMemoryFileStore.delete) –
- [**list**](#openhands.sdk.io.InMemoryFileStore.list) –
- [**read**](#openhands.sdk.io.InMemoryFileStore.read) –
- [**write**](#openhands.sdk.io.InMemoryFileStore.write) –

**Attributes:**

- [**files**](#openhands.sdk.io.InMemoryFileStore.files) (<code>[dict](#dict)\[[str](#str), [str](#str)\]</code>) –

##### `openhands.sdk.io.InMemoryFileStore.delete`

```python
delete(path)
```

##### `openhands.sdk.io.InMemoryFileStore.files`

```python
files: dict[str, str] = {}
```

##### `openhands.sdk.io.InMemoryFileStore.list`

```python
list(path)
```

##### `openhands.sdk.io.InMemoryFileStore.read`

```python
read(path)
```

##### `openhands.sdk.io.InMemoryFileStore.write`

```python
write(path, contents)
```

#### `openhands.sdk.io.LocalFileStore`

```python
LocalFileStore(root)
```

Bases: <code>[FileStore](#openhands.sdk.io.base.FileStore)</code>

**Functions:**

- [**delete**](#openhands.sdk.io.LocalFileStore.delete) –
- [**get_full_path**](#openhands.sdk.io.LocalFileStore.get_full_path) –
- [**list**](#openhands.sdk.io.LocalFileStore.list) –
- [**read**](#openhands.sdk.io.LocalFileStore.read) –
- [**write**](#openhands.sdk.io.LocalFileStore.write) –

**Attributes:**

- [**root**](#openhands.sdk.io.LocalFileStore.root) (<code>[str](#str)</code>) –

##### `openhands.sdk.io.LocalFileStore.delete`

```python
delete(path)
```

##### `openhands.sdk.io.LocalFileStore.get_full_path`

```python
get_full_path(path)
```

##### `openhands.sdk.io.LocalFileStore.list`

```python
list(path)
```

##### `openhands.sdk.io.LocalFileStore.read`

```python
read(path)
```

##### `openhands.sdk.io.LocalFileStore.root`

```python
root: str = root
```

##### `openhands.sdk.io.LocalFileStore.write`

```python
write(path, contents)
```

#### `openhands.sdk.io.base`

**Classes:**

- [**FileStore**](#openhands.sdk.io.base.FileStore) – Abstract base class for file storage operations.

##### `openhands.sdk.io.base.FileStore`

Bases: <code>[ABC](#abc.ABC)</code>

Abstract base class for file storage operations.

This class defines the interface for file storage backends that can
handle basic file operations like reading, writing, listing, and deleting files.

**Functions:**

- [**delete**](#openhands.sdk.io.base.FileStore.delete) – Delete the file or directory at the specified path.
- [**list**](#openhands.sdk.io.base.FileStore.list) – List all files and directories at the specified path.
- [**read**](#openhands.sdk.io.base.FileStore.read) – Read and return the contents of a file as a string.
- [**write**](#openhands.sdk.io.base.FileStore.write) – Write contents to a file at the specified path.

###### `openhands.sdk.io.base.FileStore.delete`

```python
delete(path)
```

Delete the file or directory at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file or directory path to delete.

###### `openhands.sdk.io.base.FileStore.list`

```python
list(path)
```

List all files and directories at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The directory path to list contents from.

**Returns:**

- <code>[list](#openhands.sdk.io.base.FileStore.list)\[[str](#str)\]</code> – A list of file and directory names in the specified path.

###### `openhands.sdk.io.base.FileStore.read`

```python
read(path)
```

Read and return the contents of a file as a string.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file path to read from.

**Returns:**

- <code>[str](#str)</code> – The file contents as a string.

###### `openhands.sdk.io.base.FileStore.write`

```python
write(path, contents)
```

Write contents to a file at the specified path.

**Parameters:**

- **path** (<code>[str](#str)</code>) – The file path where contents should be written.
- **contents** (<code>[str](#str) | [bytes](#bytes)</code>) – The data to write, either as string or bytes.

#### `openhands.sdk.io.local`

**Classes:**

- [**LocalFileStore**](#openhands.sdk.io.local.LocalFileStore) –

**Attributes:**

- [**logger**](#openhands.sdk.io.local.logger) –

##### `openhands.sdk.io.local.LocalFileStore`

```python
LocalFileStore(root)
```

Bases: <code>[FileStore](#openhands.sdk.io.base.FileStore)</code>

**Functions:**

- [**delete**](#openhands.sdk.io.local.LocalFileStore.delete) –
- [**get_full_path**](#openhands.sdk.io.local.LocalFileStore.get_full_path) –
- [**list**](#openhands.sdk.io.local.LocalFileStore.list) –
- [**read**](#openhands.sdk.io.local.LocalFileStore.read) –
- [**write**](#openhands.sdk.io.local.LocalFileStore.write) –

**Attributes:**

- [**root**](#openhands.sdk.io.local.LocalFileStore.root) (<code>[str](#str)</code>) –

###### `openhands.sdk.io.local.LocalFileStore.delete`

```python
delete(path)
```

###### `openhands.sdk.io.local.LocalFileStore.get_full_path`

```python
get_full_path(path)
```

###### `openhands.sdk.io.local.LocalFileStore.list`

```python
list(path)
```

###### `openhands.sdk.io.local.LocalFileStore.read`

```python
read(path)
```

###### `openhands.sdk.io.local.LocalFileStore.root`

```python
root: str = root
```

###### `openhands.sdk.io.local.LocalFileStore.write`

```python
write(path, contents)
```

##### `openhands.sdk.io.local.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.io.memory`

**Classes:**

- [**InMemoryFileStore**](#openhands.sdk.io.memory.InMemoryFileStore) –

**Attributes:**

- [**logger**](#openhands.sdk.io.memory.logger) –

##### `openhands.sdk.io.memory.InMemoryFileStore`

```python
InMemoryFileStore(files=None)
```

Bases: <code>[FileStore](#openhands.sdk.io.base.FileStore)</code>

**Functions:**

- [**delete**](#openhands.sdk.io.memory.InMemoryFileStore.delete) –
- [**list**](#openhands.sdk.io.memory.InMemoryFileStore.list) –
- [**read**](#openhands.sdk.io.memory.InMemoryFileStore.read) –
- [**write**](#openhands.sdk.io.memory.InMemoryFileStore.write) –

**Attributes:**

- [**files**](#openhands.sdk.io.memory.InMemoryFileStore.files) (<code>[dict](#dict)\[[str](#str), [str](#str)\]</code>) –

###### `openhands.sdk.io.memory.InMemoryFileStore.delete`

```python
delete(path)
```

###### `openhands.sdk.io.memory.InMemoryFileStore.files`

```python
files: dict[str, str] = {}
```

###### `openhands.sdk.io.memory.InMemoryFileStore.list`

```python
list(path)
```

###### `openhands.sdk.io.memory.InMemoryFileStore.read`

```python
read(path)
```

###### `openhands.sdk.io.memory.InMemoryFileStore.write`

```python
write(path, contents)
```

##### `openhands.sdk.io.memory.logger`

```python
logger = get_logger(__name__)
```

### `openhands.sdk.list_registered_tools`

```python
list_registered_tools()
```

### `openhands.sdk.llm`

**Modules:**

- [**exceptions**](#openhands.sdk.llm.exceptions) –
- [**llm**](#openhands.sdk.llm.llm) –
- [**llm_registry**](#openhands.sdk.llm.llm_registry) –
- [**llm_response**](#openhands.sdk.llm.llm_response) – LLMResponse type for LLM completion responses.
- [**message**](#openhands.sdk.llm.message) –
- [**options**](#openhands.sdk.llm.options) –
- [**router**](#openhands.sdk.llm.router) –

**Classes:**

- [**ImageContent**](#openhands.sdk.llm.ImageContent) –
- [**LLM**](#openhands.sdk.llm.LLM) – Refactored LLM: simple `completion()`, centralized Telemetry, tiny helpers.
- [**LLMRegistry**](#openhands.sdk.llm.LLMRegistry) – A minimal LLM registry for managing LLM instances by usage ID.
- [**LLMResponse**](#openhands.sdk.llm.LLMResponse) – Result of an LLM completion request.
- [**Message**](#openhands.sdk.llm.Message) –
- [**MessageToolCall**](#openhands.sdk.llm.MessageToolCall) – Transport-agnostic tool call representation.
- [**ReasoningItemModel**](#openhands.sdk.llm.ReasoningItemModel) – OpenAI Responses reasoning item (non-stream, subset we consume).
- [**RedactedThinkingBlock**](#openhands.sdk.llm.RedactedThinkingBlock) – Redacted thinking block for previous responses without extended thinking.
- [**RegistryEvent**](#openhands.sdk.llm.RegistryEvent) –
- [**RouterLLM**](#openhands.sdk.llm.RouterLLM) – Base class for multiple LLM acting as a unified LLM.
- [**TextContent**](#openhands.sdk.llm.TextContent) –
- [**ThinkingBlock**](#openhands.sdk.llm.ThinkingBlock) – Anthropic thinking block for extended thinking feature.

**Functions:**

- [**content_to_str**](#openhands.sdk.llm.content_to_str) – Convert a list of TextContent and ImageContent to a list of strings.

#### `openhands.sdk.llm.ImageContent`

Bases: <code>[BaseContent](#openhands.sdk.llm.message.BaseContent)</code>

**Functions:**

- [**to_llm_dict**](#openhands.sdk.llm.ImageContent.to_llm_dict) – Convert to LLM API format.

**Attributes:**

- [**cache_prompt**](#openhands.sdk.llm.ImageContent.cache_prompt) (<code>[bool](#bool)</code>) –
- [**image_urls**](#openhands.sdk.llm.ImageContent.image_urls) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.llm.ImageContent.type) (<code>[Literal](#typing.Literal)['image']</code>) –

##### `openhands.sdk.llm.ImageContent.cache_prompt`

```python
cache_prompt: bool = False
```

##### `openhands.sdk.llm.ImageContent.image_urls`

```python
image_urls: list[str]
```

##### `openhands.sdk.llm.ImageContent.to_llm_dict`

```python
to_llm_dict()
```

Convert to LLM API format.

##### `openhands.sdk.llm.ImageContent.type`

```python
type: Literal['image'] = 'image'
```

#### `openhands.sdk.llm.LLM`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>, <code>[RetryMixin](#openhands.sdk.llm.utils.retry_mixin.RetryMixin)</code>, <code>[NonNativeToolCallingMixin](#openhands.sdk.llm.mixins.non_native_fc.NonNativeToolCallingMixin)</code>

Refactored LLM: simple `completion()`, centralized Telemetry, tiny helpers.

**Functions:**

- [**completion**](#openhands.sdk.llm.LLM.completion) – Single entry point for LLM completion.
- [**format_messages_for_llm**](#openhands.sdk.llm.LLM.format_messages_for_llm) – Formats Message objects for LLM consumption.
- [**format_messages_for_responses**](#openhands.sdk.llm.LLM.format_messages_for_responses) – Prepare (instructions, input[]) for the OpenAI Responses API.
- [**get_token_count**](#openhands.sdk.llm.LLM.get_token_count) –
- [**is_caching_prompt_active**](#openhands.sdk.llm.LLM.is_caching_prompt_active) – Check if prompt caching is supported and enabled for current model.
- [**is_context_window_exceeded_exception**](#openhands.sdk.llm.LLM.is_context_window_exceeded_exception) – Check if the exception indicates a context window exceeded error.
- [**load_from_env**](#openhands.sdk.llm.LLM.load_from_env) –
- [**load_from_json**](#openhands.sdk.llm.LLM.load_from_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.llm.LLM.resolve_diff_from_deserialized) – Resolve differences between a deserialized LLM and the current instance.
- [**responses**](#openhands.sdk.llm.LLM.responses) – Alternative invocation path using OpenAI Responses API via LiteLLM.
- [**restore_metrics**](#openhands.sdk.llm.LLM.restore_metrics) –
- [**uses_responses_api**](#openhands.sdk.llm.LLM.uses_responses_api) – Whether this model uses the OpenAI Responses API path.
- [**vision_is_active**](#openhands.sdk.llm.LLM.vision_is_active) –

**Attributes:**

- [**OVERRIDE_ON_SERIALIZE**](#openhands.sdk.llm.LLM.OVERRIDE_ON_SERIALIZE) (<code>[tuple](#tuple)\[[str](#str), ...\]</code>) –
- [**api_key**](#openhands.sdk.llm.LLM.api_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**api_version**](#openhands.sdk.llm.LLM.api_version) (<code>[str](#str) | None</code>) –
- [**aws_access_key_id**](#openhands.sdk.llm.LLM.aws_access_key_id) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**aws_region_name**](#openhands.sdk.llm.LLM.aws_region_name) (<code>[str](#str) | None</code>) –
- [**aws_secret_access_key**](#openhands.sdk.llm.LLM.aws_secret_access_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**base_url**](#openhands.sdk.llm.LLM.base_url) (<code>[str](#str) | None</code>) –
- [**caching_prompt**](#openhands.sdk.llm.LLM.caching_prompt) (<code>[bool](#bool)</code>) –
- [**custom_llm_provider**](#openhands.sdk.llm.LLM.custom_llm_provider) (<code>[str](#str) | None</code>) –
- [**custom_tokenizer**](#openhands.sdk.llm.LLM.custom_tokenizer) (<code>[str](#str) | None</code>) –
- [**disable_stop_word**](#openhands.sdk.llm.LLM.disable_stop_word) (<code>[bool](#bool) | None</code>) –
- [**disable_vision**](#openhands.sdk.llm.LLM.disable_vision) (<code>[bool](#bool) | None</code>) –
- [**drop_params**](#openhands.sdk.llm.LLM.drop_params) (<code>[bool](#bool)</code>) –
- [**enable_encrypted_reasoning**](#openhands.sdk.llm.LLM.enable_encrypted_reasoning) (<code>[bool](#bool)</code>) –
- [**extended_thinking_budget**](#openhands.sdk.llm.LLM.extended_thinking_budget) (<code>[int](#int) | None</code>) –
- [**input_cost_per_token**](#openhands.sdk.llm.LLM.input_cost_per_token) (<code>[float](#float) | None</code>) –
- [**log_completions**](#openhands.sdk.llm.LLM.log_completions) (<code>[bool](#bool)</code>) –
- [**log_completions_folder**](#openhands.sdk.llm.LLM.log_completions_folder) (<code>[str](#str)</code>) –
- [**max_input_tokens**](#openhands.sdk.llm.LLM.max_input_tokens) (<code>[int](#int) | None</code>) –
- [**max_message_chars**](#openhands.sdk.llm.LLM.max_message_chars) (<code>[int](#int)</code>) –
- [**max_output_tokens**](#openhands.sdk.llm.LLM.max_output_tokens) (<code>[int](#int) | None</code>) –
- [**metadata**](#openhands.sdk.llm.LLM.metadata) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**metrics**](#openhands.sdk.llm.LLM.metrics) (<code>[Metrics](#openhands.sdk.llm.utils.metrics.Metrics)</code>) –
- [**model**](#openhands.sdk.llm.LLM.model) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.llm.LLM.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**model_info**](#openhands.sdk.llm.LLM.model_info) (<code>[dict](#dict) | None</code>) – Returns the model info dictionary.
- [**modify_params**](#openhands.sdk.llm.LLM.modify_params) (<code>[bool](#bool)</code>) –
- [**native_tool_calling**](#openhands.sdk.llm.LLM.native_tool_calling) (<code>[bool](#bool)</code>) –
- [**num_retries**](#openhands.sdk.llm.LLM.num_retries) (<code>[int](#int)</code>) –
- [**ollama_base_url**](#openhands.sdk.llm.LLM.ollama_base_url) (<code>[str](#str) | None</code>) –
- [**openrouter_app_name**](#openhands.sdk.llm.LLM.openrouter_app_name) (<code>[str](#str)</code>) –
- [**openrouter_site_url**](#openhands.sdk.llm.LLM.openrouter_site_url) (<code>[str](#str)</code>) –
- [**output_cost_per_token**](#openhands.sdk.llm.LLM.output_cost_per_token) (<code>[float](#float) | None</code>) –
- [**reasoning_effort**](#openhands.sdk.llm.LLM.reasoning_effort) (<code>[Literal](#typing.Literal)['low', 'medium', 'high', 'none'] | None</code>) –
- [**retry_listener**](#openhands.sdk.llm.LLM.retry_listener) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None\]</code>) –
- [**retry_max_wait**](#openhands.sdk.llm.LLM.retry_max_wait) (<code>[int](#int)</code>) –
- [**retry_min_wait**](#openhands.sdk.llm.LLM.retry_min_wait) (<code>[int](#int)</code>) –
- [**retry_multiplier**](#openhands.sdk.llm.LLM.retry_multiplier) (<code>[float](#float)</code>) –
- [**safety_settings**](#openhands.sdk.llm.LLM.safety_settings) (<code>[list](#list)\[[dict](#dict)\[[str](#str), [str](#str)\]\] | None</code>) –
- [**seed**](#openhands.sdk.llm.LLM.seed) (<code>[int](#int) | None</code>) –
- [**service_id**](#openhands.sdk.llm.LLM.service_id) (<code>[str](#str)</code>) –
- [**temperature**](#openhands.sdk.llm.LLM.temperature) (<code>[float](#float) | None</code>) –
- [**timeout**](#openhands.sdk.llm.LLM.timeout) (<code>[int](#int) | None</code>) –
- [**top_k**](#openhands.sdk.llm.LLM.top_k) (<code>[float](#float) | None</code>) –
- [**top_p**](#openhands.sdk.llm.LLM.top_p) (<code>[float](#float) | None</code>) –
- [**usage_id**](#openhands.sdk.llm.LLM.usage_id) (<code>[str](#str)</code>) –

##### `openhands.sdk.llm.LLM.OVERRIDE_ON_SERIALIZE`

```python
OVERRIDE_ON_SERIALIZE: tuple[str, ...] = ('api_key', 'aws_access_key_id', 'aws_secret_access_key')
```

##### `openhands.sdk.llm.LLM.api_key`

```python
api_key: SecretStr | None = Field(default=None, description='API key.')
```

##### `openhands.sdk.llm.LLM.api_version`

```python
api_version: str | None = Field(default=None, description='API version (e.g., Azure).')
```

##### `openhands.sdk.llm.LLM.aws_access_key_id`

```python
aws_access_key_id: SecretStr | None = Field(default=None)
```

##### `openhands.sdk.llm.LLM.aws_region_name`

```python
aws_region_name: str | None = Field(default=None)
```

##### `openhands.sdk.llm.LLM.aws_secret_access_key`

```python
aws_secret_access_key: SecretStr | None = Field(default=None)
```

##### `openhands.sdk.llm.LLM.base_url`

```python
base_url: str | None = Field(default=None, description='Custom base URL.')
```

##### `openhands.sdk.llm.LLM.caching_prompt`

```python
caching_prompt: bool = Field(default=True, description='Enable caching of prompts.')
```

##### `openhands.sdk.llm.LLM.completion`

```python
completion(messages, tools=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Single entry point for LLM completion.

Normalize → (maybe) mock tools → transport → postprocess.

##### `openhands.sdk.llm.LLM.custom_llm_provider`

```python
custom_llm_provider: str | None = Field(default=None)
```

##### `openhands.sdk.llm.LLM.custom_tokenizer`

```python
custom_tokenizer: str | None = Field(default=None, description='A custom tokenizer to use for token counting.')
```

##### `openhands.sdk.llm.LLM.disable_stop_word`

```python
disable_stop_word: bool | None = Field(default=False, description='Disable using of stop word.')
```

##### `openhands.sdk.llm.LLM.disable_vision`

```python
disable_vision: bool | None = Field(default=None, description='If model is vision capable, this option allows to disable image processing (useful for cost reduction).')
```

##### `openhands.sdk.llm.LLM.drop_params`

```python
drop_params: bool = Field(default=True)
```

##### `openhands.sdk.llm.LLM.enable_encrypted_reasoning`

```python
enable_encrypted_reasoning: bool = Field(default=False, description="If True, ask for ['reasoning.encrypted_content'] in Responses API include.")
```

##### `openhands.sdk.llm.LLM.extended_thinking_budget`

```python
extended_thinking_budget: int | None = Field(default=200000, description='The budget tokens for extended thinking, supported by Anthropic models.')
```

##### `openhands.sdk.llm.LLM.format_messages_for_llm`

```python
format_messages_for_llm(messages)
```

Formats Message objects for LLM consumption.

##### `openhands.sdk.llm.LLM.format_messages_for_responses`

```python
format_messages_for_responses(messages)
```

Prepare (instructions, input[]) for the OpenAI Responses API.

- Skips prompt caching flags and string serializer concerns
- Uses Message.to_responses_value to get either instructions (system)
  or input items (others)
- Concatenates system instructions into a single instructions string

##### `openhands.sdk.llm.LLM.get_token_count`

```python
get_token_count(messages)
```

##### `openhands.sdk.llm.LLM.input_cost_per_token`

```python
input_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per input token. This will available in logs for user.')
```

##### `openhands.sdk.llm.LLM.is_caching_prompt_active`

```python
is_caching_prompt_active()
```

Check if prompt caching is supported and enabled for current model.

**Returns:**

- **boolean** (<code>[bool](#bool)</code>) – True if prompt caching is supported and enabled for the given
  model.

##### `openhands.sdk.llm.LLM.is_context_window_exceeded_exception`

```python
is_context_window_exceeded_exception(exception)
```

Check if the exception indicates a context window exceeded error.

Context window exceeded errors vary by provider, and LiteLLM does not do a
consistent job of identifying and wrapping them.

##### `openhands.sdk.llm.LLM.load_from_env`

```python
load_from_env(prefix='LLM_')
```

##### `openhands.sdk.llm.LLM.load_from_json`

```python
load_from_json(json_path)
```

##### `openhands.sdk.llm.LLM.log_completions`

```python
log_completions: bool = Field(default=False, description='Enable logging of completions.')
```

##### `openhands.sdk.llm.LLM.log_completions_folder`

```python
log_completions_folder: str = Field(default=(os.path.join(ENV_LOG_DIR, 'completions')), description='The folder to log LLM completions to. Required if log_completions is True.')
```

##### `openhands.sdk.llm.LLM.max_input_tokens`

```python
max_input_tokens: int | None = Field(default=None, ge=1, description='The maximum number of input tokens. Note that this is currently unused, and the value at runtime is actually the total tokens in OpenAI (e.g. 128,000 tokens for GPT-4).')
```

##### `openhands.sdk.llm.LLM.max_message_chars`

```python
max_message_chars: int = Field(default=30000, ge=1, description='Approx max chars in each event/content sent to the LLM.')
```

##### `openhands.sdk.llm.LLM.max_output_tokens`

```python
max_output_tokens: int | None = Field(default=None, ge=1, description='The maximum number of output tokens. This is sent to the LLM.')
```

##### `openhands.sdk.llm.LLM.metadata`

```python
metadata: dict[str, Any] = Field(default_factory=dict, description="Additional metadata for the LLM instance. Example structure: {'trace_version': '1.0.0', 'tags': ['model:gpt-4', 'agent:my-agent'], 'session_id': 'session-123', 'trace_user_id': 'user-456'}")
```

##### `openhands.sdk.llm.LLM.metrics`

```python
metrics: Metrics
```

##### `openhands.sdk.llm.LLM.model`

```python
model: str = Field(default='claude-sonnet-4-20250514', description='Model name.')
```

##### `openhands.sdk.llm.LLM.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', arbitrary_types_allowed=True)
```

##### `openhands.sdk.llm.LLM.model_info`

```python
model_info: dict | None
```

Returns the model info dictionary.

##### `openhands.sdk.llm.LLM.modify_params`

```python
modify_params: bool = Field(default=True, description='Modify params allows litellm to do transformations like adding a default message, when a message is empty.')
```

##### `openhands.sdk.llm.LLM.native_tool_calling`

```python
native_tool_calling: bool = Field(default=True, description='Whether to use native tool calling.')
```

##### `openhands.sdk.llm.LLM.num_retries`

```python
num_retries: int = Field(default=5, ge=0)
```

##### `openhands.sdk.llm.LLM.ollama_base_url`

```python
ollama_base_url: str | None = Field(default=None)
```

##### `openhands.sdk.llm.LLM.openrouter_app_name`

```python
openrouter_app_name: str = Field(default='OpenHands')
```

##### `openhands.sdk.llm.LLM.openrouter_site_url`

```python
openrouter_site_url: str = Field(default='https://docs.all-hands.dev/')
```

##### `openhands.sdk.llm.LLM.output_cost_per_token`

```python
output_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per output token. This will available in logs for user.')
```

##### `openhands.sdk.llm.LLM.reasoning_effort`

```python
reasoning_effort: Literal['low', 'medium', 'high', 'none'] | None = Field(default=None, description="The effort to put into reasoning. This is a string that can be one of 'low', 'medium', 'high', or 'none'. Can apply to all reasoning models.")
```

##### `openhands.sdk.llm.LLM.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Resolve differences between a deserialized LLM and the current instance.

This is due to fields like api_key being serialized to "\*\*\*\*" in dumps,
and we want to ensure that when loading from a file, we still use the
runtime-provided api_key in the self instance.

Return a new LLM instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key) taken from `self`.

##### `openhands.sdk.llm.LLM.responses`

```python
responses(messages, tools=None, include=None, store=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Alternative invocation path using OpenAI Responses API via LiteLLM.

Maps Message[] -> (instructions, input[]) and returns LLMResponse.
Non-stream only for v1.

##### `openhands.sdk.llm.LLM.restore_metrics`

```python
restore_metrics(metrics)
```

##### `openhands.sdk.llm.LLM.retry_listener`

```python
retry_listener: SkipJsonSchema[Callable[[int, int], None] | None] = Field(default=None, exclude=True)
```

##### `openhands.sdk.llm.LLM.retry_max_wait`

```python
retry_max_wait: int = Field(default=64, ge=0)
```

##### `openhands.sdk.llm.LLM.retry_min_wait`

```python
retry_min_wait: int = Field(default=8, ge=0)
```

##### `openhands.sdk.llm.LLM.retry_multiplier`

```python
retry_multiplier: float = Field(default=8.0, ge=0)
```

##### `openhands.sdk.llm.LLM.safety_settings`

```python
safety_settings: list[dict[str, str]] | None = Field(default=None, description='Safety settings for models that support them (like Mistral AI and Gemini)')
```

##### `openhands.sdk.llm.LLM.seed`

```python
seed: int | None = Field(default=None, description='The seed to use for random number generation.')
```

##### `openhands.sdk.llm.LLM.service_id`

```python
service_id: str
```

##### `openhands.sdk.llm.LLM.temperature`

```python
temperature: float | None = Field(default=0.0, ge=0)
```

##### `openhands.sdk.llm.LLM.timeout`

```python
timeout: int | None = Field(default=None, ge=0, description='HTTP timeout (s).')
```

##### `openhands.sdk.llm.LLM.top_k`

```python
top_k: float | None = Field(default=None, ge=0)
```

##### `openhands.sdk.llm.LLM.top_p`

```python
top_p: float | None = Field(default=1.0, ge=0, le=1)
```

##### `openhands.sdk.llm.LLM.usage_id`

```python
usage_id: str = Field(default='default', validation_alias=(AliasChoices('usage_id', 'service_id')), serialization_alias='usage_id', description='Unique usage identifier for the LLM. Used for registry lookups, telemetry, and spend tracking.')
```

##### `openhands.sdk.llm.LLM.uses_responses_api`

```python
uses_responses_api()
```

Whether this model uses the OpenAI Responses API path.

##### `openhands.sdk.llm.LLM.vision_is_active`

```python
vision_is_active()
```

#### `openhands.sdk.llm.LLMRegistry`

```python
LLMRegistry(retry_listener=None)
```

A minimal LLM registry for managing LLM instances by usage ID.

This registry provides a simple way to manage multiple LLM instances,
avoiding the need to recreate LLMs with the same configuration.

**Functions:**

- [**add**](#openhands.sdk.llm.LLMRegistry.add) – Add an LLM instance to the registry.
- [**get**](#openhands.sdk.llm.LLMRegistry.get) – Get an LLM instance from the registry.
- [**list_services**](#openhands.sdk.llm.LLMRegistry.list_services) – Deprecated alias for :meth:`list_usage_ids`.
- [**list_usage_ids**](#openhands.sdk.llm.LLMRegistry.list_usage_ids) – List all registered usage IDs.
- [**notify**](#openhands.sdk.llm.LLMRegistry.notify) – Notify subscribers of registry events.
- [**subscribe**](#openhands.sdk.llm.LLMRegistry.subscribe) – Subscribe to registry events.

**Attributes:**

- [**registry_id**](#openhands.sdk.llm.LLMRegistry.registry_id) (<code>[str](#str)</code>) –
- [**retry_listener**](#openhands.sdk.llm.LLMRegistry.retry_listener) (<code>[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None</code>) –
- [**service_to_llm**](#openhands.sdk.llm.LLMRegistry.service_to_llm) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) –
- [**subscriber**](#openhands.sdk.llm.LLMRegistry.subscriber) (<code>[Callable](#collections.abc.Callable)\[\[[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)\], None\] | None</code>) –
- [**usage_to_llm**](#openhands.sdk.llm.LLMRegistry.usage_to_llm) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) – Access the internal usage-ID-to-LLM mapping.

**Parameters:**

- **retry_listener** (<code>[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None</code>) – Optional callback for retry events.

##### `openhands.sdk.llm.LLMRegistry.add`

```python
add(llm)
```

Add an LLM instance to the registry.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.llm.LLM)</code>) – The LLM instance to register.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If llm.usage_id already exists in the registry.

##### `openhands.sdk.llm.LLMRegistry.get`

```python
get(usage_id)
```

Get an LLM instance from the registry.

**Parameters:**

- **usage_id** (<code>[str](#str)</code>) – Unique identifier for the LLM usage slot.

**Returns:**

- <code>[LLM](#openhands.sdk.llm.llm.LLM)</code> – The LLM instance.

**Raises:**

- <code>[KeyError](#KeyError)</code> – If usage_id is not found in the registry.

##### `openhands.sdk.llm.LLMRegistry.list_services`

```python
list_services()
```

Deprecated alias for :meth:`list_usage_ids`.

##### `openhands.sdk.llm.LLMRegistry.list_usage_ids`

```python
list_usage_ids()
```

List all registered usage IDs.

##### `openhands.sdk.llm.LLMRegistry.notify`

```python
notify(event)
```

Notify subscribers of registry events.

**Parameters:**

- **event** (<code>[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)</code>) – The registry event to notify about.

##### `openhands.sdk.llm.LLMRegistry.registry_id`

```python
registry_id: str = str(uuid4())
```

##### `openhands.sdk.llm.LLMRegistry.retry_listener`

```python
retry_listener: Callable[[int, int], None] | None = retry_listener
```

##### `openhands.sdk.llm.LLMRegistry.service_to_llm`

```python
service_to_llm: dict[str, LLM]
```

##### `openhands.sdk.llm.LLMRegistry.subscribe`

```python
subscribe(callback)
```

Subscribe to registry events.

**Parameters:**

- **callback** (<code>[Callable](#collections.abc.Callable)\[\[[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)\], None\]</code>) – Function to call when LLMs are created or updated.

##### `openhands.sdk.llm.LLMRegistry.subscriber`

```python
subscriber: Callable[[RegistryEvent], None] | None = None
```

##### `openhands.sdk.llm.LLMRegistry.usage_to_llm`

```python
usage_to_llm: dict[str, LLM]
```

Access the internal usage-ID-to-LLM mapping.

#### `openhands.sdk.llm.LLMResponse`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Result of an LLM completion request.

This type provides a clean interface for LLM completion results, exposing
only OpenHands-native types to consumers while preserving access to the
raw LiteLLM response for internal use.

**Attributes:**

- [**message**](#openhands.sdk.llm.LLMResponse.message) (<code>[Message](#openhands.sdk.llm.message.Message)</code>) – The completion message converted to OpenHands Message type
- [**metrics**](#openhands.sdk.llm.LLMResponse.metrics) (<code>[MetricsSnapshot](#openhands.sdk.llm.utils.metrics.MetricsSnapshot)</code>) – Snapshot of metrics from the completion request
- [**raw_response**](#openhands.sdk.llm.LLMResponse.raw_response) (<code>[ModelResponse](#litellm.types.utils.ModelResponse) | [ResponsesAPIResponse](#litellm.ResponsesAPIResponse)</code>) – The original LiteLLM response (ModelResponse or
  ResponsesAPIResponse) for internal use

##### `openhands.sdk.llm.LLMResponse.id`

```python
id: str
```

Get the response ID from the underlying LLM response.

This property provides a clean interface to access the response ID,
supporting both completion mode (ModelResponse) and response API modes
(ResponsesAPIResponse).

**Returns:**

- <code>[str](#str)</code> – The response ID from the LLM response

##### `openhands.sdk.llm.LLMResponse.message`

```python
message: Message
```

##### `openhands.sdk.llm.LLMResponse.metrics`

```python
metrics: MetricsSnapshot
```

##### `openhands.sdk.llm.LLMResponse.model_config`

```python
model_config: ConfigDict = ConfigDict(arbitrary_types_allowed=True)
```

##### `openhands.sdk.llm.LLMResponse.raw_response`

```python
raw_response: ModelResponse | ResponsesAPIResponse
```

#### `openhands.sdk.llm.Message`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

**Functions:**

- [**from_llm_chat_message**](#openhands.sdk.llm.Message.from_llm_chat_message) – Convert a LiteLLMMessage (Chat Completions) to our Message class.
- [**from_llm_responses_output**](#openhands.sdk.llm.Message.from_llm_responses_output) – Convert OpenAI Responses API output items into a single assistant Message.
- [**to_chat_dict**](#openhands.sdk.llm.Message.to_chat_dict) – Serialize message for OpenAI Chat Completions.
- [**to_responses_dict**](#openhands.sdk.llm.Message.to_responses_dict) – Serialize message for OpenAI Responses (input parameter).
- [**to_responses_value**](#openhands.sdk.llm.Message.to_responses_value) – Return serialized form.

**Attributes:**

- [**cache_enabled**](#openhands.sdk.llm.Message.cache_enabled) (<code>[bool](#bool)</code>) –
- [**contains_image**](#openhands.sdk.llm.Message.contains_image) (<code>[bool](#bool)</code>) –
- [**content**](#openhands.sdk.llm.Message.content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.message.TextContent) | [ImageContent](#openhands.sdk.llm.message.ImageContent)\]</code>) –
- [**force_string_serializer**](#openhands.sdk.llm.Message.force_string_serializer) (<code>[bool](#bool)</code>) –
- [**function_calling_enabled**](#openhands.sdk.llm.Message.function_calling_enabled) (<code>[bool](#bool)</code>) –
- [**name**](#openhands.sdk.llm.Message.name) (<code>[str](#str) | None</code>) –
- [**reasoning_content**](#openhands.sdk.llm.Message.reasoning_content) (<code>[str](#str) | None</code>) –
- [**responses_reasoning_item**](#openhands.sdk.llm.Message.responses_reasoning_item) (<code>[ReasoningItemModel](#openhands.sdk.llm.message.ReasoningItemModel) | None</code>) –
- [**role**](#openhands.sdk.llm.Message.role) (<code>[Literal](#typing.Literal)['user', 'system', 'assistant', 'tool']</code>) –
- [**thinking_blocks**](#openhands.sdk.llm.Message.thinking_blocks) (<code>[Sequence](#collections.abc.Sequence)\[[ThinkingBlock](#openhands.sdk.llm.message.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.message.RedactedThinkingBlock)\]</code>) –
- [**tool_call_id**](#openhands.sdk.llm.Message.tool_call_id) (<code>[str](#str) | None</code>) –
- [**tool_calls**](#openhands.sdk.llm.Message.tool_calls) (<code>[list](#list)\[[MessageToolCall](#openhands.sdk.llm.message.MessageToolCall)\] | None</code>) –
- [**vision_enabled**](#openhands.sdk.llm.Message.vision_enabled) (<code>[bool](#bool)</code>) –

##### `openhands.sdk.llm.Message.cache_enabled`

```python
cache_enabled: bool = False
```

##### `openhands.sdk.llm.Message.contains_image`

```python
contains_image: bool
```

##### `openhands.sdk.llm.Message.content`

```python
content: Sequence[TextContent | ImageContent] = Field(default_factory=list)
```

##### `openhands.sdk.llm.Message.force_string_serializer`

```python
force_string_serializer: bool = False
```

##### `openhands.sdk.llm.Message.from_llm_chat_message`

```python
from_llm_chat_message(message)
```

Convert a LiteLLMMessage (Chat Completions) to our Message class.

Provider-agnostic mapping for reasoning:

- Prefer `message.reasoning_content` if present (LiteLLM normalized field)
- Extract `thinking_blocks` from content array (Anthropic-specific)

##### `openhands.sdk.llm.Message.from_llm_responses_output`

```python
from_llm_responses_output(output)
```

Convert OpenAI Responses API output items into a single assistant Message.

Policy (non-stream):

- Collect assistant text by concatenating output_text parts from message items
- Normalize function_call items to MessageToolCall list

##### `openhands.sdk.llm.Message.function_calling_enabled`

```python
function_calling_enabled: bool = False
```

##### `openhands.sdk.llm.Message.name`

```python
name: str | None = None
```

##### `openhands.sdk.llm.Message.reasoning_content`

```python
reasoning_content: str | None = Field(default=None, description='Intermediate reasoning/thinking content from reasoning models')
```

##### `openhands.sdk.llm.Message.responses_reasoning_item`

```python
responses_reasoning_item: ReasoningItemModel | None = Field(default=None, description='OpenAI Responses reasoning item from model output')
```

##### `openhands.sdk.llm.Message.role`

```python
role: Literal['user', 'system', 'assistant', 'tool']
```

##### `openhands.sdk.llm.Message.thinking_blocks`

```python
thinking_blocks: Sequence[ThinkingBlock | RedactedThinkingBlock] = Field(default_factory=list, description='Raw Anthropic thinking blocks for extended thinking feature')
```

##### `openhands.sdk.llm.Message.to_chat_dict`

```python
to_chat_dict()
```

Serialize message for OpenAI Chat Completions.

Chooses the appropriate content serializer and then injects threading keys:

- Assistant tool call turn: role == "assistant" and self.tool_calls
- Tool result turn: role == "tool" and self.tool_call_id (with name)

##### `openhands.sdk.llm.Message.to_responses_dict`

```python
to_responses_dict(*, vision_enabled)
```

Serialize message for OpenAI Responses (input parameter).

Produces a list of "input" items for the Responses API:

- system: returns [], system content is expected in 'instructions'
- user: one 'message' item with content parts -> input_text / input_image
  (when vision enabled)
- assistant: emits prior assistant content as input_text,
  and function_call items for tool_calls
- tool: emits function_call_output items (one per TextContent)
  with matching call_id

##### `openhands.sdk.llm.Message.to_responses_value`

```python
to_responses_value(*, vision_enabled)
```

Return serialized form.

Either an instructions string (for system) or input items (for other roles).

##### `openhands.sdk.llm.Message.tool_call_id`

```python
tool_call_id: str | None = None
```

##### `openhands.sdk.llm.Message.tool_calls`

```python
tool_calls: list[MessageToolCall] | None = None
```

##### `openhands.sdk.llm.Message.vision_enabled`

```python
vision_enabled: bool = False
```

#### `openhands.sdk.llm.MessageToolCall`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Transport-agnostic tool call representation.

One canonical id is used for linking across actions/observations and
for Responses function_call_output call_id.

**Functions:**

- [**from_chat_tool_call**](#openhands.sdk.llm.MessageToolCall.from_chat_tool_call) – Create a MessageToolCall from a Chat Completions tool call.
- [**from_responses_function_call**](#openhands.sdk.llm.MessageToolCall.from_responses_function_call) – Create a MessageToolCall from a typed OpenAI Responses function_call item.
- [**to_chat_dict**](#openhands.sdk.llm.MessageToolCall.to_chat_dict) – Serialize to OpenAI Chat Completions tool_calls format.
- [**to_responses_dict**](#openhands.sdk.llm.MessageToolCall.to_responses_dict) – Serialize to OpenAI Responses 'function_call' input item format.

**Attributes:**

- [**arguments**](#openhands.sdk.llm.MessageToolCall.arguments) (<code>[str](#str)</code>) –
- [**id**](#openhands.sdk.llm.MessageToolCall.id) (<code>[str](#str)</code>) –
- [**name**](#openhands.sdk.llm.MessageToolCall.name) (<code>[str](#str)</code>) –
- [**origin**](#openhands.sdk.llm.MessageToolCall.origin) (<code>[Literal](#typing.Literal)['completion', 'responses']</code>) –

##### `openhands.sdk.llm.MessageToolCall.arguments`

```python
arguments: str = Field(..., description='JSON string of arguments')
```

##### `openhands.sdk.llm.MessageToolCall.from_chat_tool_call`

```python
from_chat_tool_call(tool_call)
```

Create a MessageToolCall from a Chat Completions tool call.

##### `openhands.sdk.llm.MessageToolCall.from_responses_function_call`

```python
from_responses_function_call(item)
```

Create a MessageToolCall from a typed OpenAI Responses function_call item.

Note: OpenAI Responses function_call.arguments is already a JSON string.

##### `openhands.sdk.llm.MessageToolCall.id`

```python
id: str = Field(..., description='Canonical tool call id')
```

##### `openhands.sdk.llm.MessageToolCall.name`

```python
name: str = Field(..., description='Tool/function name')
```

##### `openhands.sdk.llm.MessageToolCall.origin`

```python
origin: Literal['completion', 'responses'] = Field(..., description='Originating API family')
```

##### `openhands.sdk.llm.MessageToolCall.to_chat_dict`

```python
to_chat_dict()
```

Serialize to OpenAI Chat Completions tool_calls format.

##### `openhands.sdk.llm.MessageToolCall.to_responses_dict`

```python
to_responses_dict()
```

Serialize to OpenAI Responses 'function_call' input item format.

#### `openhands.sdk.llm.ReasoningItemModel`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

OpenAI Responses reasoning item (non-stream, subset we consume).

Do not log or render encrypted_content.

**Attributes:**

- [**content**](#openhands.sdk.llm.ReasoningItemModel.content) (<code>[list](#list)\[[str](#str)\] | None</code>) –
- [**encrypted_content**](#openhands.sdk.llm.ReasoningItemModel.encrypted_content) (<code>[str](#str) | None</code>) –
- [**id**](#openhands.sdk.llm.ReasoningItemModel.id) (<code>[str](#str) | None</code>) –
- [**status**](#openhands.sdk.llm.ReasoningItemModel.status) (<code>[str](#str) | None</code>) –
- [**summary**](#openhands.sdk.llm.ReasoningItemModel.summary) (<code>[list](#list)\[[str](#str)\]</code>) –

##### `openhands.sdk.llm.ReasoningItemModel.content`

```python
content: list[str] | None = Field(default=None)
```

##### `openhands.sdk.llm.ReasoningItemModel.encrypted_content`

```python
encrypted_content: str | None = Field(default=None)
```

##### `openhands.sdk.llm.ReasoningItemModel.id`

```python
id: str | None = Field(default=None)
```

##### `openhands.sdk.llm.ReasoningItemModel.status`

```python
status: str | None = Field(default=None)
```

##### `openhands.sdk.llm.ReasoningItemModel.summary`

```python
summary: list[str] = Field(default_factory=list)
```

#### `openhands.sdk.llm.RedactedThinkingBlock`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Redacted thinking block for previous responses without extended thinking.

This is used as a placeholder for assistant messages that were generated
before extended thinking was enabled.

**Attributes:**

- [**data**](#openhands.sdk.llm.RedactedThinkingBlock.data) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.llm.RedactedThinkingBlock.type) (<code>[Literal](#typing.Literal)['redacted_thinking']</code>) –

##### `openhands.sdk.llm.RedactedThinkingBlock.data`

```python
data: str = Field(..., description='The redacted thinking content')
```

##### `openhands.sdk.llm.RedactedThinkingBlock.type`

```python
type: Literal['redacted_thinking'] = 'redacted_thinking'
```

#### `openhands.sdk.llm.RegistryEvent`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

**Attributes:**

- [**llm**](#openhands.sdk.llm.RegistryEvent.llm) (<code>[LLM](#openhands.sdk.llm.llm.LLM)</code>) –
- [**model_config**](#openhands.sdk.llm.RegistryEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –

##### `openhands.sdk.llm.RegistryEvent.llm`

```python
llm: LLM
```

##### `openhands.sdk.llm.RegistryEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(arbitrary_types_allowed=True)
```

#### `openhands.sdk.llm.RouterLLM`

Bases: <code>[LLM](#openhands.sdk.llm.llm.LLM)</code>

Base class for multiple LLM acting as a unified LLM.
This class provides a foundation for implementing model routing by
inheriting from LLM, allowing routers to work with multiple underlying
LLM models while presenting a unified LLM interface to consumers.
Key features:

- Works with multiple LLMs configured via llms_for_routing
- Delegates all other operations/properties to the selected LLM
- Provides routing interface through select_llm() method

**Functions:**

- [**completion**](#openhands.sdk.llm.RouterLLM.completion) – This method intercepts completion calls and routes them to the appropriate
- [**format_messages_for_llm**](#openhands.sdk.llm.RouterLLM.format_messages_for_llm) – Formats Message objects for LLM consumption.
- [**format_messages_for_responses**](#openhands.sdk.llm.RouterLLM.format_messages_for_responses) – Prepare (instructions, input[]) for the OpenAI Responses API.
- [**get_token_count**](#openhands.sdk.llm.RouterLLM.get_token_count) –
- [**is_caching_prompt_active**](#openhands.sdk.llm.RouterLLM.is_caching_prompt_active) – Check if prompt caching is supported and enabled for current model.
- [**is_context_window_exceeded_exception**](#openhands.sdk.llm.RouterLLM.is_context_window_exceeded_exception) – Check if the exception indicates a context window exceeded error.
- [**load_from_env**](#openhands.sdk.llm.RouterLLM.load_from_env) –
- [**load_from_json**](#openhands.sdk.llm.RouterLLM.load_from_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.llm.RouterLLM.resolve_diff_from_deserialized) – Resolve differences between a deserialized LLM and the current instance.
- [**responses**](#openhands.sdk.llm.RouterLLM.responses) – Alternative invocation path using OpenAI Responses API via LiteLLM.
- [**restore_metrics**](#openhands.sdk.llm.RouterLLM.restore_metrics) –
- [**select_llm**](#openhands.sdk.llm.RouterLLM.select_llm) – Select which LLM to use based on messages and events.
- [**set_placeholder_model**](#openhands.sdk.llm.RouterLLM.set_placeholder_model) – Guarantee `model` exists before LLM base validation runs.
- [**uses_responses_api**](#openhands.sdk.llm.RouterLLM.uses_responses_api) – Whether this model uses the OpenAI Responses API path.
- [**validate_llms_not_empty**](#openhands.sdk.llm.RouterLLM.validate_llms_not_empty) –
- [**vision_is_active**](#openhands.sdk.llm.RouterLLM.vision_is_active) –

**Attributes:**

- [**OVERRIDE_ON_SERIALIZE**](#openhands.sdk.llm.RouterLLM.OVERRIDE_ON_SERIALIZE) (<code>[tuple](#tuple)\[[str](#str), ...\]</code>) –
- [**active_llm**](#openhands.sdk.llm.RouterLLM.active_llm) (<code>[LLM](#openhands.sdk.llm.llm.LLM) | None</code>) –
- [**api_key**](#openhands.sdk.llm.RouterLLM.api_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**api_version**](#openhands.sdk.llm.RouterLLM.api_version) (<code>[str](#str) | None</code>) –
- [**aws_access_key_id**](#openhands.sdk.llm.RouterLLM.aws_access_key_id) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**aws_region_name**](#openhands.sdk.llm.RouterLLM.aws_region_name) (<code>[str](#str) | None</code>) –
- [**aws_secret_access_key**](#openhands.sdk.llm.RouterLLM.aws_secret_access_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**base_url**](#openhands.sdk.llm.RouterLLM.base_url) (<code>[str](#str) | None</code>) –
- [**caching_prompt**](#openhands.sdk.llm.RouterLLM.caching_prompt) (<code>[bool](#bool)</code>) –
- [**custom_llm_provider**](#openhands.sdk.llm.RouterLLM.custom_llm_provider) (<code>[str](#str) | None</code>) –
- [**custom_tokenizer**](#openhands.sdk.llm.RouterLLM.custom_tokenizer) (<code>[str](#str) | None</code>) –
- [**disable_stop_word**](#openhands.sdk.llm.RouterLLM.disable_stop_word) (<code>[bool](#bool) | None</code>) –
- [**disable_vision**](#openhands.sdk.llm.RouterLLM.disable_vision) (<code>[bool](#bool) | None</code>) –
- [**drop_params**](#openhands.sdk.llm.RouterLLM.drop_params) (<code>[bool](#bool)</code>) –
- [**enable_encrypted_reasoning**](#openhands.sdk.llm.RouterLLM.enable_encrypted_reasoning) (<code>[bool](#bool)</code>) –
- [**extended_thinking_budget**](#openhands.sdk.llm.RouterLLM.extended_thinking_budget) (<code>[int](#int) | None</code>) –
- [**input_cost_per_token**](#openhands.sdk.llm.RouterLLM.input_cost_per_token) (<code>[float](#float) | None</code>) –
- [**llms_for_routing**](#openhands.sdk.llm.RouterLLM.llms_for_routing) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) –
- [**log_completions**](#openhands.sdk.llm.RouterLLM.log_completions) (<code>[bool](#bool)</code>) –
- [**log_completions_folder**](#openhands.sdk.llm.RouterLLM.log_completions_folder) (<code>[str](#str)</code>) –
- [**max_input_tokens**](#openhands.sdk.llm.RouterLLM.max_input_tokens) (<code>[int](#int) | None</code>) –
- [**max_message_chars**](#openhands.sdk.llm.RouterLLM.max_message_chars) (<code>[int](#int)</code>) –
- [**max_output_tokens**](#openhands.sdk.llm.RouterLLM.max_output_tokens) (<code>[int](#int) | None</code>) –
- [**metadata**](#openhands.sdk.llm.RouterLLM.metadata) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**metrics**](#openhands.sdk.llm.RouterLLM.metrics) (<code>[Metrics](#openhands.sdk.llm.utils.metrics.Metrics)</code>) –
- [**model**](#openhands.sdk.llm.RouterLLM.model) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.llm.RouterLLM.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**model_info**](#openhands.sdk.llm.RouterLLM.model_info) (<code>[dict](#dict) | None</code>) – Returns the model info dictionary.
- [**modify_params**](#openhands.sdk.llm.RouterLLM.modify_params) (<code>[bool](#bool)</code>) –
- [**native_tool_calling**](#openhands.sdk.llm.RouterLLM.native_tool_calling) (<code>[bool](#bool)</code>) –
- [**num_retries**](#openhands.sdk.llm.RouterLLM.num_retries) (<code>[int](#int)</code>) –
- [**ollama_base_url**](#openhands.sdk.llm.RouterLLM.ollama_base_url) (<code>[str](#str) | None</code>) –
- [**openrouter_app_name**](#openhands.sdk.llm.RouterLLM.openrouter_app_name) (<code>[str](#str)</code>) –
- [**openrouter_site_url**](#openhands.sdk.llm.RouterLLM.openrouter_site_url) (<code>[str](#str)</code>) –
- [**output_cost_per_token**](#openhands.sdk.llm.RouterLLM.output_cost_per_token) (<code>[float](#float) | None</code>) –
- [**reasoning_effort**](#openhands.sdk.llm.RouterLLM.reasoning_effort) (<code>[Literal](#typing.Literal)['low', 'medium', 'high', 'none'] | None</code>) –
- [**retry_listener**](#openhands.sdk.llm.RouterLLM.retry_listener) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None\]</code>) –
- [**retry_max_wait**](#openhands.sdk.llm.RouterLLM.retry_max_wait) (<code>[int](#int)</code>) –
- [**retry_min_wait**](#openhands.sdk.llm.RouterLLM.retry_min_wait) (<code>[int](#int)</code>) –
- [**retry_multiplier**](#openhands.sdk.llm.RouterLLM.retry_multiplier) (<code>[float](#float)</code>) –
- [**router_name**](#openhands.sdk.llm.RouterLLM.router_name) (<code>[str](#str)</code>) –
- [**safety_settings**](#openhands.sdk.llm.RouterLLM.safety_settings) (<code>[list](#list)\[[dict](#dict)\[[str](#str), [str](#str)\]\] | None</code>) –
- [**seed**](#openhands.sdk.llm.RouterLLM.seed) (<code>[int](#int) | None</code>) –
- [**service_id**](#openhands.sdk.llm.RouterLLM.service_id) (<code>[str](#str)</code>) –
- [**temperature**](#openhands.sdk.llm.RouterLLM.temperature) (<code>[float](#float) | None</code>) –
- [**timeout**](#openhands.sdk.llm.RouterLLM.timeout) (<code>[int](#int) | None</code>) –
- [**top_k**](#openhands.sdk.llm.RouterLLM.top_k) (<code>[float](#float) | None</code>) –
- [**top_p**](#openhands.sdk.llm.RouterLLM.top_p) (<code>[float](#float) | None</code>) –
- [**usage_id**](#openhands.sdk.llm.RouterLLM.usage_id) (<code>[str](#str)</code>) –

##### `openhands.sdk.llm.RouterLLM.OVERRIDE_ON_SERIALIZE`

```python
OVERRIDE_ON_SERIALIZE: tuple[str, ...] = ('api_key', 'aws_access_key_id', 'aws_secret_access_key')
```

##### `openhands.sdk.llm.RouterLLM.active_llm`

```python
active_llm: LLM | None = Field(default=None, description='Currently selected LLM instance')
```

##### `openhands.sdk.llm.RouterLLM.api_key`

```python
api_key: SecretStr | None = Field(default=None, description='API key.')
```

##### `openhands.sdk.llm.RouterLLM.api_version`

```python
api_version: str | None = Field(default=None, description='API version (e.g., Azure).')
```

##### `openhands.sdk.llm.RouterLLM.aws_access_key_id`

```python
aws_access_key_id: SecretStr | None = Field(default=None)
```

##### `openhands.sdk.llm.RouterLLM.aws_region_name`

```python
aws_region_name: str | None = Field(default=None)
```

##### `openhands.sdk.llm.RouterLLM.aws_secret_access_key`

```python
aws_secret_access_key: SecretStr | None = Field(default=None)
```

##### `openhands.sdk.llm.RouterLLM.base_url`

```python
base_url: str | None = Field(default=None, description='Custom base URL.')
```

##### `openhands.sdk.llm.RouterLLM.caching_prompt`

```python
caching_prompt: bool = Field(default=True, description='Enable caching of prompts.')
```

##### `openhands.sdk.llm.RouterLLM.completion`

```python
completion(messages, tools=None, return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

This method intercepts completion calls and routes them to the appropriate
underlying LLM based on the routing logic implemented in select_llm().

##### `openhands.sdk.llm.RouterLLM.custom_llm_provider`

```python
custom_llm_provider: str | None = Field(default=None)
```

##### `openhands.sdk.llm.RouterLLM.custom_tokenizer`

```python
custom_tokenizer: str | None = Field(default=None, description='A custom tokenizer to use for token counting.')
```

##### `openhands.sdk.llm.RouterLLM.disable_stop_word`

```python
disable_stop_word: bool | None = Field(default=False, description='Disable using of stop word.')
```

##### `openhands.sdk.llm.RouterLLM.disable_vision`

```python
disable_vision: bool | None = Field(default=None, description='If model is vision capable, this option allows to disable image processing (useful for cost reduction).')
```

##### `openhands.sdk.llm.RouterLLM.drop_params`

```python
drop_params: bool = Field(default=True)
```

##### `openhands.sdk.llm.RouterLLM.enable_encrypted_reasoning`

```python
enable_encrypted_reasoning: bool = Field(default=False, description="If True, ask for ['reasoning.encrypted_content'] in Responses API include.")
```

##### `openhands.sdk.llm.RouterLLM.extended_thinking_budget`

```python
extended_thinking_budget: int | None = Field(default=200000, description='The budget tokens for extended thinking, supported by Anthropic models.')
```

##### `openhands.sdk.llm.RouterLLM.format_messages_for_llm`

```python
format_messages_for_llm(messages)
```

Formats Message objects for LLM consumption.

##### `openhands.sdk.llm.RouterLLM.format_messages_for_responses`

```python
format_messages_for_responses(messages)
```

Prepare (instructions, input[]) for the OpenAI Responses API.

- Skips prompt caching flags and string serializer concerns
- Uses Message.to_responses_value to get either instructions (system)
  or input items (others)
- Concatenates system instructions into a single instructions string

##### `openhands.sdk.llm.RouterLLM.get_token_count`

```python
get_token_count(messages)
```

##### `openhands.sdk.llm.RouterLLM.input_cost_per_token`

```python
input_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per input token. This will available in logs for user.')
```

##### `openhands.sdk.llm.RouterLLM.is_caching_prompt_active`

```python
is_caching_prompt_active()
```

Check if prompt caching is supported and enabled for current model.

**Returns:**

- **boolean** (<code>[bool](#bool)</code>) – True if prompt caching is supported and enabled for the given
  model.

##### `openhands.sdk.llm.RouterLLM.is_context_window_exceeded_exception`

```python
is_context_window_exceeded_exception(exception)
```

Check if the exception indicates a context window exceeded error.

Context window exceeded errors vary by provider, and LiteLLM does not do a
consistent job of identifying and wrapping them.

##### `openhands.sdk.llm.RouterLLM.llms_for_routing`

```python
llms_for_routing: dict[str, LLM] = Field(default_factory=dict)
```

##### `openhands.sdk.llm.RouterLLM.load_from_env`

```python
load_from_env(prefix='LLM_')
```

##### `openhands.sdk.llm.RouterLLM.load_from_json`

```python
load_from_json(json_path)
```

##### `openhands.sdk.llm.RouterLLM.log_completions`

```python
log_completions: bool = Field(default=False, description='Enable logging of completions.')
```

##### `openhands.sdk.llm.RouterLLM.log_completions_folder`

```python
log_completions_folder: str = Field(default=(os.path.join(ENV_LOG_DIR, 'completions')), description='The folder to log LLM completions to. Required if log_completions is True.')
```

##### `openhands.sdk.llm.RouterLLM.max_input_tokens`

```python
max_input_tokens: int | None = Field(default=None, ge=1, description='The maximum number of input tokens. Note that this is currently unused, and the value at runtime is actually the total tokens in OpenAI (e.g. 128,000 tokens for GPT-4).')
```

##### `openhands.sdk.llm.RouterLLM.max_message_chars`

```python
max_message_chars: int = Field(default=30000, ge=1, description='Approx max chars in each event/content sent to the LLM.')
```

##### `openhands.sdk.llm.RouterLLM.max_output_tokens`

```python
max_output_tokens: int | None = Field(default=None, ge=1, description='The maximum number of output tokens. This is sent to the LLM.')
```

##### `openhands.sdk.llm.RouterLLM.metadata`

```python
metadata: dict[str, Any] = Field(default_factory=dict, description="Additional metadata for the LLM instance. Example structure: {'trace_version': '1.0.0', 'tags': ['model:gpt-4', 'agent:my-agent'], 'session_id': 'session-123', 'trace_user_id': 'user-456'}")
```

##### `openhands.sdk.llm.RouterLLM.metrics`

```python
metrics: Metrics
```

##### `openhands.sdk.llm.RouterLLM.model`

```python
model: str = Field(default='claude-sonnet-4-20250514', description='Model name.')
```

##### `openhands.sdk.llm.RouterLLM.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', arbitrary_types_allowed=True)
```

##### `openhands.sdk.llm.RouterLLM.model_info`

```python
model_info: dict | None
```

Returns the model info dictionary.

##### `openhands.sdk.llm.RouterLLM.modify_params`

```python
modify_params: bool = Field(default=True, description='Modify params allows litellm to do transformations like adding a default message, when a message is empty.')
```

##### `openhands.sdk.llm.RouterLLM.native_tool_calling`

```python
native_tool_calling: bool = Field(default=True, description='Whether to use native tool calling.')
```

##### `openhands.sdk.llm.RouterLLM.num_retries`

```python
num_retries: int = Field(default=5, ge=0)
```

##### `openhands.sdk.llm.RouterLLM.ollama_base_url`

```python
ollama_base_url: str | None = Field(default=None)
```

##### `openhands.sdk.llm.RouterLLM.openrouter_app_name`

```python
openrouter_app_name: str = Field(default='OpenHands')
```

##### `openhands.sdk.llm.RouterLLM.openrouter_site_url`

```python
openrouter_site_url: str = Field(default='https://docs.all-hands.dev/')
```

##### `openhands.sdk.llm.RouterLLM.output_cost_per_token`

```python
output_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per output token. This will available in logs for user.')
```

##### `openhands.sdk.llm.RouterLLM.reasoning_effort`

```python
reasoning_effort: Literal['low', 'medium', 'high', 'none'] | None = Field(default=None, description="The effort to put into reasoning. This is a string that can be one of 'low', 'medium', 'high', or 'none'. Can apply to all reasoning models.")
```

##### `openhands.sdk.llm.RouterLLM.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Resolve differences between a deserialized LLM and the current instance.

This is due to fields like api_key being serialized to "\*\*\*\*" in dumps,
and we want to ensure that when loading from a file, we still use the
runtime-provided api_key in the self instance.

Return a new LLM instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key) taken from `self`.

##### `openhands.sdk.llm.RouterLLM.responses`

```python
responses(messages, tools=None, include=None, store=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Alternative invocation path using OpenAI Responses API via LiteLLM.

Maps Message[] -> (instructions, input[]) and returns LLMResponse.
Non-stream only for v1.

##### `openhands.sdk.llm.RouterLLM.restore_metrics`

```python
restore_metrics(metrics)
```

##### `openhands.sdk.llm.RouterLLM.retry_listener`

```python
retry_listener: SkipJsonSchema[Callable[[int, int], None] | None] = Field(default=None, exclude=True)
```

##### `openhands.sdk.llm.RouterLLM.retry_max_wait`

```python
retry_max_wait: int = Field(default=64, ge=0)
```

##### `openhands.sdk.llm.RouterLLM.retry_min_wait`

```python
retry_min_wait: int = Field(default=8, ge=0)
```

##### `openhands.sdk.llm.RouterLLM.retry_multiplier`

```python
retry_multiplier: float = Field(default=8.0, ge=0)
```

##### `openhands.sdk.llm.RouterLLM.router_name`

```python
router_name: str = Field(default='base_router', description='Name of the router')
```

##### `openhands.sdk.llm.RouterLLM.safety_settings`

```python
safety_settings: list[dict[str, str]] | None = Field(default=None, description='Safety settings for models that support them (like Mistral AI and Gemini)')
```

##### `openhands.sdk.llm.RouterLLM.seed`

```python
seed: int | None = Field(default=None, description='The seed to use for random number generation.')
```

##### `openhands.sdk.llm.RouterLLM.select_llm`

```python
select_llm(messages)
```

Select which LLM to use based on messages and events.

This method implements the core routing logic for the RouterLLM.
Subclasses should analyze the provided messages to determine which
LLM from llms_for_routing is most appropriate for handling the request.

**Parameters:**

- **messages** (<code>[list](#list)\[[Message](#openhands.sdk.llm.message.Message)\]</code>) – List of messages in the conversation that can be used
  to inform the routing decision.

**Returns:**

- <code>[str](#str)</code> – The key/name of the LLM to use from llms_for_routing dictionary.

##### `openhands.sdk.llm.RouterLLM.service_id`

```python
service_id: str
```

##### `openhands.sdk.llm.RouterLLM.set_placeholder_model`

```python
set_placeholder_model(data)
```

Guarantee `model` exists before LLM base validation runs.

##### `openhands.sdk.llm.RouterLLM.temperature`

```python
temperature: float | None = Field(default=0.0, ge=0)
```

##### `openhands.sdk.llm.RouterLLM.timeout`

```python
timeout: int | None = Field(default=None, ge=0, description='HTTP timeout (s).')
```

##### `openhands.sdk.llm.RouterLLM.top_k`

```python
top_k: float | None = Field(default=None, ge=0)
```

##### `openhands.sdk.llm.RouterLLM.top_p`

```python
top_p: float | None = Field(default=1.0, ge=0, le=1)
```

##### `openhands.sdk.llm.RouterLLM.usage_id`

```python
usage_id: str = Field(default='default', validation_alias=(AliasChoices('usage_id', 'service_id')), serialization_alias='usage_id', description='Unique usage identifier for the LLM. Used for registry lookups, telemetry, and spend tracking.')
```

##### `openhands.sdk.llm.RouterLLM.uses_responses_api`

```python
uses_responses_api()
```

Whether this model uses the OpenAI Responses API path.

##### `openhands.sdk.llm.RouterLLM.validate_llms_not_empty`

```python
validate_llms_not_empty(v)
```

##### `openhands.sdk.llm.RouterLLM.vision_is_active`

```python
vision_is_active()
```

#### `openhands.sdk.llm.TextContent`

Bases: <code>[BaseContent](#openhands.sdk.llm.message.BaseContent)</code>

**Functions:**

- [**to_llm_dict**](#openhands.sdk.llm.TextContent.to_llm_dict) – Convert to LLM API format.

**Attributes:**

- [**cache_prompt**](#openhands.sdk.llm.TextContent.cache_prompt) (<code>[bool](#bool)</code>) –
- [**model_config**](#openhands.sdk.llm.TextContent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**text**](#openhands.sdk.llm.TextContent.text) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.llm.TextContent.type) (<code>[Literal](#typing.Literal)['text']</code>) –

##### `openhands.sdk.llm.TextContent.cache_prompt`

```python
cache_prompt: bool = False
```

##### `openhands.sdk.llm.TextContent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', populate_by_name=True)
```

##### `openhands.sdk.llm.TextContent.text`

```python
text: str
```

##### `openhands.sdk.llm.TextContent.to_llm_dict`

```python
to_llm_dict()
```

Convert to LLM API format.

##### `openhands.sdk.llm.TextContent.type`

```python
type: Literal['text'] = 'text'
```

#### `openhands.sdk.llm.ThinkingBlock`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Anthropic thinking block for extended thinking feature.

This represents the raw thinking blocks returned by Anthropic models
when extended thinking is enabled. These blocks must be preserved
and passed back to the API for tool use scenarios.

**Attributes:**

- [**signature**](#openhands.sdk.llm.ThinkingBlock.signature) (<code>[str](#str)</code>) –
- [**thinking**](#openhands.sdk.llm.ThinkingBlock.thinking) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.llm.ThinkingBlock.type) (<code>[Literal](#typing.Literal)['thinking']</code>) –

##### `openhands.sdk.llm.ThinkingBlock.signature`

```python
signature: str = Field(..., description='Cryptographic signature for the thinking block')
```

##### `openhands.sdk.llm.ThinkingBlock.thinking`

```python
thinking: str = Field(..., description='The thinking content')
```

##### `openhands.sdk.llm.ThinkingBlock.type`

```python
type: Literal['thinking'] = 'thinking'
```

#### `openhands.sdk.llm.content_to_str`

```python
content_to_str(contents)
```

Convert a list of TextContent and ImageContent to a list of strings.

This is primarily used for display purposes.

#### `openhands.sdk.llm.exceptions`

**Classes:**

- [**FunctionCallConversionError**](#openhands.sdk.llm.exceptions.FunctionCallConversionError) – Exception raised when FunctionCallingConverter failed to convert a non-function
- [**FunctionCallNotExistsError**](#openhands.sdk.llm.exceptions.FunctionCallNotExistsError) – Exception raised when an LLM call a tool that is not registered.
- [**FunctionCallValidationError**](#openhands.sdk.llm.exceptions.FunctionCallValidationError) – Exception raised when FunctionCallingConverter failed to validate a function
- [**LLMContextWindowExceedError**](#openhands.sdk.llm.exceptions.LLMContextWindowExceedError) –
- [**LLMError**](#openhands.sdk.llm.exceptions.LLMError) – Base class for all LLM-related exceptions.
- [**LLMMalformedActionError**](#openhands.sdk.llm.exceptions.LLMMalformedActionError) – Exception raised when the LLM response is malformed or does not conform to the expected format.
- [**LLMNoActionError**](#openhands.sdk.llm.exceptions.LLMNoActionError) – Exception raised when the LLM response does not include an action.
- [**LLMNoResponseError**](#openhands.sdk.llm.exceptions.LLMNoResponseError) – Exception raised when the LLM does not return a response, typically seen in
- [**LLMResponseError**](#openhands.sdk.llm.exceptions.LLMResponseError) – Exception raised when the LLM response does not include an action or the action is not of the expected type.
- [**OperationCancelled**](#openhands.sdk.llm.exceptions.OperationCancelled) – Exception raised when an operation is cancelled (e.g. by a keyboard interrupt).
- [**UserCancelledError**](#openhands.sdk.llm.exceptions.UserCancelledError) –

##### `openhands.sdk.llm.exceptions.FunctionCallConversionError`

```python
FunctionCallConversionError(message)
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

Exception raised when FunctionCallingConverter failed to convert a non-function
call message to a function call message.

This typically happens when there's a malformed message (e.g., missing
\<function=...> tags). But not due to LLM output.

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.FunctionCallConversionError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.FunctionCallConversionError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.FunctionCallNotExistsError`

```python
FunctionCallNotExistsError(message)
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

Exception raised when an LLM call a tool that is not registered.

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.FunctionCallNotExistsError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.FunctionCallNotExistsError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.FunctionCallValidationError`

```python
FunctionCallValidationError(message)
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

Exception raised when FunctionCallingConverter failed to validate a function
call message.

This typically happens when the LLM outputs unrecognized function call /
parameter names / values.

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.FunctionCallValidationError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.FunctionCallValidationError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.LLMContextWindowExceedError`

```python
LLMContextWindowExceedError(message='Conversation history longer than LLM context window limit. Consider turning on enable_history_truncation config to avoid this error')
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.LLMContextWindowExceedError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.LLMContextWindowExceedError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.LLMError`

```python
LLMError(message)
```

Bases: <code>[Exception](#Exception)</code>

Base class for all LLM-related exceptions.

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.LLMError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.LLMError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.LLMMalformedActionError`

```python
LLMMalformedActionError(message='Malformed response')
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

Exception raised when the LLM response is malformed or does not conform to the expected format.

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.LLMMalformedActionError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.LLMMalformedActionError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.LLMNoActionError`

```python
LLMNoActionError(message='Agent must return an action')
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

Exception raised when the LLM response does not include an action.

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.LLMNoActionError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.LLMNoActionError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.LLMNoResponseError`

```python
LLMNoResponseError(message='LLM did not return a response. This is only seen in Gemini models so far.')
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

Exception raised when the LLM does not return a response, typically seen in
Gemini models.

This exception should be retried
Typically, after retry with a non-zero temperature, the LLM will return a response

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.LLMNoResponseError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.LLMNoResponseError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.LLMResponseError`

```python
LLMResponseError(message='Failed to retrieve action from LLM response')
```

Bases: <code>[LLMError](#openhands.sdk.llm.exceptions.LLMError)</code>

Exception raised when the LLM response does not include an action or the action is not of the expected type.

**Attributes:**

- [**message**](#openhands.sdk.llm.exceptions.LLMResponseError.message) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.exceptions.LLMResponseError.message`

```python
message: str = message
```

##### `openhands.sdk.llm.exceptions.OperationCancelled`

```python
OperationCancelled(message='Operation was cancelled')
```

Bases: <code>[Exception](#Exception)</code>

Exception raised when an operation is cancelled (e.g. by a keyboard interrupt).

##### `openhands.sdk.llm.exceptions.UserCancelledError`

```python
UserCancelledError(message='User cancelled the request')
```

Bases: <code>[Exception](#Exception)</code>

#### `openhands.sdk.llm.llm`

**Classes:**

- [**LLM**](#openhands.sdk.llm.llm.LLM) – Refactored LLM: simple `completion()`, centralized Telemetry, tiny helpers.

##### `openhands.sdk.llm.llm.LLM`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>, <code>[RetryMixin](#openhands.sdk.llm.utils.retry_mixin.RetryMixin)</code>, <code>[NonNativeToolCallingMixin](#openhands.sdk.llm.mixins.non_native_fc.NonNativeToolCallingMixin)</code>

Refactored LLM: simple `completion()`, centralized Telemetry, tiny helpers.

**Functions:**

- [**completion**](#openhands.sdk.llm.llm.LLM.completion) – Single entry point for LLM completion.
- [**format_messages_for_llm**](#openhands.sdk.llm.llm.LLM.format_messages_for_llm) – Formats Message objects for LLM consumption.
- [**format_messages_for_responses**](#openhands.sdk.llm.llm.LLM.format_messages_for_responses) – Prepare (instructions, input[]) for the OpenAI Responses API.
- [**get_token_count**](#openhands.sdk.llm.llm.LLM.get_token_count) –
- [**is_caching_prompt_active**](#openhands.sdk.llm.llm.LLM.is_caching_prompt_active) – Check if prompt caching is supported and enabled for current model.
- [**is_context_window_exceeded_exception**](#openhands.sdk.llm.llm.LLM.is_context_window_exceeded_exception) – Check if the exception indicates a context window exceeded error.
- [**load_from_env**](#openhands.sdk.llm.llm.LLM.load_from_env) –
- [**load_from_json**](#openhands.sdk.llm.llm.LLM.load_from_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.llm.llm.LLM.resolve_diff_from_deserialized) – Resolve differences between a deserialized LLM and the current instance.
- [**responses**](#openhands.sdk.llm.llm.LLM.responses) – Alternative invocation path using OpenAI Responses API via LiteLLM.
- [**restore_metrics**](#openhands.sdk.llm.llm.LLM.restore_metrics) –
- [**uses_responses_api**](#openhands.sdk.llm.llm.LLM.uses_responses_api) – Whether this model uses the OpenAI Responses API path.
- [**vision_is_active**](#openhands.sdk.llm.llm.LLM.vision_is_active) –

**Attributes:**

- [**OVERRIDE_ON_SERIALIZE**](#openhands.sdk.llm.llm.LLM.OVERRIDE_ON_SERIALIZE) (<code>[tuple](#tuple)\[[str](#str), ...\]</code>) –
- [**api_key**](#openhands.sdk.llm.llm.LLM.api_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**api_version**](#openhands.sdk.llm.llm.LLM.api_version) (<code>[str](#str) | None</code>) –
- [**aws_access_key_id**](#openhands.sdk.llm.llm.LLM.aws_access_key_id) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**aws_region_name**](#openhands.sdk.llm.llm.LLM.aws_region_name) (<code>[str](#str) | None</code>) –
- [**aws_secret_access_key**](#openhands.sdk.llm.llm.LLM.aws_secret_access_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**base_url**](#openhands.sdk.llm.llm.LLM.base_url) (<code>[str](#str) | None</code>) –
- [**caching_prompt**](#openhands.sdk.llm.llm.LLM.caching_prompt) (<code>[bool](#bool)</code>) –
- [**custom_llm_provider**](#openhands.sdk.llm.llm.LLM.custom_llm_provider) (<code>[str](#str) | None</code>) –
- [**custom_tokenizer**](#openhands.sdk.llm.llm.LLM.custom_tokenizer) (<code>[str](#str) | None</code>) –
- [**disable_stop_word**](#openhands.sdk.llm.llm.LLM.disable_stop_word) (<code>[bool](#bool) | None</code>) –
- [**disable_vision**](#openhands.sdk.llm.llm.LLM.disable_vision) (<code>[bool](#bool) | None</code>) –
- [**drop_params**](#openhands.sdk.llm.llm.LLM.drop_params) (<code>[bool](#bool)</code>) –
- [**enable_encrypted_reasoning**](#openhands.sdk.llm.llm.LLM.enable_encrypted_reasoning) (<code>[bool](#bool)</code>) –
- [**extended_thinking_budget**](#openhands.sdk.llm.llm.LLM.extended_thinking_budget) (<code>[int](#int) | None</code>) –
- [**input_cost_per_token**](#openhands.sdk.llm.llm.LLM.input_cost_per_token) (<code>[float](#float) | None</code>) –
- [**log_completions**](#openhands.sdk.llm.llm.LLM.log_completions) (<code>[bool](#bool)</code>) –
- [**log_completions_folder**](#openhands.sdk.llm.llm.LLM.log_completions_folder) (<code>[str](#str)</code>) –
- [**max_input_tokens**](#openhands.sdk.llm.llm.LLM.max_input_tokens) (<code>[int](#int) | None</code>) –
- [**max_message_chars**](#openhands.sdk.llm.llm.LLM.max_message_chars) (<code>[int](#int)</code>) –
- [**max_output_tokens**](#openhands.sdk.llm.llm.LLM.max_output_tokens) (<code>[int](#int) | None</code>) –
- [**metadata**](#openhands.sdk.llm.llm.LLM.metadata) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**metrics**](#openhands.sdk.llm.llm.LLM.metrics) (<code>[Metrics](#openhands.sdk.llm.utils.metrics.Metrics)</code>) –
- [**model**](#openhands.sdk.llm.llm.LLM.model) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.llm.llm.LLM.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**model_info**](#openhands.sdk.llm.llm.LLM.model_info) (<code>[dict](#dict) | None</code>) – Returns the model info dictionary.
- [**modify_params**](#openhands.sdk.llm.llm.LLM.modify_params) (<code>[bool](#bool)</code>) –
- [**native_tool_calling**](#openhands.sdk.llm.llm.LLM.native_tool_calling) (<code>[bool](#bool)</code>) –
- [**num_retries**](#openhands.sdk.llm.llm.LLM.num_retries) (<code>[int](#int)</code>) –
- [**ollama_base_url**](#openhands.sdk.llm.llm.LLM.ollama_base_url) (<code>[str](#str) | None</code>) –
- [**openrouter_app_name**](#openhands.sdk.llm.llm.LLM.openrouter_app_name) (<code>[str](#str)</code>) –
- [**openrouter_site_url**](#openhands.sdk.llm.llm.LLM.openrouter_site_url) (<code>[str](#str)</code>) –
- [**output_cost_per_token**](#openhands.sdk.llm.llm.LLM.output_cost_per_token) (<code>[float](#float) | None</code>) –
- [**reasoning_effort**](#openhands.sdk.llm.llm.LLM.reasoning_effort) (<code>[Literal](#typing.Literal)['low', 'medium', 'high', 'none'] | None</code>) –
- [**retry_listener**](#openhands.sdk.llm.llm.LLM.retry_listener) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None\]</code>) –
- [**retry_max_wait**](#openhands.sdk.llm.llm.LLM.retry_max_wait) (<code>[int](#int)</code>) –
- [**retry_min_wait**](#openhands.sdk.llm.llm.LLM.retry_min_wait) (<code>[int](#int)</code>) –
- [**retry_multiplier**](#openhands.sdk.llm.llm.LLM.retry_multiplier) (<code>[float](#float)</code>) –
- [**safety_settings**](#openhands.sdk.llm.llm.LLM.safety_settings) (<code>[list](#list)\[[dict](#dict)\[[str](#str), [str](#str)\]\] | None</code>) –
- [**seed**](#openhands.sdk.llm.llm.LLM.seed) (<code>[int](#int) | None</code>) –
- [**service_id**](#openhands.sdk.llm.llm.LLM.service_id) (<code>[str](#str)</code>) –
- [**temperature**](#openhands.sdk.llm.llm.LLM.temperature) (<code>[float](#float) | None</code>) –
- [**timeout**](#openhands.sdk.llm.llm.LLM.timeout) (<code>[int](#int) | None</code>) –
- [**top_k**](#openhands.sdk.llm.llm.LLM.top_k) (<code>[float](#float) | None</code>) –
- [**top_p**](#openhands.sdk.llm.llm.LLM.top_p) (<code>[float](#float) | None</code>) –
- [**usage_id**](#openhands.sdk.llm.llm.LLM.usage_id) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.llm.LLM.OVERRIDE_ON_SERIALIZE`

```python
OVERRIDE_ON_SERIALIZE: tuple[str, ...] = ('api_key', 'aws_access_key_id', 'aws_secret_access_key')
```

###### `openhands.sdk.llm.llm.LLM.api_key`

```python
api_key: SecretStr | None = Field(default=None, description='API key.')
```

###### `openhands.sdk.llm.llm.LLM.api_version`

```python
api_version: str | None = Field(default=None, description='API version (e.g., Azure).')
```

###### `openhands.sdk.llm.llm.LLM.aws_access_key_id`

```python
aws_access_key_id: SecretStr | None = Field(default=None)
```

###### `openhands.sdk.llm.llm.LLM.aws_region_name`

```python
aws_region_name: str | None = Field(default=None)
```

###### `openhands.sdk.llm.llm.LLM.aws_secret_access_key`

```python
aws_secret_access_key: SecretStr | None = Field(default=None)
```

###### `openhands.sdk.llm.llm.LLM.base_url`

```python
base_url: str | None = Field(default=None, description='Custom base URL.')
```

###### `openhands.sdk.llm.llm.LLM.caching_prompt`

```python
caching_prompt: bool = Field(default=True, description='Enable caching of prompts.')
```

###### `openhands.sdk.llm.llm.LLM.completion`

```python
completion(messages, tools=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Single entry point for LLM completion.

Normalize → (maybe) mock tools → transport → postprocess.

###### `openhands.sdk.llm.llm.LLM.custom_llm_provider`

```python
custom_llm_provider: str | None = Field(default=None)
```

###### `openhands.sdk.llm.llm.LLM.custom_tokenizer`

```python
custom_tokenizer: str | None = Field(default=None, description='A custom tokenizer to use for token counting.')
```

###### `openhands.sdk.llm.llm.LLM.disable_stop_word`

```python
disable_stop_word: bool | None = Field(default=False, description='Disable using of stop word.')
```

###### `openhands.sdk.llm.llm.LLM.disable_vision`

```python
disable_vision: bool | None = Field(default=None, description='If model is vision capable, this option allows to disable image processing (useful for cost reduction).')
```

###### `openhands.sdk.llm.llm.LLM.drop_params`

```python
drop_params: bool = Field(default=True)
```

###### `openhands.sdk.llm.llm.LLM.enable_encrypted_reasoning`

```python
enable_encrypted_reasoning: bool = Field(default=False, description="If True, ask for ['reasoning.encrypted_content'] in Responses API include.")
```

###### `openhands.sdk.llm.llm.LLM.extended_thinking_budget`

```python
extended_thinking_budget: int | None = Field(default=200000, description='The budget tokens for extended thinking, supported by Anthropic models.')
```

###### `openhands.sdk.llm.llm.LLM.format_messages_for_llm`

```python
format_messages_for_llm(messages)
```

Formats Message objects for LLM consumption.

###### `openhands.sdk.llm.llm.LLM.format_messages_for_responses`

```python
format_messages_for_responses(messages)
```

Prepare (instructions, input[]) for the OpenAI Responses API.

- Skips prompt caching flags and string serializer concerns
- Uses Message.to_responses_value to get either instructions (system)
  or input items (others)
- Concatenates system instructions into a single instructions string

###### `openhands.sdk.llm.llm.LLM.get_token_count`

```python
get_token_count(messages)
```

###### `openhands.sdk.llm.llm.LLM.input_cost_per_token`

```python
input_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per input token. This will available in logs for user.')
```

###### `openhands.sdk.llm.llm.LLM.is_caching_prompt_active`

```python
is_caching_prompt_active()
```

Check if prompt caching is supported and enabled for current model.

**Returns:**

- **boolean** (<code>[bool](#bool)</code>) – True if prompt caching is supported and enabled for the given
  model.

###### `openhands.sdk.llm.llm.LLM.is_context_window_exceeded_exception`

```python
is_context_window_exceeded_exception(exception)
```

Check if the exception indicates a context window exceeded error.

Context window exceeded errors vary by provider, and LiteLLM does not do a
consistent job of identifying and wrapping them.

###### `openhands.sdk.llm.llm.LLM.load_from_env`

```python
load_from_env(prefix='LLM_')
```

###### `openhands.sdk.llm.llm.LLM.load_from_json`

```python
load_from_json(json_path)
```

###### `openhands.sdk.llm.llm.LLM.log_completions`

```python
log_completions: bool = Field(default=False, description='Enable logging of completions.')
```

###### `openhands.sdk.llm.llm.LLM.log_completions_folder`

```python
log_completions_folder: str = Field(default=(os.path.join(ENV_LOG_DIR, 'completions')), description='The folder to log LLM completions to. Required if log_completions is True.')
```

###### `openhands.sdk.llm.llm.LLM.max_input_tokens`

```python
max_input_tokens: int | None = Field(default=None, ge=1, description='The maximum number of input tokens. Note that this is currently unused, and the value at runtime is actually the total tokens in OpenAI (e.g. 128,000 tokens for GPT-4).')
```

###### `openhands.sdk.llm.llm.LLM.max_message_chars`

```python
max_message_chars: int = Field(default=30000, ge=1, description='Approx max chars in each event/content sent to the LLM.')
```

###### `openhands.sdk.llm.llm.LLM.max_output_tokens`

```python
max_output_tokens: int | None = Field(default=None, ge=1, description='The maximum number of output tokens. This is sent to the LLM.')
```

###### `openhands.sdk.llm.llm.LLM.metadata`

```python
metadata: dict[str, Any] = Field(default_factory=dict, description="Additional metadata for the LLM instance. Example structure: {'trace_version': '1.0.0', 'tags': ['model:gpt-4', 'agent:my-agent'], 'session_id': 'session-123', 'trace_user_id': 'user-456'}")
```

###### `openhands.sdk.llm.llm.LLM.metrics`

```python
metrics: Metrics
```

###### `openhands.sdk.llm.llm.LLM.model`

```python
model: str = Field(default='claude-sonnet-4-20250514', description='Model name.')
```

###### `openhands.sdk.llm.llm.LLM.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', arbitrary_types_allowed=True)
```

###### `openhands.sdk.llm.llm.LLM.model_info`

```python
model_info: dict | None
```

Returns the model info dictionary.

###### `openhands.sdk.llm.llm.LLM.modify_params`

```python
modify_params: bool = Field(default=True, description='Modify params allows litellm to do transformations like adding a default message, when a message is empty.')
```

###### `openhands.sdk.llm.llm.LLM.native_tool_calling`

```python
native_tool_calling: bool = Field(default=True, description='Whether to use native tool calling.')
```

###### `openhands.sdk.llm.llm.LLM.num_retries`

```python
num_retries: int = Field(default=5, ge=0)
```

###### `openhands.sdk.llm.llm.LLM.ollama_base_url`

```python
ollama_base_url: str | None = Field(default=None)
```

###### `openhands.sdk.llm.llm.LLM.openrouter_app_name`

```python
openrouter_app_name: str = Field(default='OpenHands')
```

###### `openhands.sdk.llm.llm.LLM.openrouter_site_url`

```python
openrouter_site_url: str = Field(default='https://docs.all-hands.dev/')
```

###### `openhands.sdk.llm.llm.LLM.output_cost_per_token`

```python
output_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per output token. This will available in logs for user.')
```

###### `openhands.sdk.llm.llm.LLM.reasoning_effort`

```python
reasoning_effort: Literal['low', 'medium', 'high', 'none'] | None = Field(default=None, description="The effort to put into reasoning. This is a string that can be one of 'low', 'medium', 'high', or 'none'. Can apply to all reasoning models.")
```

###### `openhands.sdk.llm.llm.LLM.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Resolve differences between a deserialized LLM and the current instance.

This is due to fields like api_key being serialized to "\*\*\*\*" in dumps,
and we want to ensure that when loading from a file, we still use the
runtime-provided api_key in the self instance.

Return a new LLM instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key) taken from `self`.

###### `openhands.sdk.llm.llm.LLM.responses`

```python
responses(messages, tools=None, include=None, store=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Alternative invocation path using OpenAI Responses API via LiteLLM.

Maps Message[] -> (instructions, input[]) and returns LLMResponse.
Non-stream only for v1.

###### `openhands.sdk.llm.llm.LLM.restore_metrics`

```python
restore_metrics(metrics)
```

###### `openhands.sdk.llm.llm.LLM.retry_listener`

```python
retry_listener: SkipJsonSchema[Callable[[int, int], None] | None] = Field(default=None, exclude=True)
```

###### `openhands.sdk.llm.llm.LLM.retry_max_wait`

```python
retry_max_wait: int = Field(default=64, ge=0)
```

###### `openhands.sdk.llm.llm.LLM.retry_min_wait`

```python
retry_min_wait: int = Field(default=8, ge=0)
```

###### `openhands.sdk.llm.llm.LLM.retry_multiplier`

```python
retry_multiplier: float = Field(default=8.0, ge=0)
```

###### `openhands.sdk.llm.llm.LLM.safety_settings`

```python
safety_settings: list[dict[str, str]] | None = Field(default=None, description='Safety settings for models that support them (like Mistral AI and Gemini)')
```

###### `openhands.sdk.llm.llm.LLM.seed`

```python
seed: int | None = Field(default=None, description='The seed to use for random number generation.')
```

###### `openhands.sdk.llm.llm.LLM.service_id`

```python
service_id: str
```

###### `openhands.sdk.llm.llm.LLM.temperature`

```python
temperature: float | None = Field(default=0.0, ge=0)
```

###### `openhands.sdk.llm.llm.LLM.timeout`

```python
timeout: int | None = Field(default=None, ge=0, description='HTTP timeout (s).')
```

###### `openhands.sdk.llm.llm.LLM.top_k`

```python
top_k: float | None = Field(default=None, ge=0)
```

###### `openhands.sdk.llm.llm.LLM.top_p`

```python
top_p: float | None = Field(default=1.0, ge=0, le=1)
```

###### `openhands.sdk.llm.llm.LLM.usage_id`

```python
usage_id: str = Field(default='default', validation_alias=(AliasChoices('usage_id', 'service_id')), serialization_alias='usage_id', description='Unique usage identifier for the LLM. Used for registry lookups, telemetry, and spend tracking.')
```

###### `openhands.sdk.llm.llm.LLM.uses_responses_api`

```python
uses_responses_api()
```

Whether this model uses the OpenAI Responses API path.

###### `openhands.sdk.llm.llm.LLM.vision_is_active`

```python
vision_is_active()
```

#### `openhands.sdk.llm.llm_registry`

**Classes:**

- [**LLMRegistry**](#openhands.sdk.llm.llm_registry.LLMRegistry) – A minimal LLM registry for managing LLM instances by usage ID.
- [**RegistryEvent**](#openhands.sdk.llm.llm_registry.RegistryEvent) –

**Attributes:**

- [**LIST_SERVICES_DEPRECATION_MSG**](#openhands.sdk.llm.llm_registry.LIST_SERVICES_DEPRECATION_MSG) –
- [**SERVICE_TO_LLM_DEPRECATION_MSG**](#openhands.sdk.llm.llm_registry.SERVICE_TO_LLM_DEPRECATION_MSG) –
- [**logger**](#openhands.sdk.llm.llm_registry.logger) –

##### `openhands.sdk.llm.llm_registry.LIST_SERVICES_DEPRECATION_MSG`

```python
LIST_SERVICES_DEPRECATION_MSG = 'LLMRegistry.list_services is deprecated and will be removed in a future release; use list_usage_ids instead.'
```

##### `openhands.sdk.llm.llm_registry.LLMRegistry`

```python
LLMRegistry(retry_listener=None)
```

A minimal LLM registry for managing LLM instances by usage ID.

This registry provides a simple way to manage multiple LLM instances,
avoiding the need to recreate LLMs with the same configuration.

**Functions:**

- [**add**](#openhands.sdk.llm.llm_registry.LLMRegistry.add) – Add an LLM instance to the registry.
- [**get**](#openhands.sdk.llm.llm_registry.LLMRegistry.get) – Get an LLM instance from the registry.
- [**list_services**](#openhands.sdk.llm.llm_registry.LLMRegistry.list_services) – Deprecated alias for :meth:`list_usage_ids`.
- [**list_usage_ids**](#openhands.sdk.llm.llm_registry.LLMRegistry.list_usage_ids) – List all registered usage IDs.
- [**notify**](#openhands.sdk.llm.llm_registry.LLMRegistry.notify) – Notify subscribers of registry events.
- [**subscribe**](#openhands.sdk.llm.llm_registry.LLMRegistry.subscribe) – Subscribe to registry events.

**Attributes:**

- [**registry_id**](#openhands.sdk.llm.llm_registry.LLMRegistry.registry_id) (<code>[str](#str)</code>) –
- [**retry_listener**](#openhands.sdk.llm.llm_registry.LLMRegistry.retry_listener) (<code>[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None</code>) –
- [**service_to_llm**](#openhands.sdk.llm.llm_registry.LLMRegistry.service_to_llm) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) –
- [**subscriber**](#openhands.sdk.llm.llm_registry.LLMRegistry.subscriber) (<code>[Callable](#collections.abc.Callable)\[\[[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)\], None\] | None</code>) –
- [**usage_to_llm**](#openhands.sdk.llm.llm_registry.LLMRegistry.usage_to_llm) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) – Access the internal usage-ID-to-LLM mapping.

**Parameters:**

- **retry_listener** (<code>[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None</code>) – Optional callback for retry events.

###### `openhands.sdk.llm.llm_registry.LLMRegistry.add`

```python
add(llm)
```

Add an LLM instance to the registry.

**Parameters:**

- **llm** (<code>[LLM](#openhands.sdk.llm.llm.LLM)</code>) – The LLM instance to register.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If llm.usage_id already exists in the registry.

###### `openhands.sdk.llm.llm_registry.LLMRegistry.get`

```python
get(usage_id)
```

Get an LLM instance from the registry.

**Parameters:**

- **usage_id** (<code>[str](#str)</code>) – Unique identifier for the LLM usage slot.

**Returns:**

- <code>[LLM](#openhands.sdk.llm.llm.LLM)</code> – The LLM instance.

**Raises:**

- <code>[KeyError](#KeyError)</code> – If usage_id is not found in the registry.

###### `openhands.sdk.llm.llm_registry.LLMRegistry.list_services`

```python
list_services()
```

Deprecated alias for :meth:`list_usage_ids`.

###### `openhands.sdk.llm.llm_registry.LLMRegistry.list_usage_ids`

```python
list_usage_ids()
```

List all registered usage IDs.

###### `openhands.sdk.llm.llm_registry.LLMRegistry.notify`

```python
notify(event)
```

Notify subscribers of registry events.

**Parameters:**

- **event** (<code>[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)</code>) – The registry event to notify about.

###### `openhands.sdk.llm.llm_registry.LLMRegistry.registry_id`

```python
registry_id: str = str(uuid4())
```

###### `openhands.sdk.llm.llm_registry.LLMRegistry.retry_listener`

```python
retry_listener: Callable[[int, int], None] | None = retry_listener
```

###### `openhands.sdk.llm.llm_registry.LLMRegistry.service_to_llm`

```python
service_to_llm: dict[str, LLM]
```

###### `openhands.sdk.llm.llm_registry.LLMRegistry.subscribe`

```python
subscribe(callback)
```

Subscribe to registry events.

**Parameters:**

- **callback** (<code>[Callable](#collections.abc.Callable)\[\[[RegistryEvent](#openhands.sdk.llm.llm_registry.RegistryEvent)\], None\]</code>) – Function to call when LLMs are created or updated.

###### `openhands.sdk.llm.llm_registry.LLMRegistry.subscriber`

```python
subscriber: Callable[[RegistryEvent], None] | None = None
```

###### `openhands.sdk.llm.llm_registry.LLMRegistry.usage_to_llm`

```python
usage_to_llm: dict[str, LLM]
```

Access the internal usage-ID-to-LLM mapping.

##### `openhands.sdk.llm.llm_registry.RegistryEvent`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

**Attributes:**

- [**llm**](#openhands.sdk.llm.llm_registry.RegistryEvent.llm) (<code>[LLM](#openhands.sdk.llm.llm.LLM)</code>) –
- [**model_config**](#openhands.sdk.llm.llm_registry.RegistryEvent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –

###### `openhands.sdk.llm.llm_registry.RegistryEvent.llm`

```python
llm: LLM
```

###### `openhands.sdk.llm.llm_registry.RegistryEvent.model_config`

```python
model_config: ConfigDict = ConfigDict(arbitrary_types_allowed=True)
```

##### `openhands.sdk.llm.llm_registry.SERVICE_TO_LLM_DEPRECATION_MSG`

```python
SERVICE_TO_LLM_DEPRECATION_MSG = 'LLMRegistry.service_to_llm is deprecated and will be removed in a future release; use usage_to_llm instead.'
```

##### `openhands.sdk.llm.llm_registry.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.llm.llm_response`

LLMResponse type for LLM completion responses.

This module provides the LLMResponse type that wraps LLM completion responses
with OpenHands-native types, eliminating the need for consumers to work directly
with LiteLLM types.

**Classes:**

- [**LLMResponse**](#openhands.sdk.llm.llm_response.LLMResponse) – Result of an LLM completion request.

##### `openhands.sdk.llm.llm_response.LLMResponse`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Result of an LLM completion request.

This type provides a clean interface for LLM completion results, exposing
only OpenHands-native types to consumers while preserving access to the
raw LiteLLM response for internal use.

**Attributes:**

- [**message**](#openhands.sdk.llm.llm_response.LLMResponse.message) (<code>[Message](#openhands.sdk.llm.message.Message)</code>) – The completion message converted to OpenHands Message type
- [**metrics**](#openhands.sdk.llm.llm_response.LLMResponse.metrics) (<code>[MetricsSnapshot](#openhands.sdk.llm.utils.metrics.MetricsSnapshot)</code>) – Snapshot of metrics from the completion request
- [**raw_response**](#openhands.sdk.llm.llm_response.LLMResponse.raw_response) (<code>[ModelResponse](#litellm.types.utils.ModelResponse) | [ResponsesAPIResponse](#litellm.ResponsesAPIResponse)</code>) – The original LiteLLM response (ModelResponse or
  ResponsesAPIResponse) for internal use

###### `openhands.sdk.llm.llm_response.LLMResponse.id`

```python
id: str
```

Get the response ID from the underlying LLM response.

This property provides a clean interface to access the response ID,
supporting both completion mode (ModelResponse) and response API modes
(ResponsesAPIResponse).

**Returns:**

- <code>[str](#str)</code> – The response ID from the LLM response

###### `openhands.sdk.llm.llm_response.LLMResponse.message`

```python
message: Message
```

###### `openhands.sdk.llm.llm_response.LLMResponse.metrics`

```python
metrics: MetricsSnapshot
```

###### `openhands.sdk.llm.llm_response.LLMResponse.model_config`

```python
model_config: ConfigDict = ConfigDict(arbitrary_types_allowed=True)
```

###### `openhands.sdk.llm.llm_response.LLMResponse.raw_response`

```python
raw_response: ModelResponse | ResponsesAPIResponse
```

#### `openhands.sdk.llm.message`

**Classes:**

- [**BaseContent**](#openhands.sdk.llm.message.BaseContent) –
- [**ImageContent**](#openhands.sdk.llm.message.ImageContent) –
- [**Message**](#openhands.sdk.llm.message.Message) –
- [**MessageToolCall**](#openhands.sdk.llm.message.MessageToolCall) – Transport-agnostic tool call representation.
- [**ReasoningItemModel**](#openhands.sdk.llm.message.ReasoningItemModel) – OpenAI Responses reasoning item (non-stream, subset we consume).
- [**RedactedThinkingBlock**](#openhands.sdk.llm.message.RedactedThinkingBlock) – Redacted thinking block for previous responses without extended thinking.
- [**TextContent**](#openhands.sdk.llm.message.TextContent) –
- [**ThinkingBlock**](#openhands.sdk.llm.message.ThinkingBlock) – Anthropic thinking block for extended thinking feature.

**Functions:**

- [**content_to_str**](#openhands.sdk.llm.message.content_to_str) – Convert a list of TextContent and ImageContent to a list of strings.

**Attributes:**

- [**logger**](#openhands.sdk.llm.message.logger) –

##### `openhands.sdk.llm.message.BaseContent`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

**Functions:**

- [**to_llm_dict**](#openhands.sdk.llm.message.BaseContent.to_llm_dict) – Convert to LLM API format. Always returns a list of dictionaries.

**Attributes:**

- [**cache_prompt**](#openhands.sdk.llm.message.BaseContent.cache_prompt) (<code>[bool](#bool)</code>) –

###### `openhands.sdk.llm.message.BaseContent.cache_prompt`

```python
cache_prompt: bool = False
```

###### `openhands.sdk.llm.message.BaseContent.to_llm_dict`

```python
to_llm_dict()
```

Convert to LLM API format. Always returns a list of dictionaries.

Subclasses should implement this method to return a list of dictionaries,
even if they only have a single item.

##### `openhands.sdk.llm.message.ImageContent`

Bases: <code>[BaseContent](#openhands.sdk.llm.message.BaseContent)</code>

**Functions:**

- [**to_llm_dict**](#openhands.sdk.llm.message.ImageContent.to_llm_dict) – Convert to LLM API format.

**Attributes:**

- [**cache_prompt**](#openhands.sdk.llm.message.ImageContent.cache_prompt) (<code>[bool](#bool)</code>) –
- [**image_urls**](#openhands.sdk.llm.message.ImageContent.image_urls) (<code>[list](#list)\[[str](#str)\]</code>) –
- [**type**](#openhands.sdk.llm.message.ImageContent.type) (<code>[Literal](#typing.Literal)['image']</code>) –

###### `openhands.sdk.llm.message.ImageContent.cache_prompt`

```python
cache_prompt: bool = False
```

###### `openhands.sdk.llm.message.ImageContent.image_urls`

```python
image_urls: list[str]
```

###### `openhands.sdk.llm.message.ImageContent.to_llm_dict`

```python
to_llm_dict()
```

Convert to LLM API format.

###### `openhands.sdk.llm.message.ImageContent.type`

```python
type: Literal['image'] = 'image'
```

##### `openhands.sdk.llm.message.Message`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

**Functions:**

- [**from_llm_chat_message**](#openhands.sdk.llm.message.Message.from_llm_chat_message) – Convert a LiteLLMMessage (Chat Completions) to our Message class.
- [**from_llm_responses_output**](#openhands.sdk.llm.message.Message.from_llm_responses_output) – Convert OpenAI Responses API output items into a single assistant Message.
- [**to_chat_dict**](#openhands.sdk.llm.message.Message.to_chat_dict) – Serialize message for OpenAI Chat Completions.
- [**to_responses_dict**](#openhands.sdk.llm.message.Message.to_responses_dict) – Serialize message for OpenAI Responses (input parameter).
- [**to_responses_value**](#openhands.sdk.llm.message.Message.to_responses_value) – Return serialized form.

**Attributes:**

- [**cache_enabled**](#openhands.sdk.llm.message.Message.cache_enabled) (<code>[bool](#bool)</code>) –
- [**contains_image**](#openhands.sdk.llm.message.Message.contains_image) (<code>[bool](#bool)</code>) –
- [**content**](#openhands.sdk.llm.message.Message.content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.message.TextContent) | [ImageContent](#openhands.sdk.llm.message.ImageContent)\]</code>) –
- [**force_string_serializer**](#openhands.sdk.llm.message.Message.force_string_serializer) (<code>[bool](#bool)</code>) –
- [**function_calling_enabled**](#openhands.sdk.llm.message.Message.function_calling_enabled) (<code>[bool](#bool)</code>) –
- [**name**](#openhands.sdk.llm.message.Message.name) (<code>[str](#str) | None</code>) –
- [**reasoning_content**](#openhands.sdk.llm.message.Message.reasoning_content) (<code>[str](#str) | None</code>) –
- [**responses_reasoning_item**](#openhands.sdk.llm.message.Message.responses_reasoning_item) (<code>[ReasoningItemModel](#openhands.sdk.llm.message.ReasoningItemModel) | None</code>) –
- [**role**](#openhands.sdk.llm.message.Message.role) (<code>[Literal](#typing.Literal)['user', 'system', 'assistant', 'tool']</code>) –
- [**thinking_blocks**](#openhands.sdk.llm.message.Message.thinking_blocks) (<code>[Sequence](#collections.abc.Sequence)\[[ThinkingBlock](#openhands.sdk.llm.message.ThinkingBlock) | [RedactedThinkingBlock](#openhands.sdk.llm.message.RedactedThinkingBlock)\]</code>) –
- [**tool_call_id**](#openhands.sdk.llm.message.Message.tool_call_id) (<code>[str](#str) | None</code>) –
- [**tool_calls**](#openhands.sdk.llm.message.Message.tool_calls) (<code>[list](#list)\[[MessageToolCall](#openhands.sdk.llm.message.MessageToolCall)\] | None</code>) –
- [**vision_enabled**](#openhands.sdk.llm.message.Message.vision_enabled) (<code>[bool](#bool)</code>) –

###### `openhands.sdk.llm.message.Message.cache_enabled`

```python
cache_enabled: bool = False
```

###### `openhands.sdk.llm.message.Message.contains_image`

```python
contains_image: bool
```

###### `openhands.sdk.llm.message.Message.content`

```python
content: Sequence[TextContent | ImageContent] = Field(default_factory=list)
```

###### `openhands.sdk.llm.message.Message.force_string_serializer`

```python
force_string_serializer: bool = False
```

###### `openhands.sdk.llm.message.Message.from_llm_chat_message`

```python
from_llm_chat_message(message)
```

Convert a LiteLLMMessage (Chat Completions) to our Message class.

Provider-agnostic mapping for reasoning:

- Prefer `message.reasoning_content` if present (LiteLLM normalized field)
- Extract `thinking_blocks` from content array (Anthropic-specific)

###### `openhands.sdk.llm.message.Message.from_llm_responses_output`

```python
from_llm_responses_output(output)
```

Convert OpenAI Responses API output items into a single assistant Message.

Policy (non-stream):

- Collect assistant text by concatenating output_text parts from message items
- Normalize function_call items to MessageToolCall list

###### `openhands.sdk.llm.message.Message.function_calling_enabled`

```python
function_calling_enabled: bool = False
```

###### `openhands.sdk.llm.message.Message.name`

```python
name: str | None = None
```

###### `openhands.sdk.llm.message.Message.reasoning_content`

```python
reasoning_content: str | None = Field(default=None, description='Intermediate reasoning/thinking content from reasoning models')
```

###### `openhands.sdk.llm.message.Message.responses_reasoning_item`

```python
responses_reasoning_item: ReasoningItemModel | None = Field(default=None, description='OpenAI Responses reasoning item from model output')
```

###### `openhands.sdk.llm.message.Message.role`

```python
role: Literal['user', 'system', 'assistant', 'tool']
```

###### `openhands.sdk.llm.message.Message.thinking_blocks`

```python
thinking_blocks: Sequence[ThinkingBlock | RedactedThinkingBlock] = Field(default_factory=list, description='Raw Anthropic thinking blocks for extended thinking feature')
```

###### `openhands.sdk.llm.message.Message.to_chat_dict`

```python
to_chat_dict()
```

Serialize message for OpenAI Chat Completions.

Chooses the appropriate content serializer and then injects threading keys:

- Assistant tool call turn: role == "assistant" and self.tool_calls
- Tool result turn: role == "tool" and self.tool_call_id (with name)

###### `openhands.sdk.llm.message.Message.to_responses_dict`

```python
to_responses_dict(*, vision_enabled)
```

Serialize message for OpenAI Responses (input parameter).

Produces a list of "input" items for the Responses API:

- system: returns [], system content is expected in 'instructions'
- user: one 'message' item with content parts -> input_text / input_image
  (when vision enabled)
- assistant: emits prior assistant content as input_text,
  and function_call items for tool_calls
- tool: emits function_call_output items (one per TextContent)
  with matching call_id

###### `openhands.sdk.llm.message.Message.to_responses_value`

```python
to_responses_value(*, vision_enabled)
```

Return serialized form.

Either an instructions string (for system) or input items (for other roles).

###### `openhands.sdk.llm.message.Message.tool_call_id`

```python
tool_call_id: str | None = None
```

###### `openhands.sdk.llm.message.Message.tool_calls`

```python
tool_calls: list[MessageToolCall] | None = None
```

###### `openhands.sdk.llm.message.Message.vision_enabled`

```python
vision_enabled: bool = False
```

##### `openhands.sdk.llm.message.MessageToolCall`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Transport-agnostic tool call representation.

One canonical id is used for linking across actions/observations and
for Responses function_call_output call_id.

**Functions:**

- [**from_chat_tool_call**](#openhands.sdk.llm.message.MessageToolCall.from_chat_tool_call) – Create a MessageToolCall from a Chat Completions tool call.
- [**from_responses_function_call**](#openhands.sdk.llm.message.MessageToolCall.from_responses_function_call) – Create a MessageToolCall from a typed OpenAI Responses function_call item.
- [**to_chat_dict**](#openhands.sdk.llm.message.MessageToolCall.to_chat_dict) – Serialize to OpenAI Chat Completions tool_calls format.
- [**to_responses_dict**](#openhands.sdk.llm.message.MessageToolCall.to_responses_dict) – Serialize to OpenAI Responses 'function_call' input item format.

**Attributes:**

- [**arguments**](#openhands.sdk.llm.message.MessageToolCall.arguments) (<code>[str](#str)</code>) –
- [**id**](#openhands.sdk.llm.message.MessageToolCall.id) (<code>[str](#str)</code>) –
- [**name**](#openhands.sdk.llm.message.MessageToolCall.name) (<code>[str](#str)</code>) –
- [**origin**](#openhands.sdk.llm.message.MessageToolCall.origin) (<code>[Literal](#typing.Literal)['completion', 'responses']</code>) –

###### `openhands.sdk.llm.message.MessageToolCall.arguments`

```python
arguments: str = Field(..., description='JSON string of arguments')
```

###### `openhands.sdk.llm.message.MessageToolCall.from_chat_tool_call`

```python
from_chat_tool_call(tool_call)
```

Create a MessageToolCall from a Chat Completions tool call.

###### `openhands.sdk.llm.message.MessageToolCall.from_responses_function_call`

```python
from_responses_function_call(item)
```

Create a MessageToolCall from a typed OpenAI Responses function_call item.

Note: OpenAI Responses function_call.arguments is already a JSON string.

###### `openhands.sdk.llm.message.MessageToolCall.id`

```python
id: str = Field(..., description='Canonical tool call id')
```

###### `openhands.sdk.llm.message.MessageToolCall.name`

```python
name: str = Field(..., description='Tool/function name')
```

###### `openhands.sdk.llm.message.MessageToolCall.origin`

```python
origin: Literal['completion', 'responses'] = Field(..., description='Originating API family')
```

###### `openhands.sdk.llm.message.MessageToolCall.to_chat_dict`

```python
to_chat_dict()
```

Serialize to OpenAI Chat Completions tool_calls format.

###### `openhands.sdk.llm.message.MessageToolCall.to_responses_dict`

```python
to_responses_dict()
```

Serialize to OpenAI Responses 'function_call' input item format.

##### `openhands.sdk.llm.message.ReasoningItemModel`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

OpenAI Responses reasoning item (non-stream, subset we consume).

Do not log or render encrypted_content.

**Attributes:**

- [**content**](#openhands.sdk.llm.message.ReasoningItemModel.content) (<code>[list](#list)\[[str](#str)\] | None</code>) –
- [**encrypted_content**](#openhands.sdk.llm.message.ReasoningItemModel.encrypted_content) (<code>[str](#str) | None</code>) –
- [**id**](#openhands.sdk.llm.message.ReasoningItemModel.id) (<code>[str](#str) | None</code>) –
- [**status**](#openhands.sdk.llm.message.ReasoningItemModel.status) (<code>[str](#str) | None</code>) –
- [**summary**](#openhands.sdk.llm.message.ReasoningItemModel.summary) (<code>[list](#list)\[[str](#str)\]</code>) –

###### `openhands.sdk.llm.message.ReasoningItemModel.content`

```python
content: list[str] | None = Field(default=None)
```

###### `openhands.sdk.llm.message.ReasoningItemModel.encrypted_content`

```python
encrypted_content: str | None = Field(default=None)
```

###### `openhands.sdk.llm.message.ReasoningItemModel.id`

```python
id: str | None = Field(default=None)
```

###### `openhands.sdk.llm.message.ReasoningItemModel.status`

```python
status: str | None = Field(default=None)
```

###### `openhands.sdk.llm.message.ReasoningItemModel.summary`

```python
summary: list[str] = Field(default_factory=list)
```

##### `openhands.sdk.llm.message.RedactedThinkingBlock`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Redacted thinking block for previous responses without extended thinking.

This is used as a placeholder for assistant messages that were generated
before extended thinking was enabled.

**Attributes:**

- [**data**](#openhands.sdk.llm.message.RedactedThinkingBlock.data) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.llm.message.RedactedThinkingBlock.type) (<code>[Literal](#typing.Literal)['redacted_thinking']</code>) –

###### `openhands.sdk.llm.message.RedactedThinkingBlock.data`

```python
data: str = Field(..., description='The redacted thinking content')
```

###### `openhands.sdk.llm.message.RedactedThinkingBlock.type`

```python
type: Literal['redacted_thinking'] = 'redacted_thinking'
```

##### `openhands.sdk.llm.message.TextContent`

Bases: <code>[BaseContent](#openhands.sdk.llm.message.BaseContent)</code>

**Functions:**

- [**to_llm_dict**](#openhands.sdk.llm.message.TextContent.to_llm_dict) – Convert to LLM API format.

**Attributes:**

- [**cache_prompt**](#openhands.sdk.llm.message.TextContent.cache_prompt) (<code>[bool](#bool)</code>) –
- [**model_config**](#openhands.sdk.llm.message.TextContent.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**text**](#openhands.sdk.llm.message.TextContent.text) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.llm.message.TextContent.type) (<code>[Literal](#typing.Literal)['text']</code>) –

###### `openhands.sdk.llm.message.TextContent.cache_prompt`

```python
cache_prompt: bool = False
```

###### `openhands.sdk.llm.message.TextContent.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', populate_by_name=True)
```

###### `openhands.sdk.llm.message.TextContent.text`

```python
text: str
```

###### `openhands.sdk.llm.message.TextContent.to_llm_dict`

```python
to_llm_dict()
```

Convert to LLM API format.

###### `openhands.sdk.llm.message.TextContent.type`

```python
type: Literal['text'] = 'text'
```

##### `openhands.sdk.llm.message.ThinkingBlock`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Anthropic thinking block for extended thinking feature.

This represents the raw thinking blocks returned by Anthropic models
when extended thinking is enabled. These blocks must be preserved
and passed back to the API for tool use scenarios.

**Attributes:**

- [**signature**](#openhands.sdk.llm.message.ThinkingBlock.signature) (<code>[str](#str)</code>) –
- [**thinking**](#openhands.sdk.llm.message.ThinkingBlock.thinking) (<code>[str](#str)</code>) –
- [**type**](#openhands.sdk.llm.message.ThinkingBlock.type) (<code>[Literal](#typing.Literal)['thinking']</code>) –

###### `openhands.sdk.llm.message.ThinkingBlock.signature`

```python
signature: str = Field(..., description='Cryptographic signature for the thinking block')
```

###### `openhands.sdk.llm.message.ThinkingBlock.thinking`

```python
thinking: str = Field(..., description='The thinking content')
```

###### `openhands.sdk.llm.message.ThinkingBlock.type`

```python
type: Literal['thinking'] = 'thinking'
```

##### `openhands.sdk.llm.message.content_to_str`

```python
content_to_str(contents)
```

Convert a list of TextContent and ImageContent to a list of strings.

This is primarily used for display purposes.

##### `openhands.sdk.llm.message.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.llm.options`

**Modules:**

- [**chat_options**](#openhands.sdk.llm.options.chat_options) –
- [**common**](#openhands.sdk.llm.options.common) –
- [**responses_options**](#openhands.sdk.llm.options.responses_options) –

##### `openhands.sdk.llm.options.chat_options`

**Functions:**

- [**select_chat_options**](#openhands.sdk.llm.options.chat_options.select_chat_options) – Behavior-preserving extraction of \_normalize_call_kwargs.

###### `openhands.sdk.llm.options.chat_options.select_chat_options`

```python
select_chat_options(llm, user_kwargs, has_tools)
```

Behavior-preserving extraction of \_normalize_call_kwargs.

This keeps the exact provider-aware mappings and precedence.

##### `openhands.sdk.llm.options.common`

**Functions:**

- [**apply_defaults_if_absent**](#openhands.sdk.llm.options.common.apply_defaults_if_absent) – Return a new dict with defaults applied when keys are absent.

###### `openhands.sdk.llm.options.common.apply_defaults_if_absent`

```python
apply_defaults_if_absent(user_kwargs, defaults)
```

Return a new dict with defaults applied when keys are absent.

- Pure and deterministic; does not mutate inputs
- Only applies defaults when the key is missing and default is not None
- Does not alter user-provided values

##### `openhands.sdk.llm.options.responses_options`

**Functions:**

- [**select_responses_options**](#openhands.sdk.llm.options.responses_options.select_responses_options) – Behavior-preserving extraction of \_normalize_responses_kwargs.

###### `openhands.sdk.llm.options.responses_options.select_responses_options`

```python
select_responses_options(llm, user_kwargs, *, include, store)
```

Behavior-preserving extraction of \_normalize_responses_kwargs.

#### `openhands.sdk.llm.router`

**Modules:**

- [**base**](#openhands.sdk.llm.router.base) –

**Classes:**

- [**RouterLLM**](#openhands.sdk.llm.router.RouterLLM) – Base class for multiple LLM acting as a unified LLM.

##### `openhands.sdk.llm.router.RouterLLM`

Bases: <code>[LLM](#openhands.sdk.llm.llm.LLM)</code>

Base class for multiple LLM acting as a unified LLM.
This class provides a foundation for implementing model routing by
inheriting from LLM, allowing routers to work with multiple underlying
LLM models while presenting a unified LLM interface to consumers.
Key features:

- Works with multiple LLMs configured via llms_for_routing
- Delegates all other operations/properties to the selected LLM
- Provides routing interface through select_llm() method

**Functions:**

- [**completion**](#openhands.sdk.llm.router.RouterLLM.completion) – This method intercepts completion calls and routes them to the appropriate
- [**format_messages_for_llm**](#openhands.sdk.llm.router.RouterLLM.format_messages_for_llm) – Formats Message objects for LLM consumption.
- [**format_messages_for_responses**](#openhands.sdk.llm.router.RouterLLM.format_messages_for_responses) – Prepare (instructions, input[]) for the OpenAI Responses API.
- [**get_token_count**](#openhands.sdk.llm.router.RouterLLM.get_token_count) –
- [**is_caching_prompt_active**](#openhands.sdk.llm.router.RouterLLM.is_caching_prompt_active) – Check if prompt caching is supported and enabled for current model.
- [**is_context_window_exceeded_exception**](#openhands.sdk.llm.router.RouterLLM.is_context_window_exceeded_exception) – Check if the exception indicates a context window exceeded error.
- [**load_from_env**](#openhands.sdk.llm.router.RouterLLM.load_from_env) –
- [**load_from_json**](#openhands.sdk.llm.router.RouterLLM.load_from_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.llm.router.RouterLLM.resolve_diff_from_deserialized) – Resolve differences between a deserialized LLM and the current instance.
- [**responses**](#openhands.sdk.llm.router.RouterLLM.responses) – Alternative invocation path using OpenAI Responses API via LiteLLM.
- [**restore_metrics**](#openhands.sdk.llm.router.RouterLLM.restore_metrics) –
- [**select_llm**](#openhands.sdk.llm.router.RouterLLM.select_llm) – Select which LLM to use based on messages and events.
- [**set_placeholder_model**](#openhands.sdk.llm.router.RouterLLM.set_placeholder_model) – Guarantee `model` exists before LLM base validation runs.
- [**uses_responses_api**](#openhands.sdk.llm.router.RouterLLM.uses_responses_api) – Whether this model uses the OpenAI Responses API path.
- [**validate_llms_not_empty**](#openhands.sdk.llm.router.RouterLLM.validate_llms_not_empty) –
- [**vision_is_active**](#openhands.sdk.llm.router.RouterLLM.vision_is_active) –

**Attributes:**

- [**OVERRIDE_ON_SERIALIZE**](#openhands.sdk.llm.router.RouterLLM.OVERRIDE_ON_SERIALIZE) (<code>[tuple](#tuple)\[[str](#str), ...\]</code>) –
- [**active_llm**](#openhands.sdk.llm.router.RouterLLM.active_llm) (<code>[LLM](#openhands.sdk.llm.llm.LLM) | None</code>) –
- [**api_key**](#openhands.sdk.llm.router.RouterLLM.api_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**api_version**](#openhands.sdk.llm.router.RouterLLM.api_version) (<code>[str](#str) | None</code>) –
- [**aws_access_key_id**](#openhands.sdk.llm.router.RouterLLM.aws_access_key_id) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**aws_region_name**](#openhands.sdk.llm.router.RouterLLM.aws_region_name) (<code>[str](#str) | None</code>) –
- [**aws_secret_access_key**](#openhands.sdk.llm.router.RouterLLM.aws_secret_access_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**base_url**](#openhands.sdk.llm.router.RouterLLM.base_url) (<code>[str](#str) | None</code>) –
- [**caching_prompt**](#openhands.sdk.llm.router.RouterLLM.caching_prompt) (<code>[bool](#bool)</code>) –
- [**custom_llm_provider**](#openhands.sdk.llm.router.RouterLLM.custom_llm_provider) (<code>[str](#str) | None</code>) –
- [**custom_tokenizer**](#openhands.sdk.llm.router.RouterLLM.custom_tokenizer) (<code>[str](#str) | None</code>) –
- [**disable_stop_word**](#openhands.sdk.llm.router.RouterLLM.disable_stop_word) (<code>[bool](#bool) | None</code>) –
- [**disable_vision**](#openhands.sdk.llm.router.RouterLLM.disable_vision) (<code>[bool](#bool) | None</code>) –
- [**drop_params**](#openhands.sdk.llm.router.RouterLLM.drop_params) (<code>[bool](#bool)</code>) –
- [**enable_encrypted_reasoning**](#openhands.sdk.llm.router.RouterLLM.enable_encrypted_reasoning) (<code>[bool](#bool)</code>) –
- [**extended_thinking_budget**](#openhands.sdk.llm.router.RouterLLM.extended_thinking_budget) (<code>[int](#int) | None</code>) –
- [**input_cost_per_token**](#openhands.sdk.llm.router.RouterLLM.input_cost_per_token) (<code>[float](#float) | None</code>) –
- [**llms_for_routing**](#openhands.sdk.llm.router.RouterLLM.llms_for_routing) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) –
- [**log_completions**](#openhands.sdk.llm.router.RouterLLM.log_completions) (<code>[bool](#bool)</code>) –
- [**log_completions_folder**](#openhands.sdk.llm.router.RouterLLM.log_completions_folder) (<code>[str](#str)</code>) –
- [**max_input_tokens**](#openhands.sdk.llm.router.RouterLLM.max_input_tokens) (<code>[int](#int) | None</code>) –
- [**max_message_chars**](#openhands.sdk.llm.router.RouterLLM.max_message_chars) (<code>[int](#int)</code>) –
- [**max_output_tokens**](#openhands.sdk.llm.router.RouterLLM.max_output_tokens) (<code>[int](#int) | None</code>) –
- [**metadata**](#openhands.sdk.llm.router.RouterLLM.metadata) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**metrics**](#openhands.sdk.llm.router.RouterLLM.metrics) (<code>[Metrics](#openhands.sdk.llm.utils.metrics.Metrics)</code>) –
- [**model**](#openhands.sdk.llm.router.RouterLLM.model) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.llm.router.RouterLLM.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**model_info**](#openhands.sdk.llm.router.RouterLLM.model_info) (<code>[dict](#dict) | None</code>) – Returns the model info dictionary.
- [**modify_params**](#openhands.sdk.llm.router.RouterLLM.modify_params) (<code>[bool](#bool)</code>) –
- [**native_tool_calling**](#openhands.sdk.llm.router.RouterLLM.native_tool_calling) (<code>[bool](#bool)</code>) –
- [**num_retries**](#openhands.sdk.llm.router.RouterLLM.num_retries) (<code>[int](#int)</code>) –
- [**ollama_base_url**](#openhands.sdk.llm.router.RouterLLM.ollama_base_url) (<code>[str](#str) | None</code>) –
- [**openrouter_app_name**](#openhands.sdk.llm.router.RouterLLM.openrouter_app_name) (<code>[str](#str)</code>) –
- [**openrouter_site_url**](#openhands.sdk.llm.router.RouterLLM.openrouter_site_url) (<code>[str](#str)</code>) –
- [**output_cost_per_token**](#openhands.sdk.llm.router.RouterLLM.output_cost_per_token) (<code>[float](#float) | None</code>) –
- [**reasoning_effort**](#openhands.sdk.llm.router.RouterLLM.reasoning_effort) (<code>[Literal](#typing.Literal)['low', 'medium', 'high', 'none'] | None</code>) –
- [**retry_listener**](#openhands.sdk.llm.router.RouterLLM.retry_listener) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None\]</code>) –
- [**retry_max_wait**](#openhands.sdk.llm.router.RouterLLM.retry_max_wait) (<code>[int](#int)</code>) –
- [**retry_min_wait**](#openhands.sdk.llm.router.RouterLLM.retry_min_wait) (<code>[int](#int)</code>) –
- [**retry_multiplier**](#openhands.sdk.llm.router.RouterLLM.retry_multiplier) (<code>[float](#float)</code>) –
- [**router_name**](#openhands.sdk.llm.router.RouterLLM.router_name) (<code>[str](#str)</code>) –
- [**safety_settings**](#openhands.sdk.llm.router.RouterLLM.safety_settings) (<code>[list](#list)\[[dict](#dict)\[[str](#str), [str](#str)\]\] | None</code>) –
- [**seed**](#openhands.sdk.llm.router.RouterLLM.seed) (<code>[int](#int) | None</code>) –
- [**service_id**](#openhands.sdk.llm.router.RouterLLM.service_id) (<code>[str](#str)</code>) –
- [**temperature**](#openhands.sdk.llm.router.RouterLLM.temperature) (<code>[float](#float) | None</code>) –
- [**timeout**](#openhands.sdk.llm.router.RouterLLM.timeout) (<code>[int](#int) | None</code>) –
- [**top_k**](#openhands.sdk.llm.router.RouterLLM.top_k) (<code>[float](#float) | None</code>) –
- [**top_p**](#openhands.sdk.llm.router.RouterLLM.top_p) (<code>[float](#float) | None</code>) –
- [**usage_id**](#openhands.sdk.llm.router.RouterLLM.usage_id) (<code>[str](#str)</code>) –

###### `openhands.sdk.llm.router.RouterLLM.OVERRIDE_ON_SERIALIZE`

```python
OVERRIDE_ON_SERIALIZE: tuple[str, ...] = ('api_key', 'aws_access_key_id', 'aws_secret_access_key')
```

###### `openhands.sdk.llm.router.RouterLLM.active_llm`

```python
active_llm: LLM | None = Field(default=None, description='Currently selected LLM instance')
```

###### `openhands.sdk.llm.router.RouterLLM.api_key`

```python
api_key: SecretStr | None = Field(default=None, description='API key.')
```

###### `openhands.sdk.llm.router.RouterLLM.api_version`

```python
api_version: str | None = Field(default=None, description='API version (e.g., Azure).')
```

###### `openhands.sdk.llm.router.RouterLLM.aws_access_key_id`

```python
aws_access_key_id: SecretStr | None = Field(default=None)
```

###### `openhands.sdk.llm.router.RouterLLM.aws_region_name`

```python
aws_region_name: str | None = Field(default=None)
```

###### `openhands.sdk.llm.router.RouterLLM.aws_secret_access_key`

```python
aws_secret_access_key: SecretStr | None = Field(default=None)
```

###### `openhands.sdk.llm.router.RouterLLM.base_url`

```python
base_url: str | None = Field(default=None, description='Custom base URL.')
```

###### `openhands.sdk.llm.router.RouterLLM.caching_prompt`

```python
caching_prompt: bool = Field(default=True, description='Enable caching of prompts.')
```

###### `openhands.sdk.llm.router.RouterLLM.completion`

```python
completion(messages, tools=None, return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

This method intercepts completion calls and routes them to the appropriate
underlying LLM based on the routing logic implemented in select_llm().

###### `openhands.sdk.llm.router.RouterLLM.custom_llm_provider`

```python
custom_llm_provider: str | None = Field(default=None)
```

###### `openhands.sdk.llm.router.RouterLLM.custom_tokenizer`

```python
custom_tokenizer: str | None = Field(default=None, description='A custom tokenizer to use for token counting.')
```

###### `openhands.sdk.llm.router.RouterLLM.disable_stop_word`

```python
disable_stop_word: bool | None = Field(default=False, description='Disable using of stop word.')
```

###### `openhands.sdk.llm.router.RouterLLM.disable_vision`

```python
disable_vision: bool | None = Field(default=None, description='If model is vision capable, this option allows to disable image processing (useful for cost reduction).')
```

###### `openhands.sdk.llm.router.RouterLLM.drop_params`

```python
drop_params: bool = Field(default=True)
```

###### `openhands.sdk.llm.router.RouterLLM.enable_encrypted_reasoning`

```python
enable_encrypted_reasoning: bool = Field(default=False, description="If True, ask for ['reasoning.encrypted_content'] in Responses API include.")
```

###### `openhands.sdk.llm.router.RouterLLM.extended_thinking_budget`

```python
extended_thinking_budget: int | None = Field(default=200000, description='The budget tokens for extended thinking, supported by Anthropic models.')
```

###### `openhands.sdk.llm.router.RouterLLM.format_messages_for_llm`

```python
format_messages_for_llm(messages)
```

Formats Message objects for LLM consumption.

###### `openhands.sdk.llm.router.RouterLLM.format_messages_for_responses`

```python
format_messages_for_responses(messages)
```

Prepare (instructions, input[]) for the OpenAI Responses API.

- Skips prompt caching flags and string serializer concerns
- Uses Message.to_responses_value to get either instructions (system)
  or input items (others)
- Concatenates system instructions into a single instructions string

###### `openhands.sdk.llm.router.RouterLLM.get_token_count`

```python
get_token_count(messages)
```

###### `openhands.sdk.llm.router.RouterLLM.input_cost_per_token`

```python
input_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per input token. This will available in logs for user.')
```

###### `openhands.sdk.llm.router.RouterLLM.is_caching_prompt_active`

```python
is_caching_prompt_active()
```

Check if prompt caching is supported and enabled for current model.

**Returns:**

- **boolean** (<code>[bool](#bool)</code>) – True if prompt caching is supported and enabled for the given
  model.

###### `openhands.sdk.llm.router.RouterLLM.is_context_window_exceeded_exception`

```python
is_context_window_exceeded_exception(exception)
```

Check if the exception indicates a context window exceeded error.

Context window exceeded errors vary by provider, and LiteLLM does not do a
consistent job of identifying and wrapping them.

###### `openhands.sdk.llm.router.RouterLLM.llms_for_routing`

```python
llms_for_routing: dict[str, LLM] = Field(default_factory=dict)
```

###### `openhands.sdk.llm.router.RouterLLM.load_from_env`

```python
load_from_env(prefix='LLM_')
```

###### `openhands.sdk.llm.router.RouterLLM.load_from_json`

```python
load_from_json(json_path)
```

###### `openhands.sdk.llm.router.RouterLLM.log_completions`

```python
log_completions: bool = Field(default=False, description='Enable logging of completions.')
```

###### `openhands.sdk.llm.router.RouterLLM.log_completions_folder`

```python
log_completions_folder: str = Field(default=(os.path.join(ENV_LOG_DIR, 'completions')), description='The folder to log LLM completions to. Required if log_completions is True.')
```

###### `openhands.sdk.llm.router.RouterLLM.max_input_tokens`

```python
max_input_tokens: int | None = Field(default=None, ge=1, description='The maximum number of input tokens. Note that this is currently unused, and the value at runtime is actually the total tokens in OpenAI (e.g. 128,000 tokens for GPT-4).')
```

###### `openhands.sdk.llm.router.RouterLLM.max_message_chars`

```python
max_message_chars: int = Field(default=30000, ge=1, description='Approx max chars in each event/content sent to the LLM.')
```

###### `openhands.sdk.llm.router.RouterLLM.max_output_tokens`

```python
max_output_tokens: int | None = Field(default=None, ge=1, description='The maximum number of output tokens. This is sent to the LLM.')
```

###### `openhands.sdk.llm.router.RouterLLM.metadata`

```python
metadata: dict[str, Any] = Field(default_factory=dict, description="Additional metadata for the LLM instance. Example structure: {'trace_version': '1.0.0', 'tags': ['model:gpt-4', 'agent:my-agent'], 'session_id': 'session-123', 'trace_user_id': 'user-456'}")
```

###### `openhands.sdk.llm.router.RouterLLM.metrics`

```python
metrics: Metrics
```

###### `openhands.sdk.llm.router.RouterLLM.model`

```python
model: str = Field(default='claude-sonnet-4-20250514', description='Model name.')
```

###### `openhands.sdk.llm.router.RouterLLM.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', arbitrary_types_allowed=True)
```

###### `openhands.sdk.llm.router.RouterLLM.model_info`

```python
model_info: dict | None
```

Returns the model info dictionary.

###### `openhands.sdk.llm.router.RouterLLM.modify_params`

```python
modify_params: bool = Field(default=True, description='Modify params allows litellm to do transformations like adding a default message, when a message is empty.')
```

###### `openhands.sdk.llm.router.RouterLLM.native_tool_calling`

```python
native_tool_calling: bool = Field(default=True, description='Whether to use native tool calling.')
```

###### `openhands.sdk.llm.router.RouterLLM.num_retries`

```python
num_retries: int = Field(default=5, ge=0)
```

###### `openhands.sdk.llm.router.RouterLLM.ollama_base_url`

```python
ollama_base_url: str | None = Field(default=None)
```

###### `openhands.sdk.llm.router.RouterLLM.openrouter_app_name`

```python
openrouter_app_name: str = Field(default='OpenHands')
```

###### `openhands.sdk.llm.router.RouterLLM.openrouter_site_url`

```python
openrouter_site_url: str = Field(default='https://docs.all-hands.dev/')
```

###### `openhands.sdk.llm.router.RouterLLM.output_cost_per_token`

```python
output_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per output token. This will available in logs for user.')
```

###### `openhands.sdk.llm.router.RouterLLM.reasoning_effort`

```python
reasoning_effort: Literal['low', 'medium', 'high', 'none'] | None = Field(default=None, description="The effort to put into reasoning. This is a string that can be one of 'low', 'medium', 'high', or 'none'. Can apply to all reasoning models.")
```

###### `openhands.sdk.llm.router.RouterLLM.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Resolve differences between a deserialized LLM and the current instance.

This is due to fields like api_key being serialized to "\*\*\*\*" in dumps,
and we want to ensure that when loading from a file, we still use the
runtime-provided api_key in the self instance.

Return a new LLM instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key) taken from `self`.

###### `openhands.sdk.llm.router.RouterLLM.responses`

```python
responses(messages, tools=None, include=None, store=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Alternative invocation path using OpenAI Responses API via LiteLLM.

Maps Message[] -> (instructions, input[]) and returns LLMResponse.
Non-stream only for v1.

###### `openhands.sdk.llm.router.RouterLLM.restore_metrics`

```python
restore_metrics(metrics)
```

###### `openhands.sdk.llm.router.RouterLLM.retry_listener`

```python
retry_listener: SkipJsonSchema[Callable[[int, int], None] | None] = Field(default=None, exclude=True)
```

###### `openhands.sdk.llm.router.RouterLLM.retry_max_wait`

```python
retry_max_wait: int = Field(default=64, ge=0)
```

###### `openhands.sdk.llm.router.RouterLLM.retry_min_wait`

```python
retry_min_wait: int = Field(default=8, ge=0)
```

###### `openhands.sdk.llm.router.RouterLLM.retry_multiplier`

```python
retry_multiplier: float = Field(default=8.0, ge=0)
```

###### `openhands.sdk.llm.router.RouterLLM.router_name`

```python
router_name: str = Field(default='base_router', description='Name of the router')
```

###### `openhands.sdk.llm.router.RouterLLM.safety_settings`

```python
safety_settings: list[dict[str, str]] | None = Field(default=None, description='Safety settings for models that support them (like Mistral AI and Gemini)')
```

###### `openhands.sdk.llm.router.RouterLLM.seed`

```python
seed: int | None = Field(default=None, description='The seed to use for random number generation.')
```

###### `openhands.sdk.llm.router.RouterLLM.select_llm`

```python
select_llm(messages)
```

Select which LLM to use based on messages and events.

This method implements the core routing logic for the RouterLLM.
Subclasses should analyze the provided messages to determine which
LLM from llms_for_routing is most appropriate for handling the request.

**Parameters:**

- **messages** (<code>[list](#list)\[[Message](#openhands.sdk.llm.message.Message)\]</code>) – List of messages in the conversation that can be used
  to inform the routing decision.

**Returns:**

- <code>[str](#str)</code> – The key/name of the LLM to use from llms_for_routing dictionary.

###### `openhands.sdk.llm.router.RouterLLM.service_id`

```python
service_id: str
```

###### `openhands.sdk.llm.router.RouterLLM.set_placeholder_model`

```python
set_placeholder_model(data)
```

Guarantee `model` exists before LLM base validation runs.

###### `openhands.sdk.llm.router.RouterLLM.temperature`

```python
temperature: float | None = Field(default=0.0, ge=0)
```

###### `openhands.sdk.llm.router.RouterLLM.timeout`

```python
timeout: int | None = Field(default=None, ge=0, description='HTTP timeout (s).')
```

###### `openhands.sdk.llm.router.RouterLLM.top_k`

```python
top_k: float | None = Field(default=None, ge=0)
```

###### `openhands.sdk.llm.router.RouterLLM.top_p`

```python
top_p: float | None = Field(default=1.0, ge=0, le=1)
```

###### `openhands.sdk.llm.router.RouterLLM.usage_id`

```python
usage_id: str = Field(default='default', validation_alias=(AliasChoices('usage_id', 'service_id')), serialization_alias='usage_id', description='Unique usage identifier for the LLM. Used for registry lookups, telemetry, and spend tracking.')
```

###### `openhands.sdk.llm.router.RouterLLM.uses_responses_api`

```python
uses_responses_api()
```

Whether this model uses the OpenAI Responses API path.

###### `openhands.sdk.llm.router.RouterLLM.validate_llms_not_empty`

```python
validate_llms_not_empty(v)
```

###### `openhands.sdk.llm.router.RouterLLM.vision_is_active`

```python
vision_is_active()
```

##### `openhands.sdk.llm.router.base`

**Classes:**

- [**RouterLLM**](#openhands.sdk.llm.router.base.RouterLLM) – Base class for multiple LLM acting as a unified LLM.

**Attributes:**

- [**logger**](#openhands.sdk.llm.router.base.logger) –

###### `openhands.sdk.llm.router.base.RouterLLM`

Bases: <code>[LLM](#openhands.sdk.llm.llm.LLM)</code>

Base class for multiple LLM acting as a unified LLM.
This class provides a foundation for implementing model routing by
inheriting from LLM, allowing routers to work with multiple underlying
LLM models while presenting a unified LLM interface to consumers.
Key features:

- Works with multiple LLMs configured via llms_for_routing
- Delegates all other operations/properties to the selected LLM
- Provides routing interface through select_llm() method

**Functions:**

- [**completion**](#openhands.sdk.llm.router.base.RouterLLM.completion) – This method intercepts completion calls and routes them to the appropriate
- [**format_messages_for_llm**](#openhands.sdk.llm.router.base.RouterLLM.format_messages_for_llm) – Formats Message objects for LLM consumption.
- [**format_messages_for_responses**](#openhands.sdk.llm.router.base.RouterLLM.format_messages_for_responses) – Prepare (instructions, input[]) for the OpenAI Responses API.
- [**get_token_count**](#openhands.sdk.llm.router.base.RouterLLM.get_token_count) –
- [**is_caching_prompt_active**](#openhands.sdk.llm.router.base.RouterLLM.is_caching_prompt_active) – Check if prompt caching is supported and enabled for current model.
- [**is_context_window_exceeded_exception**](#openhands.sdk.llm.router.base.RouterLLM.is_context_window_exceeded_exception) – Check if the exception indicates a context window exceeded error.
- [**load_from_env**](#openhands.sdk.llm.router.base.RouterLLM.load_from_env) –
- [**load_from_json**](#openhands.sdk.llm.router.base.RouterLLM.load_from_json) –
- [**resolve_diff_from_deserialized**](#openhands.sdk.llm.router.base.RouterLLM.resolve_diff_from_deserialized) – Resolve differences between a deserialized LLM and the current instance.
- [**responses**](#openhands.sdk.llm.router.base.RouterLLM.responses) – Alternative invocation path using OpenAI Responses API via LiteLLM.
- [**restore_metrics**](#openhands.sdk.llm.router.base.RouterLLM.restore_metrics) –
- [**select_llm**](#openhands.sdk.llm.router.base.RouterLLM.select_llm) – Select which LLM to use based on messages and events.
- [**set_placeholder_model**](#openhands.sdk.llm.router.base.RouterLLM.set_placeholder_model) – Guarantee `model` exists before LLM base validation runs.
- [**uses_responses_api**](#openhands.sdk.llm.router.base.RouterLLM.uses_responses_api) – Whether this model uses the OpenAI Responses API path.
- [**validate_llms_not_empty**](#openhands.sdk.llm.router.base.RouterLLM.validate_llms_not_empty) –
- [**vision_is_active**](#openhands.sdk.llm.router.base.RouterLLM.vision_is_active) –

**Attributes:**

- [**OVERRIDE_ON_SERIALIZE**](#openhands.sdk.llm.router.base.RouterLLM.OVERRIDE_ON_SERIALIZE) (<code>[tuple](#tuple)\[[str](#str), ...\]</code>) –
- [**active_llm**](#openhands.sdk.llm.router.base.RouterLLM.active_llm) (<code>[LLM](#openhands.sdk.llm.llm.LLM) | None</code>) –
- [**api_key**](#openhands.sdk.llm.router.base.RouterLLM.api_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**api_version**](#openhands.sdk.llm.router.base.RouterLLM.api_version) (<code>[str](#str) | None</code>) –
- [**aws_access_key_id**](#openhands.sdk.llm.router.base.RouterLLM.aws_access_key_id) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**aws_region_name**](#openhands.sdk.llm.router.base.RouterLLM.aws_region_name) (<code>[str](#str) | None</code>) –
- [**aws_secret_access_key**](#openhands.sdk.llm.router.base.RouterLLM.aws_secret_access_key) (<code>[SecretStr](#pydantic.SecretStr) | None</code>) –
- [**base_url**](#openhands.sdk.llm.router.base.RouterLLM.base_url) (<code>[str](#str) | None</code>) –
- [**caching_prompt**](#openhands.sdk.llm.router.base.RouterLLM.caching_prompt) (<code>[bool](#bool)</code>) –
- [**custom_llm_provider**](#openhands.sdk.llm.router.base.RouterLLM.custom_llm_provider) (<code>[str](#str) | None</code>) –
- [**custom_tokenizer**](#openhands.sdk.llm.router.base.RouterLLM.custom_tokenizer) (<code>[str](#str) | None</code>) –
- [**disable_stop_word**](#openhands.sdk.llm.router.base.RouterLLM.disable_stop_word) (<code>[bool](#bool) | None</code>) –
- [**disable_vision**](#openhands.sdk.llm.router.base.RouterLLM.disable_vision) (<code>[bool](#bool) | None</code>) –
- [**drop_params**](#openhands.sdk.llm.router.base.RouterLLM.drop_params) (<code>[bool](#bool)</code>) –
- [**enable_encrypted_reasoning**](#openhands.sdk.llm.router.base.RouterLLM.enable_encrypted_reasoning) (<code>[bool](#bool)</code>) –
- [**extended_thinking_budget**](#openhands.sdk.llm.router.base.RouterLLM.extended_thinking_budget) (<code>[int](#int) | None</code>) –
- [**input_cost_per_token**](#openhands.sdk.llm.router.base.RouterLLM.input_cost_per_token) (<code>[float](#float) | None</code>) –
- [**llms_for_routing**](#openhands.sdk.llm.router.base.RouterLLM.llms_for_routing) (<code>[dict](#dict)\[[str](#str), [LLM](#openhands.sdk.llm.llm.LLM)\]</code>) –
- [**log_completions**](#openhands.sdk.llm.router.base.RouterLLM.log_completions) (<code>[bool](#bool)</code>) –
- [**log_completions_folder**](#openhands.sdk.llm.router.base.RouterLLM.log_completions_folder) (<code>[str](#str)</code>) –
- [**max_input_tokens**](#openhands.sdk.llm.router.base.RouterLLM.max_input_tokens) (<code>[int](#int) | None</code>) –
- [**max_message_chars**](#openhands.sdk.llm.router.base.RouterLLM.max_message_chars) (<code>[int](#int)</code>) –
- [**max_output_tokens**](#openhands.sdk.llm.router.base.RouterLLM.max_output_tokens) (<code>[int](#int) | None</code>) –
- [**metadata**](#openhands.sdk.llm.router.base.RouterLLM.metadata) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**metrics**](#openhands.sdk.llm.router.base.RouterLLM.metrics) (<code>[Metrics](#openhands.sdk.llm.utils.metrics.Metrics)</code>) –
- [**model**](#openhands.sdk.llm.router.base.RouterLLM.model) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.llm.router.base.RouterLLM.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**model_info**](#openhands.sdk.llm.router.base.RouterLLM.model_info) (<code>[dict](#dict) | None</code>) – Returns the model info dictionary.
- [**modify_params**](#openhands.sdk.llm.router.base.RouterLLM.modify_params) (<code>[bool](#bool)</code>) –
- [**native_tool_calling**](#openhands.sdk.llm.router.base.RouterLLM.native_tool_calling) (<code>[bool](#bool)</code>) –
- [**num_retries**](#openhands.sdk.llm.router.base.RouterLLM.num_retries) (<code>[int](#int)</code>) –
- [**ollama_base_url**](#openhands.sdk.llm.router.base.RouterLLM.ollama_base_url) (<code>[str](#str) | None</code>) –
- [**openrouter_app_name**](#openhands.sdk.llm.router.base.RouterLLM.openrouter_app_name) (<code>[str](#str)</code>) –
- [**openrouter_site_url**](#openhands.sdk.llm.router.base.RouterLLM.openrouter_site_url) (<code>[str](#str)</code>) –
- [**output_cost_per_token**](#openhands.sdk.llm.router.base.RouterLLM.output_cost_per_token) (<code>[float](#float) | None</code>) –
- [**reasoning_effort**](#openhands.sdk.llm.router.base.RouterLLM.reasoning_effort) (<code>[Literal](#typing.Literal)['low', 'medium', 'high', 'none'] | None</code>) –
- [**retry_listener**](#openhands.sdk.llm.router.base.RouterLLM.retry_listener) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[Callable](#collections.abc.Callable)\[\[[int](#int), [int](#int)\], None\] | None\]</code>) –
- [**retry_max_wait**](#openhands.sdk.llm.router.base.RouterLLM.retry_max_wait) (<code>[int](#int)</code>) –
- [**retry_min_wait**](#openhands.sdk.llm.router.base.RouterLLM.retry_min_wait) (<code>[int](#int)</code>) –
- [**retry_multiplier**](#openhands.sdk.llm.router.base.RouterLLM.retry_multiplier) (<code>[float](#float)</code>) –
- [**router_name**](#openhands.sdk.llm.router.base.RouterLLM.router_name) (<code>[str](#str)</code>) –
- [**safety_settings**](#openhands.sdk.llm.router.base.RouterLLM.safety_settings) (<code>[list](#list)\[[dict](#dict)\[[str](#str), [str](#str)\]\] | None</code>) –
- [**seed**](#openhands.sdk.llm.router.base.RouterLLM.seed) (<code>[int](#int) | None</code>) –
- [**service_id**](#openhands.sdk.llm.router.base.RouterLLM.service_id) (<code>[str](#str)</code>) –
- [**temperature**](#openhands.sdk.llm.router.base.RouterLLM.temperature) (<code>[float](#float) | None</code>) –
- [**timeout**](#openhands.sdk.llm.router.base.RouterLLM.timeout) (<code>[int](#int) | None</code>) –
- [**top_k**](#openhands.sdk.llm.router.base.RouterLLM.top_k) (<code>[float](#float) | None</code>) –
- [**top_p**](#openhands.sdk.llm.router.base.RouterLLM.top_p) (<code>[float](#float) | None</code>) –
- [**usage_id**](#openhands.sdk.llm.router.base.RouterLLM.usage_id) (<code>[str](#str)</code>) –

####### `openhands.sdk.llm.router.base.RouterLLM.OVERRIDE_ON_SERIALIZE`

```python
OVERRIDE_ON_SERIALIZE: tuple[str, ...] = ('api_key', 'aws_access_key_id', 'aws_secret_access_key')
```

####### `openhands.sdk.llm.router.base.RouterLLM.active_llm`

```python
active_llm: LLM | None = Field(default=None, description='Currently selected LLM instance')
```

####### `openhands.sdk.llm.router.base.RouterLLM.api_key`

```python
api_key: SecretStr | None = Field(default=None, description='API key.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.api_version`

```python
api_version: str | None = Field(default=None, description='API version (e.g., Azure).')
```

####### `openhands.sdk.llm.router.base.RouterLLM.aws_access_key_id`

```python
aws_access_key_id: SecretStr | None = Field(default=None)
```

####### `openhands.sdk.llm.router.base.RouterLLM.aws_region_name`

```python
aws_region_name: str | None = Field(default=None)
```

####### `openhands.sdk.llm.router.base.RouterLLM.aws_secret_access_key`

```python
aws_secret_access_key: SecretStr | None = Field(default=None)
```

####### `openhands.sdk.llm.router.base.RouterLLM.base_url`

```python
base_url: str | None = Field(default=None, description='Custom base URL.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.caching_prompt`

```python
caching_prompt: bool = Field(default=True, description='Enable caching of prompts.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.completion`

```python
completion(messages, tools=None, return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

This method intercepts completion calls and routes them to the appropriate
underlying LLM based on the routing logic implemented in select_llm().

####### `openhands.sdk.llm.router.base.RouterLLM.custom_llm_provider`

```python
custom_llm_provider: str | None = Field(default=None)
```

####### `openhands.sdk.llm.router.base.RouterLLM.custom_tokenizer`

```python
custom_tokenizer: str | None = Field(default=None, description='A custom tokenizer to use for token counting.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.disable_stop_word`

```python
disable_stop_word: bool | None = Field(default=False, description='Disable using of stop word.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.disable_vision`

```python
disable_vision: bool | None = Field(default=None, description='If model is vision capable, this option allows to disable image processing (useful for cost reduction).')
```

####### `openhands.sdk.llm.router.base.RouterLLM.drop_params`

```python
drop_params: bool = Field(default=True)
```

####### `openhands.sdk.llm.router.base.RouterLLM.enable_encrypted_reasoning`

```python
enable_encrypted_reasoning: bool = Field(default=False, description="If True, ask for ['reasoning.encrypted_content'] in Responses API include.")
```

####### `openhands.sdk.llm.router.base.RouterLLM.extended_thinking_budget`

```python
extended_thinking_budget: int | None = Field(default=200000, description='The budget tokens for extended thinking, supported by Anthropic models.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.format_messages_for_llm`

```python
format_messages_for_llm(messages)
```

Formats Message objects for LLM consumption.

####### `openhands.sdk.llm.router.base.RouterLLM.format_messages_for_responses`

```python
format_messages_for_responses(messages)
```

Prepare (instructions, input[]) for the OpenAI Responses API.

- Skips prompt caching flags and string serializer concerns
- Uses Message.to_responses_value to get either instructions (system)
  or input items (others)
- Concatenates system instructions into a single instructions string

####### `openhands.sdk.llm.router.base.RouterLLM.get_token_count`

```python
get_token_count(messages)
```

####### `openhands.sdk.llm.router.base.RouterLLM.input_cost_per_token`

```python
input_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per input token. This will available in logs for user.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.is_caching_prompt_active`

```python
is_caching_prompt_active()
```

Check if prompt caching is supported and enabled for current model.

**Returns:**

- **boolean** (<code>[bool](#bool)</code>) – True if prompt caching is supported and enabled for the given
  model.

####### `openhands.sdk.llm.router.base.RouterLLM.is_context_window_exceeded_exception`

```python
is_context_window_exceeded_exception(exception)
```

Check if the exception indicates a context window exceeded error.

Context window exceeded errors vary by provider, and LiteLLM does not do a
consistent job of identifying and wrapping them.

####### `openhands.sdk.llm.router.base.RouterLLM.llms_for_routing`

```python
llms_for_routing: dict[str, LLM] = Field(default_factory=dict)
```

####### `openhands.sdk.llm.router.base.RouterLLM.load_from_env`

```python
load_from_env(prefix='LLM_')
```

####### `openhands.sdk.llm.router.base.RouterLLM.load_from_json`

```python
load_from_json(json_path)
```

####### `openhands.sdk.llm.router.base.RouterLLM.log_completions`

```python
log_completions: bool = Field(default=False, description='Enable logging of completions.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.log_completions_folder`

```python
log_completions_folder: str = Field(default=(os.path.join(ENV_LOG_DIR, 'completions')), description='The folder to log LLM completions to. Required if log_completions is True.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.max_input_tokens`

```python
max_input_tokens: int | None = Field(default=None, ge=1, description='The maximum number of input tokens. Note that this is currently unused, and the value at runtime is actually the total tokens in OpenAI (e.g. 128,000 tokens for GPT-4).')
```

####### `openhands.sdk.llm.router.base.RouterLLM.max_message_chars`

```python
max_message_chars: int = Field(default=30000, ge=1, description='Approx max chars in each event/content sent to the LLM.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.max_output_tokens`

```python
max_output_tokens: int | None = Field(default=None, ge=1, description='The maximum number of output tokens. This is sent to the LLM.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.metadata`

```python
metadata: dict[str, Any] = Field(default_factory=dict, description="Additional metadata for the LLM instance. Example structure: {'trace_version': '1.0.0', 'tags': ['model:gpt-4', 'agent:my-agent'], 'session_id': 'session-123', 'trace_user_id': 'user-456'}")
```

####### `openhands.sdk.llm.router.base.RouterLLM.metrics`

```python
metrics: Metrics
```

####### `openhands.sdk.llm.router.base.RouterLLM.model`

```python
model: str = Field(default='claude-sonnet-4-20250514', description='Model name.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', arbitrary_types_allowed=True)
```

####### `openhands.sdk.llm.router.base.RouterLLM.model_info`

```python
model_info: dict | None
```

Returns the model info dictionary.

####### `openhands.sdk.llm.router.base.RouterLLM.modify_params`

```python
modify_params: bool = Field(default=True, description='Modify params allows litellm to do transformations like adding a default message, when a message is empty.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.native_tool_calling`

```python
native_tool_calling: bool = Field(default=True, description='Whether to use native tool calling.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.num_retries`

```python
num_retries: int = Field(default=5, ge=0)
```

####### `openhands.sdk.llm.router.base.RouterLLM.ollama_base_url`

```python
ollama_base_url: str | None = Field(default=None)
```

####### `openhands.sdk.llm.router.base.RouterLLM.openrouter_app_name`

```python
openrouter_app_name: str = Field(default='OpenHands')
```

####### `openhands.sdk.llm.router.base.RouterLLM.openrouter_site_url`

```python
openrouter_site_url: str = Field(default='https://docs.all-hands.dev/')
```

####### `openhands.sdk.llm.router.base.RouterLLM.output_cost_per_token`

```python
output_cost_per_token: float | None = Field(default=None, ge=0, description='The cost per output token. This will available in logs for user.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.reasoning_effort`

```python
reasoning_effort: Literal['low', 'medium', 'high', 'none'] | None = Field(default=None, description="The effort to put into reasoning. This is a string that can be one of 'low', 'medium', 'high', or 'none'. Can apply to all reasoning models.")
```

####### `openhands.sdk.llm.router.base.RouterLLM.resolve_diff_from_deserialized`

```python
resolve_diff_from_deserialized(persisted)
```

Resolve differences between a deserialized LLM and the current instance.

This is due to fields like api_key being serialized to "\*\*\*\*" in dumps,
and we want to ensure that when loading from a file, we still use the
runtime-provided api_key in the self instance.

Return a new LLM instance equivalent to `persisted` but with
explicitly whitelisted fields (e.g. api_key) taken from `self`.

####### `openhands.sdk.llm.router.base.RouterLLM.responses`

```python
responses(messages, tools=None, include=None, store=None, _return_metrics=False, add_security_risk_prediction=False, **kwargs)
```

Alternative invocation path using OpenAI Responses API via LiteLLM.

Maps Message[] -> (instructions, input[]) and returns LLMResponse.
Non-stream only for v1.

####### `openhands.sdk.llm.router.base.RouterLLM.restore_metrics`

```python
restore_metrics(metrics)
```

####### `openhands.sdk.llm.router.base.RouterLLM.retry_listener`

```python
retry_listener: SkipJsonSchema[Callable[[int, int], None] | None] = Field(default=None, exclude=True)
```

####### `openhands.sdk.llm.router.base.RouterLLM.retry_max_wait`

```python
retry_max_wait: int = Field(default=64, ge=0)
```

####### `openhands.sdk.llm.router.base.RouterLLM.retry_min_wait`

```python
retry_min_wait: int = Field(default=8, ge=0)
```

####### `openhands.sdk.llm.router.base.RouterLLM.retry_multiplier`

```python
retry_multiplier: float = Field(default=8.0, ge=0)
```

####### `openhands.sdk.llm.router.base.RouterLLM.router_name`

```python
router_name: str = Field(default='base_router', description='Name of the router')
```

####### `openhands.sdk.llm.router.base.RouterLLM.safety_settings`

```python
safety_settings: list[dict[str, str]] | None = Field(default=None, description='Safety settings for models that support them (like Mistral AI and Gemini)')
```

####### `openhands.sdk.llm.router.base.RouterLLM.seed`

```python
seed: int | None = Field(default=None, description='The seed to use for random number generation.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.select_llm`

```python
select_llm(messages)
```

Select which LLM to use based on messages and events.

This method implements the core routing logic for the RouterLLM.
Subclasses should analyze the provided messages to determine which
LLM from llms_for_routing is most appropriate for handling the request.

**Parameters:**

- **messages** (<code>[list](#list)\[[Message](#openhands.sdk.llm.message.Message)\]</code>) – List of messages in the conversation that can be used
  to inform the routing decision.

**Returns:**

- <code>[str](#str)</code> – The key/name of the LLM to use from llms_for_routing dictionary.

####### `openhands.sdk.llm.router.base.RouterLLM.service_id`

```python
service_id: str
```

####### `openhands.sdk.llm.router.base.RouterLLM.set_placeholder_model`

```python
set_placeholder_model(data)
```

Guarantee `model` exists before LLM base validation runs.

####### `openhands.sdk.llm.router.base.RouterLLM.temperature`

```python
temperature: float | None = Field(default=0.0, ge=0)
```

####### `openhands.sdk.llm.router.base.RouterLLM.timeout`

```python
timeout: int | None = Field(default=None, ge=0, description='HTTP timeout (s).')
```

####### `openhands.sdk.llm.router.base.RouterLLM.top_k`

```python
top_k: float | None = Field(default=None, ge=0)
```

####### `openhands.sdk.llm.router.base.RouterLLM.top_p`

```python
top_p: float | None = Field(default=1.0, ge=0, le=1)
```

####### `openhands.sdk.llm.router.base.RouterLLM.usage_id`

```python
usage_id: str = Field(default='default', validation_alias=(AliasChoices('usage_id', 'service_id')), serialization_alias='usage_id', description='Unique usage identifier for the LLM. Used for registry lookups, telemetry, and spend tracking.')
```

####### `openhands.sdk.llm.router.base.RouterLLM.uses_responses_api`

```python
uses_responses_api()
```

Whether this model uses the OpenAI Responses API path.

####### `openhands.sdk.llm.router.base.RouterLLM.validate_llms_not_empty`

```python
validate_llms_not_empty(v)
```

####### `openhands.sdk.llm.router.base.RouterLLM.vision_is_active`

```python
vision_is_active()
```

###### `openhands.sdk.llm.router.base.logger`

```python
logger = get_logger(__name__)
```

### `openhands.sdk.logger`

**Modules:**

- [**logger**](#openhands.sdk.logger.logger) – Minimal logger setup that encourages per-module loggers,
- [**rolling**](#openhands.sdk.logger.rolling) –

**Functions:**

- [**get_logger**](#openhands.sdk.logger.get_logger) – Return a logger for the given module name.
- [**rolling_log_view**](#openhands.sdk.logger.rolling_log_view) – Temporarily attach a rolling view handler that renders the last N log lines.
- [**setup_logging**](#openhands.sdk.logger.setup_logging) – Configure the root logger. All child loggers inherit this setup.

**Attributes:**

- [**DEBUG**](#openhands.sdk.logger.DEBUG) –
- [**ENV_JSON**](#openhands.sdk.logger.ENV_JSON) –
- [**ENV_LOG_DIR**](#openhands.sdk.logger.ENV_LOG_DIR) –
- [**ENV_LOG_LEVEL**](#openhands.sdk.logger.ENV_LOG_LEVEL) –
- [**IN_CI**](#openhands.sdk.logger.IN_CI) –

#### `openhands.sdk.logger.DEBUG`

```python
DEBUG = os.environ.get('DEBUG', 'false').lower() in {'1', 'true', 'yes'}
```

#### `openhands.sdk.logger.ENV_JSON`

```python
ENV_JSON = os.getenv('LOG_JSON', 'false').lower() in {'1', 'true', 'yes'}
```

#### `openhands.sdk.logger.ENV_LOG_DIR`

```python
ENV_LOG_DIR = os.getenv('LOG_DIR', 'logs')
```

#### `openhands.sdk.logger.ENV_LOG_LEVEL`

```python
ENV_LOG_LEVEL = LEVEL_MAP.get(ENV_LOG_LEVEL_STR, logging.INFO)
```

#### `openhands.sdk.logger.IN_CI`

```python
IN_CI = os.getenv('CI', 'false').lower() in {'1', 'true', 'yes'} or bool(os.environ.get('GITHUB_ACTIONS'))
```

#### `openhands.sdk.logger.get_logger`

```python
get_logger(name)
```

Return a logger for the given module name.

#### `openhands.sdk.logger.logger`

Minimal logger setup that encourages per-module loggers,
with Rich for humans and JSON for machines.

<details class="usage" open markdown="1">
<summary>Usage</summary>

from openhands.sdk.logger import get_logger
logger = get_logger(__name__)
logger.info("Hello from this module!")

</details>

**Functions:**

- [**disable_logger**](#openhands.sdk.logger.logger.disable_logger) – Disable or quiet down a specific logger by name.
- [**get_logger**](#openhands.sdk.logger.logger.get_logger) – Return a logger for the given module name.
- [**setup_logging**](#openhands.sdk.logger.logger.setup_logging) – Configure the root logger. All child loggers inherit this setup.

**Attributes:**

- [**DEBUG**](#openhands.sdk.logger.logger.DEBUG) –
- [**ENV_AUTO_CONFIG**](#openhands.sdk.logger.logger.ENV_AUTO_CONFIG) –
- [**ENV_BACKUP_COUNT**](#openhands.sdk.logger.logger.ENV_BACKUP_COUNT) –
- [**ENV_DEBUG_LLM**](#openhands.sdk.logger.logger.ENV_DEBUG_LLM) –
- [**ENV_JSON**](#openhands.sdk.logger.logger.ENV_JSON) –
- [**ENV_LOG_DIR**](#openhands.sdk.logger.logger.ENV_LOG_DIR) –
- [**ENV_LOG_LEVEL**](#openhands.sdk.logger.logger.ENV_LOG_LEVEL) –
- [**ENV_LOG_LEVEL_STR**](#openhands.sdk.logger.logger.ENV_LOG_LEVEL_STR) –
- [**ENV_LOG_TO_FILE**](#openhands.sdk.logger.logger.ENV_LOG_TO_FILE) –
- [**ENV_RICH_TRACEBACKS**](#openhands.sdk.logger.logger.ENV_RICH_TRACEBACKS) –
- [**ENV_ROTATE_WHEN**](#openhands.sdk.logger.logger.ENV_ROTATE_WHEN) –
- [**IN_CI**](#openhands.sdk.logger.logger.IN_CI) –
- [**LEVEL_MAP**](#openhands.sdk.logger.logger.LEVEL_MAP) –
- [**confirmation**](#openhands.sdk.logger.logger.confirmation) –

##### `openhands.sdk.logger.logger.DEBUG`

```python
DEBUG = os.environ.get('DEBUG', 'false').lower() in {'1', 'true', 'yes'}
```

##### `openhands.sdk.logger.logger.ENV_AUTO_CONFIG`

```python
ENV_AUTO_CONFIG = os.getenv('LOG_AUTO_CONFIG', 'true').lower() in {'1', 'true', 'yes'}
```

##### `openhands.sdk.logger.logger.ENV_BACKUP_COUNT`

```python
ENV_BACKUP_COUNT = int(os.getenv('LOG_BACKUP_COUNT', '7'))
```

##### `openhands.sdk.logger.logger.ENV_DEBUG_LLM`

```python
ENV_DEBUG_LLM = os.getenv('DEBUG_LLM', 'false').lower() in {'1', 'true', 'yes'}
```

##### `openhands.sdk.logger.logger.ENV_JSON`

```python
ENV_JSON = os.getenv('LOG_JSON', 'false').lower() in {'1', 'true', 'yes'}
```

##### `openhands.sdk.logger.logger.ENV_LOG_DIR`

```python
ENV_LOG_DIR = os.getenv('LOG_DIR', 'logs')
```

##### `openhands.sdk.logger.logger.ENV_LOG_LEVEL`

```python
ENV_LOG_LEVEL = LEVEL_MAP.get(ENV_LOG_LEVEL_STR, logging.INFO)
```

##### `openhands.sdk.logger.logger.ENV_LOG_LEVEL_STR`

```python
ENV_LOG_LEVEL_STR = os.getenv('LOG_LEVEL', 'INFO').upper()
```

##### `openhands.sdk.logger.logger.ENV_LOG_TO_FILE`

```python
ENV_LOG_TO_FILE = os.getenv('LOG_TO_FILE', 'false').lower() in {'1', 'true', 'yes'}
```

##### `openhands.sdk.logger.logger.ENV_RICH_TRACEBACKS`

```python
ENV_RICH_TRACEBACKS = os.getenv('LOG_RICH_TRACEBACKS', 'true').lower() in {'1', 'true', 'yes'}
```

##### `openhands.sdk.logger.logger.ENV_ROTATE_WHEN`

```python
ENV_ROTATE_WHEN = os.getenv('LOG_ROTATE_WHEN', 'midnight')
```

##### `openhands.sdk.logger.logger.IN_CI`

```python
IN_CI = os.getenv('CI', 'false').lower() in {'1', 'true', 'yes'} or bool(os.environ.get('GITHUB_ACTIONS'))
```

##### `openhands.sdk.logger.logger.LEVEL_MAP`

```python
LEVEL_MAP = logging.getLevelNamesMapping() if hasattr(logging, 'getLevelNamesMapping') else logging._nameToLevel
```

##### `openhands.sdk.logger.logger.confirmation`

```python
confirmation = input("\n⚠️ WARNING: You are enabling DEBUG_LLM which may expose sensitive information like API keys.\nThis should NEVER be enabled in production.\nType 'y' to confirm you understand the risks: ")
```

##### `openhands.sdk.logger.logger.disable_logger`

```python
disable_logger(name, level=logging.CRITICAL)
```

Disable or quiet down a specific logger by name.

##### `openhands.sdk.logger.logger.get_logger`

```python
get_logger(name)
```

Return a logger for the given module name.

##### `openhands.sdk.logger.logger.setup_logging`

```python
setup_logging(level=None, log_to_file=None, log_dir=None, fmt=None, when=None, backup_count=None)
```

Configure the root logger. All child loggers inherit this setup.

#### `openhands.sdk.logger.rolling`

**Functions:**

- [**rolling_log_view**](#openhands.sdk.logger.rolling.rolling_log_view) – Temporarily attach a rolling view handler that renders the last N log lines.

**Attributes:**

- [**RenderFnType**](#openhands.sdk.logger.rolling.RenderFnType) –

##### `openhands.sdk.logger.rolling.RenderFnType`

```python
RenderFnType = Callable[[], str]
```

##### `openhands.sdk.logger.rolling.rolling_log_view`

```python
rolling_log_view(logger, max_lines=60, level=logging.INFO, propagate=False, header=None, footer=None, *, json_flush_level=None)
```

Temporarily attach a rolling view handler that renders the last N log lines.

- Local TTY & not CI & not JSON: pretty, live-updating view (Rich.Live)
- CI / non-TTY: plain line-by-line (no terminal control)
- JSON mode: buffer only; on exit emit ONE large log record with the full snapshot.

#### `openhands.sdk.logger.rolling_log_view`

```python
rolling_log_view(logger, max_lines=60, level=logging.INFO, propagate=False, header=None, footer=None, *, json_flush_level=None)
```

Temporarily attach a rolling view handler that renders the last N log lines.

- Local TTY & not CI & not JSON: pretty, live-updating view (Rich.Live)
- CI / non-TTY: plain line-by-line (no terminal control)
- JSON mode: buffer only; on exit emit ONE large log record with the full snapshot.

#### `openhands.sdk.logger.setup_logging`

```python
setup_logging(level=None, log_to_file=None, log_dir=None, fmt=None, when=None, backup_count=None)
```

Configure the root logger. All child loggers inherit this setup.

### `openhands.sdk.mcp`

MCP (Model Context Protocol) integration for agent-sdk.

**Modules:**

- [**client**](#openhands.sdk.mcp.client) – Minimal sync helpers on top of fastmcp.Client, preserving original behavior.
- [**definition**](#openhands.sdk.mcp.definition) – MCPTool definition and implementation.
- [**tool**](#openhands.sdk.mcp.tool) – Utility functions for MCP integration.
- [**utils**](#openhands.sdk.mcp.utils) – Utility functions for MCP integration.

**Classes:**

- [**MCPClient**](#openhands.sdk.mcp.MCPClient) – Behaves exactly like fastmcp.Client (same constructor & async API),
- [**MCPToolAction**](#openhands.sdk.mcp.MCPToolAction) – Schema for MCP input action.
- [**MCPToolDefinition**](#openhands.sdk.mcp.MCPToolDefinition) – MCP Tool that wraps an MCP client and provides tool functionality.
- [**MCPToolExecutor**](#openhands.sdk.mcp.MCPToolExecutor) – Executor for MCP tools.
- [**MCPToolObservation**](#openhands.sdk.mcp.MCPToolObservation) – Observation from MCP tool execution.

**Functions:**

- [**create_mcp_tools**](#openhands.sdk.mcp.create_mcp_tools) – Create MCP tools from MCP configuration.

#### `openhands.sdk.mcp.MCPClient`

```python
MCPClient(*args, **kwargs)
```

Bases: <code>[Client](#fastmcp.Client)</code>

Behaves exactly like fastmcp.Client (same constructor & async API),
but owns a background event loop and offers:

- call_async_from_sync(awaitable_or_fn, \*args, timeout=None, \*\*kwargs)
- call_sync_from_async(fn, \*args, \*\*kwargs) # await this from async code

**Functions:**

- [**call_async_from_sync**](#openhands.sdk.mcp.MCPClient.call_async_from_sync) – Run a coroutine or async function on this client's loop from sync code.
- [**call_sync_from_async**](#openhands.sdk.mcp.MCPClient.call_sync_from_async) – Await running a blocking function in the default threadpool from async code.
- [**sync_close**](#openhands.sdk.mcp.MCPClient.sync_close) – Synchronously close the MCP client and cleanup resources.

##### `openhands.sdk.mcp.MCPClient.call_async_from_sync`

```python
call_async_from_sync(awaitable_or_fn, *args, timeout, **kwargs)
```

Run a coroutine or async function on this client's loop from sync code.

<details class="usage" open markdown="1">
<summary>Usage</summary>

mcp.call_async_from_sync(async_fn, arg1, kw=...)
mcp.call_async_from_sync(coro)

</details>

##### `openhands.sdk.mcp.MCPClient.call_sync_from_async`

```python
call_sync_from_async(fn, *args, **kwargs)
```

Await running a blocking function in the default threadpool from async code.

##### `openhands.sdk.mcp.MCPClient.sync_close`

```python
sync_close()
```

Synchronously close the MCP client and cleanup resources.

This will attempt to call the async close() method if available,
then shutdown the background event loop.

#### `openhands.sdk.mcp.MCPToolAction`

Bases: <code>[Action](#openhands.sdk.tool.schema.Action)</code>

Schema for MCP input action.

It is just a thin wrapper around raw JSON and does
not do any validation.

Validation will be performed by MCPTool.__call__
by constructing dynamically created Pydantic model
from the MCP tool input schema.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.mcp.MCPToolAction.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.mcp.MCPToolAction.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.mcp.MCPToolAction.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.mcp.MCPToolAction.model_json_schema) –
- [**model_post_init**](#openhands.sdk.mcp.MCPToolAction.model_post_init) –
- [**model_rebuild**](#openhands.sdk.mcp.MCPToolAction.model_rebuild) –
- [**model_validate**](#openhands.sdk.mcp.MCPToolAction.model_validate) –
- [**model_validate_json**](#openhands.sdk.mcp.MCPToolAction.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.mcp.MCPToolAction.resolve_kind) –
- [**to_mcp_arguments**](#openhands.sdk.mcp.MCPToolAction.to_mcp_arguments) – Return the data field as MCP tool call arguments.
- [**to_mcp_schema**](#openhands.sdk.mcp.MCPToolAction.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**data**](#openhands.sdk.mcp.MCPToolAction.data) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**kind**](#openhands.sdk.mcp.MCPToolAction.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.mcp.MCPToolAction.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**visualize**](#openhands.sdk.mcp.MCPToolAction.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

##### `openhands.sdk.mcp.MCPToolAction.data`

```python
data: dict[str, Any] = Field(default_factory=dict, description='Dynamic data fields from the tool call')
```

##### `openhands.sdk.mcp.MCPToolAction.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

##### `openhands.sdk.mcp.MCPToolAction.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.mcp.MCPToolAction.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.mcp.MCPToolAction.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.mcp.MCPToolAction.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.mcp.MCPToolAction.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolAction.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.mcp.MCPToolAction.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.mcp.MCPToolAction.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolAction.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolAction.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.mcp.MCPToolAction.to_mcp_arguments`

```python
to_mcp_arguments()
```

Return the data field as MCP tool call arguments.

This is used to convert this action to MCP tool call arguments.
The data field contains the dynamic fields from the tool call.

##### `openhands.sdk.mcp.MCPToolAction.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

##### `openhands.sdk.mcp.MCPToolAction.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

#### `openhands.sdk.mcp.MCPToolDefinition`

Bases: <code>[ToolDefinition](#openhands.sdk.tool.ToolDefinition)\[[MCPToolAction](#openhands.sdk.mcp.definition.MCPToolAction), [MCPToolObservation](#openhands.sdk.mcp.definition.MCPToolObservation)\]</code>

MCP Tool that wraps an MCP client and provides tool functionality.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.mcp.MCPToolDefinition.action_from_arguments) – Create an MCPToolAction from parsed arguments with early validation.
- [**as_executable**](#openhands.sdk.mcp.MCPToolDefinition.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.mcp.MCPToolDefinition.create) –
- [**get_serializable_type**](#openhands.sdk.mcp.MCPToolDefinition.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.mcp.MCPToolDefinition.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.mcp.MCPToolDefinition.model_json_schema) –
- [**model_post_init**](#openhands.sdk.mcp.MCPToolDefinition.model_post_init) –
- [**model_rebuild**](#openhands.sdk.mcp.MCPToolDefinition.model_rebuild) –
- [**model_validate**](#openhands.sdk.mcp.MCPToolDefinition.model_validate) –
- [**model_validate_json**](#openhands.sdk.mcp.MCPToolDefinition.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.mcp.MCPToolDefinition.resolve_kind) –
- [**set_executor**](#openhands.sdk.mcp.MCPToolDefinition.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.mcp.MCPToolDefinition.to_mcp_tool) –
- [**to_openai_tool**](#openhands.sdk.mcp.MCPToolDefinition.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.mcp.MCPToolDefinition.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.mcp.MCPToolDefinition.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.mcp.MCPToolDefinition.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.mcp.MCPToolDefinition.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.mcp.MCPToolDefinition.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.mcp.MCPToolDefinition.kind) (<code>[str](#str)</code>) –
- [**mcp_tool**](#openhands.sdk.mcp.MCPToolDefinition.mcp_tool) (<code>[Tool](#mcp.types.Tool)</code>) –
- [**meta**](#openhands.sdk.mcp.MCPToolDefinition.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.mcp.MCPToolDefinition.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.mcp.MCPToolDefinition.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.mcp.MCPToolDefinition.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.mcp.MCPToolDefinition.title) (<code>[str](#str)</code>) –

##### `openhands.sdk.mcp.MCPToolDefinition.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an MCPToolAction from parsed arguments with early validation.

We validate the raw arguments against the MCP tool's input schema here so
Agent.\_get_action_event can catch ValidationError and surface an
AgentErrorEvent back to the model instead of crashing later during tool
execution. On success, we return MCPToolAction with sanitized arguments.

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[MCPToolAction](#openhands.sdk.mcp.definition.MCPToolAction)</code> – The MCPToolAction instance with data populated from the arguments.

**Raises:**

- <code>[ValidationError](#pydantic.ValidationError)</code> – If the arguments do not conform to the tool schema.

##### `openhands.sdk.mcp.MCPToolDefinition.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

##### `openhands.sdk.mcp.MCPToolDefinition.annotations`

```python
annotations: ToolAnnotations | None = None
```

##### `openhands.sdk.mcp.MCPToolDefinition.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

##### `openhands.sdk.mcp.MCPToolDefinition.create`

```python
create(mcp_tool, mcp_client)
```

##### `openhands.sdk.mcp.MCPToolDefinition.description`

```python
description: str
```

##### `openhands.sdk.mcp.MCPToolDefinition.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

##### `openhands.sdk.mcp.MCPToolDefinition.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.mcp.MCPToolDefinition.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.mcp.MCPToolDefinition.mcp_tool`

```python
mcp_tool: mcp.types.Tool = Field(description='The MCP tool definition.')
```

##### `openhands.sdk.mcp.MCPToolDefinition.meta`

```python
meta: dict[str, Any] | None = None
```

##### `openhands.sdk.mcp.MCPToolDefinition.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

##### `openhands.sdk.mcp.MCPToolDefinition.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.mcp.MCPToolDefinition.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolDefinition.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.mcp.MCPToolDefinition.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.mcp.MCPToolDefinition.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolDefinition.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolDefinition.name`

```python
name: str
```

##### `openhands.sdk.mcp.MCPToolDefinition.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

##### `openhands.sdk.mcp.MCPToolDefinition.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.mcp.MCPToolDefinition.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

##### `openhands.sdk.mcp.MCPToolDefinition.title`

```python
title: str
```

##### `openhands.sdk.mcp.MCPToolDefinition.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

##### `openhands.sdk.mcp.MCPToolDefinition.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

For MCP, we dynamically create the action_type (type: Schema)
from the MCP tool input schema, and pass it to the parent method.
It will use the .model_fields from this pydantic model to
generate the OpenAI-compatible tool schema.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.

##### `openhands.sdk.mcp.MCPToolDefinition.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

#### `openhands.sdk.mcp.MCPToolExecutor`

```python
MCPToolExecutor(tool_name, client)
```

Bases: <code>[ToolExecutor](#openhands.sdk.tool.ToolExecutor)</code>

Executor for MCP tools.

**Functions:**

- [**call_tool**](#openhands.sdk.mcp.MCPToolExecutor.call_tool) –
- [**close**](#openhands.sdk.mcp.MCPToolExecutor.close) – Close the executor and clean up resources.

**Attributes:**

- [**client**](#openhands.sdk.mcp.MCPToolExecutor.client) (<code>[MCPClient](#openhands.sdk.mcp.client.MCPClient)</code>) –
- [**tool_name**](#openhands.sdk.mcp.MCPToolExecutor.tool_name) (<code>[str](#str)</code>) –

##### `openhands.sdk.mcp.MCPToolExecutor.call_tool`

```python
call_tool(action)
```

##### `openhands.sdk.mcp.MCPToolExecutor.client`

```python
client: MCPClient = client
```

##### `openhands.sdk.mcp.MCPToolExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

##### `openhands.sdk.mcp.MCPToolExecutor.tool_name`

```python
tool_name: str = tool_name
```

#### `openhands.sdk.mcp.MCPToolObservation`

Bases: <code>[Observation](#openhands.sdk.tool.Observation)</code>

Observation from MCP tool execution.

**Functions:**

- [**from_call_tool_result**](#openhands.sdk.mcp.MCPToolObservation.from_call_tool_result) – Create an MCPToolObservation from a CallToolResult.
- [**from_mcp_schema**](#openhands.sdk.mcp.MCPToolObservation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.mcp.MCPToolObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.mcp.MCPToolObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.mcp.MCPToolObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.mcp.MCPToolObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.mcp.MCPToolObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.mcp.MCPToolObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.mcp.MCPToolObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.mcp.MCPToolObservation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.mcp.MCPToolObservation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**content**](#openhands.sdk.mcp.MCPToolObservation.content) (<code>[list](#list)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) –
- [**is_error**](#openhands.sdk.mcp.MCPToolObservation.is_error) (<code>[bool](#bool)</code>) –
- [**kind**](#openhands.sdk.mcp.MCPToolObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.mcp.MCPToolObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.mcp.MCPToolObservation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) – Format the observation for agent display.
- [**tool_name**](#openhands.sdk.mcp.MCPToolObservation.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.mcp.MCPToolObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this observation.

##### `openhands.sdk.mcp.MCPToolObservation.content`

```python
content: list[TextContent | ImageContent] = Field(default_factory=list, description='Content returned from the MCP tool converted to LLM Ready TextContent or ImageContent')
```

##### `openhands.sdk.mcp.MCPToolObservation.from_call_tool_result`

```python
from_call_tool_result(tool_name, result)
```

Create an MCPToolObservation from a CallToolResult.

##### `openhands.sdk.mcp.MCPToolObservation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

##### `openhands.sdk.mcp.MCPToolObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.mcp.MCPToolObservation.is_error`

```python
is_error: bool = Field(default=False, description='Whether the call resulted in an error')
```

##### `openhands.sdk.mcp.MCPToolObservation.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.mcp.MCPToolObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.mcp.MCPToolObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.mcp.MCPToolObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolObservation.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.mcp.MCPToolObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.mcp.MCPToolObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.mcp.MCPToolObservation.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.mcp.MCPToolObservation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

Format the observation for agent display.

##### `openhands.sdk.mcp.MCPToolObservation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

##### `openhands.sdk.mcp.MCPToolObservation.tool_name`

```python
tool_name: str = Field(description='Name of the tool that was called')
```

##### `openhands.sdk.mcp.MCPToolObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this observation.

#### `openhands.sdk.mcp.client`

Minimal sync helpers on top of fastmcp.Client, preserving original behavior.

**Classes:**

- [**MCPClient**](#openhands.sdk.mcp.client.MCPClient) – Behaves exactly like fastmcp.Client (same constructor & async API),

##### `openhands.sdk.mcp.client.MCPClient`

```python
MCPClient(*args, **kwargs)
```

Bases: <code>[Client](#fastmcp.Client)</code>

Behaves exactly like fastmcp.Client (same constructor & async API),
but owns a background event loop and offers:

- call_async_from_sync(awaitable_or_fn, \*args, timeout=None, \*\*kwargs)
- call_sync_from_async(fn, \*args, \*\*kwargs) # await this from async code

**Functions:**

- [**call_async_from_sync**](#openhands.sdk.mcp.client.MCPClient.call_async_from_sync) – Run a coroutine or async function on this client's loop from sync code.
- [**call_sync_from_async**](#openhands.sdk.mcp.client.MCPClient.call_sync_from_async) – Await running a blocking function in the default threadpool from async code.
- [**sync_close**](#openhands.sdk.mcp.client.MCPClient.sync_close) – Synchronously close the MCP client and cleanup resources.

###### `openhands.sdk.mcp.client.MCPClient.call_async_from_sync`

```python
call_async_from_sync(awaitable_or_fn, *args, timeout, **kwargs)
```

Run a coroutine or async function on this client's loop from sync code.

<details class="usage" open markdown="1">
<summary>Usage</summary>

mcp.call_async_from_sync(async_fn, arg1, kw=...)
mcp.call_async_from_sync(coro)

</details>

###### `openhands.sdk.mcp.client.MCPClient.call_sync_from_async`

```python
call_sync_from_async(fn, *args, **kwargs)
```

Await running a blocking function in the default threadpool from async code.

###### `openhands.sdk.mcp.client.MCPClient.sync_close`

```python
sync_close()
```

Synchronously close the MCP client and cleanup resources.

This will attempt to call the async close() method if available,
then shutdown the background event loop.

#### `openhands.sdk.mcp.create_mcp_tools`

```python
create_mcp_tools(config, timeout=30.0)
```

Create MCP tools from MCP configuration.

#### `openhands.sdk.mcp.definition`

MCPTool definition and implementation.

**Classes:**

- [**MCPToolAction**](#openhands.sdk.mcp.definition.MCPToolAction) – Schema for MCP input action.
- [**MCPToolObservation**](#openhands.sdk.mcp.definition.MCPToolObservation) – Observation from MCP tool execution.

**Attributes:**

- [**logger**](#openhands.sdk.mcp.definition.logger) –

##### `openhands.sdk.mcp.definition.MCPToolAction`

Bases: <code>[Action](#openhands.sdk.tool.schema.Action)</code>

Schema for MCP input action.

It is just a thin wrapper around raw JSON and does
not do any validation.

Validation will be performed by MCPTool.__call__
by constructing dynamically created Pydantic model
from the MCP tool input schema.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.mcp.definition.MCPToolAction.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.mcp.definition.MCPToolAction.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.mcp.definition.MCPToolAction.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.mcp.definition.MCPToolAction.model_json_schema) –
- [**model_post_init**](#openhands.sdk.mcp.definition.MCPToolAction.model_post_init) –
- [**model_rebuild**](#openhands.sdk.mcp.definition.MCPToolAction.model_rebuild) –
- [**model_validate**](#openhands.sdk.mcp.definition.MCPToolAction.model_validate) –
- [**model_validate_json**](#openhands.sdk.mcp.definition.MCPToolAction.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.mcp.definition.MCPToolAction.resolve_kind) –
- [**to_mcp_arguments**](#openhands.sdk.mcp.definition.MCPToolAction.to_mcp_arguments) – Return the data field as MCP tool call arguments.
- [**to_mcp_schema**](#openhands.sdk.mcp.definition.MCPToolAction.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**data**](#openhands.sdk.mcp.definition.MCPToolAction.data) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –
- [**kind**](#openhands.sdk.mcp.definition.MCPToolAction.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.mcp.definition.MCPToolAction.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**visualize**](#openhands.sdk.mcp.definition.MCPToolAction.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

###### `openhands.sdk.mcp.definition.MCPToolAction.data`

```python
data: dict[str, Any] = Field(default_factory=dict, description='Dynamic data fields from the tool call')
```

###### `openhands.sdk.mcp.definition.MCPToolAction.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.mcp.definition.MCPToolAction.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.mcp.definition.MCPToolAction.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.mcp.definition.MCPToolAction.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.mcp.definition.MCPToolAction.to_mcp_arguments`

```python
to_mcp_arguments()
```

Return the data field as MCP tool call arguments.

This is used to convert this action to MCP tool call arguments.
The data field contains the dynamic fields from the tool call.

###### `openhands.sdk.mcp.definition.MCPToolAction.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.mcp.definition.MCPToolAction.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

##### `openhands.sdk.mcp.definition.MCPToolObservation`

Bases: <code>[Observation](#openhands.sdk.tool.Observation)</code>

Observation from MCP tool execution.

**Functions:**

- [**from_call_tool_result**](#openhands.sdk.mcp.definition.MCPToolObservation.from_call_tool_result) – Create an MCPToolObservation from a CallToolResult.
- [**from_mcp_schema**](#openhands.sdk.mcp.definition.MCPToolObservation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.mcp.definition.MCPToolObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.mcp.definition.MCPToolObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.mcp.definition.MCPToolObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.mcp.definition.MCPToolObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.mcp.definition.MCPToolObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.mcp.definition.MCPToolObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.mcp.definition.MCPToolObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.mcp.definition.MCPToolObservation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.mcp.definition.MCPToolObservation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**content**](#openhands.sdk.mcp.definition.MCPToolObservation.content) (<code>[list](#list)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) –
- [**is_error**](#openhands.sdk.mcp.definition.MCPToolObservation.is_error) (<code>[bool](#bool)</code>) –
- [**kind**](#openhands.sdk.mcp.definition.MCPToolObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.mcp.definition.MCPToolObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.mcp.definition.MCPToolObservation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) – Format the observation for agent display.
- [**tool_name**](#openhands.sdk.mcp.definition.MCPToolObservation.tool_name) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.mcp.definition.MCPToolObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this observation.

###### `openhands.sdk.mcp.definition.MCPToolObservation.content`

```python
content: list[TextContent | ImageContent] = Field(default_factory=list, description='Content returned from the MCP tool converted to LLM Ready TextContent or ImageContent')
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.from_call_tool_result`

```python
from_call_tool_result(tool_name, result)
```

Create an MCPToolObservation from a CallToolResult.

###### `openhands.sdk.mcp.definition.MCPToolObservation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.mcp.definition.MCPToolObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.mcp.definition.MCPToolObservation.is_error`

```python
is_error: bool = Field(default=False, description='Whether the call resulted in an error')
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

Format the observation for agent display.

###### `openhands.sdk.mcp.definition.MCPToolObservation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.mcp.definition.MCPToolObservation.tool_name`

```python
tool_name: str = Field(description='Name of the tool that was called')
```

###### `openhands.sdk.mcp.definition.MCPToolObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this observation.

##### `openhands.sdk.mcp.definition.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.mcp.tool`

Utility functions for MCP integration.

**Classes:**

- [**MCPToolDefinition**](#openhands.sdk.mcp.tool.MCPToolDefinition) – MCP Tool that wraps an MCP client and provides tool functionality.
- [**MCPToolExecutor**](#openhands.sdk.mcp.tool.MCPToolExecutor) – Executor for MCP tools.

**Functions:**

- [**to_camel_case**](#openhands.sdk.mcp.tool.to_camel_case) –

**Attributes:**

- [**logger**](#openhands.sdk.mcp.tool.logger) –

##### `openhands.sdk.mcp.tool.MCPToolDefinition`

Bases: <code>[ToolDefinition](#openhands.sdk.tool.ToolDefinition)\[[MCPToolAction](#openhands.sdk.mcp.definition.MCPToolAction), [MCPToolObservation](#openhands.sdk.mcp.definition.MCPToolObservation)\]</code>

MCP Tool that wraps an MCP client and provides tool functionality.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.mcp.tool.MCPToolDefinition.action_from_arguments) – Create an MCPToolAction from parsed arguments with early validation.
- [**as_executable**](#openhands.sdk.mcp.tool.MCPToolDefinition.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.mcp.tool.MCPToolDefinition.create) –
- [**get_serializable_type**](#openhands.sdk.mcp.tool.MCPToolDefinition.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.mcp.tool.MCPToolDefinition.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.mcp.tool.MCPToolDefinition.model_json_schema) –
- [**model_post_init**](#openhands.sdk.mcp.tool.MCPToolDefinition.model_post_init) –
- [**model_rebuild**](#openhands.sdk.mcp.tool.MCPToolDefinition.model_rebuild) –
- [**model_validate**](#openhands.sdk.mcp.tool.MCPToolDefinition.model_validate) –
- [**model_validate_json**](#openhands.sdk.mcp.tool.MCPToolDefinition.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.mcp.tool.MCPToolDefinition.resolve_kind) –
- [**set_executor**](#openhands.sdk.mcp.tool.MCPToolDefinition.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.mcp.tool.MCPToolDefinition.to_mcp_tool) –
- [**to_openai_tool**](#openhands.sdk.mcp.tool.MCPToolDefinition.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.mcp.tool.MCPToolDefinition.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.mcp.tool.MCPToolDefinition.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.mcp.tool.MCPToolDefinition.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.mcp.tool.MCPToolDefinition.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.mcp.tool.MCPToolDefinition.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.mcp.tool.MCPToolDefinition.kind) (<code>[str](#str)</code>) –
- [**mcp_tool**](#openhands.sdk.mcp.tool.MCPToolDefinition.mcp_tool) (<code>[Tool](#mcp.types.Tool)</code>) –
- [**meta**](#openhands.sdk.mcp.tool.MCPToolDefinition.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.mcp.tool.MCPToolDefinition.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.mcp.tool.MCPToolDefinition.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.mcp.tool.MCPToolDefinition.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.mcp.tool.MCPToolDefinition.title) (<code>[str](#str)</code>) –

###### `openhands.sdk.mcp.tool.MCPToolDefinition.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an MCPToolAction from parsed arguments with early validation.

We validate the raw arguments against the MCP tool's input schema here so
Agent.\_get_action_event can catch ValidationError and surface an
AgentErrorEvent back to the model instead of crashing later during tool
execution. On success, we return MCPToolAction with sanitized arguments.

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[MCPToolAction](#openhands.sdk.mcp.definition.MCPToolAction)</code> – The MCPToolAction instance with data populated from the arguments.

**Raises:**

- <code>[ValidationError](#pydantic.ValidationError)</code> – If the arguments do not conform to the tool schema.

###### `openhands.sdk.mcp.tool.MCPToolDefinition.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.annotations`

```python
annotations: ToolAnnotations | None = None
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

###### `openhands.sdk.mcp.tool.MCPToolDefinition.create`

```python
create(mcp_tool, mcp_client)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.description`

```python
description: str
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.mcp.tool.MCPToolDefinition.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.mcp_tool`

```python
mcp_tool: mcp.types.Tool = Field(description='The MCP tool definition.')
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.meta`

```python
meta: dict[str, Any] | None = None
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.name`

```python
name: str
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

###### `openhands.sdk.mcp.tool.MCPToolDefinition.title`

```python
title: str
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

###### `openhands.sdk.mcp.tool.MCPToolDefinition.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

For MCP, we dynamically create the action_type (type: Schema)
from the MCP tool input schema, and pass it to the parent method.
It will use the .model_fields from this pydantic model to
generate the OpenAI-compatible tool schema.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.

###### `openhands.sdk.mcp.tool.MCPToolDefinition.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

##### `openhands.sdk.mcp.tool.MCPToolExecutor`

```python
MCPToolExecutor(tool_name, client)
```

Bases: <code>[ToolExecutor](#openhands.sdk.tool.ToolExecutor)</code>

Executor for MCP tools.

**Functions:**

- [**call_tool**](#openhands.sdk.mcp.tool.MCPToolExecutor.call_tool) –
- [**close**](#openhands.sdk.mcp.tool.MCPToolExecutor.close) – Close the executor and clean up resources.

**Attributes:**

- [**client**](#openhands.sdk.mcp.tool.MCPToolExecutor.client) (<code>[MCPClient](#openhands.sdk.mcp.client.MCPClient)</code>) –
- [**tool_name**](#openhands.sdk.mcp.tool.MCPToolExecutor.tool_name) (<code>[str](#str)</code>) –

###### `openhands.sdk.mcp.tool.MCPToolExecutor.call_tool`

```python
call_tool(action)
```

###### `openhands.sdk.mcp.tool.MCPToolExecutor.client`

```python
client: MCPClient = client
```

###### `openhands.sdk.mcp.tool.MCPToolExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

###### `openhands.sdk.mcp.tool.MCPToolExecutor.tool_name`

```python
tool_name: str = tool_name
```

##### `openhands.sdk.mcp.tool.logger`

```python
logger = get_logger(__name__)
```

##### `openhands.sdk.mcp.tool.to_camel_case`

```python
to_camel_case(s)
```

#### `openhands.sdk.mcp.utils`

Utility functions for MCP integration.

**Functions:**

- [**create_mcp_tools**](#openhands.sdk.mcp.utils.create_mcp_tools) – Create MCP tools from MCP configuration.
- [**log_handler**](#openhands.sdk.mcp.utils.log_handler) – Handles incoming logs from the MCP server and forwards them

**Attributes:**

- [**LOGGING_LEVEL_MAP**](#openhands.sdk.mcp.utils.LOGGING_LEVEL_MAP) –
- [**logger**](#openhands.sdk.mcp.utils.logger) –

##### `openhands.sdk.mcp.utils.LOGGING_LEVEL_MAP`

```python
LOGGING_LEVEL_MAP = logging.getLevelNamesMapping()
```

##### `openhands.sdk.mcp.utils.create_mcp_tools`

```python
create_mcp_tools(config, timeout=30.0)
```

Create MCP tools from MCP configuration.

##### `openhands.sdk.mcp.utils.log_handler`

```python
log_handler(message)
```

Handles incoming logs from the MCP server and forwards them
to the standard Python logging system.

##### `openhands.sdk.mcp.utils.logger`

```python
logger = get_logger(__name__)
```

### `openhands.sdk.register_tool`

```python
register_tool(name, factory)
```

### `openhands.sdk.resolve_tool`

```python
resolve_tool(tool_spec, conv_state)
```

### `openhands.sdk.security`

**Modules:**

- [**analyzer**](#openhands.sdk.security.analyzer) –
- [**confirmation_policy**](#openhands.sdk.security.confirmation_policy) –
- [**llm_analyzer**](#openhands.sdk.security.llm_analyzer) –
- [**risk**](#openhands.sdk.security.risk) –

**Classes:**

- [**SecurityRisk**](#openhands.sdk.security.SecurityRisk) – Security risk levels for actions.

#### `openhands.sdk.security.SecurityRisk`

Bases: <code>[str](#str)</code>, <code>[Enum](#enum.Enum)</code>

Security risk levels for actions.

Based on OpenHands security risk levels but adapted for agent-sdk.
Integer values allow for easy comparison and ordering.

**Functions:**

- [**get_color**](#openhands.sdk.security.SecurityRisk.get_color) – Get the color for displaying this risk level in Rich text.
- [**is_riskier**](#openhands.sdk.security.SecurityRisk.is_riskier) – Check if this risk level is riskier than another.

**Attributes:**

- [**HIGH**](#openhands.sdk.security.SecurityRisk.HIGH) –
- [**LOW**](#openhands.sdk.security.SecurityRisk.LOW) –
- [**MEDIUM**](#openhands.sdk.security.SecurityRisk.MEDIUM) –
- [**UNKNOWN**](#openhands.sdk.security.SecurityRisk.UNKNOWN) –
- [**description**](#openhands.sdk.security.SecurityRisk.description) (<code>[str](#str)</code>) – Get a human-readable description of the risk level.
- [**visualize**](#openhands.sdk.security.SecurityRisk.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this risk level.

##### `openhands.sdk.security.SecurityRisk.HIGH`

```python
HIGH = 'HIGH'
```

##### `openhands.sdk.security.SecurityRisk.LOW`

```python
LOW = 'LOW'
```

##### `openhands.sdk.security.SecurityRisk.MEDIUM`

```python
MEDIUM = 'MEDIUM'
```

##### `openhands.sdk.security.SecurityRisk.UNKNOWN`

```python
UNKNOWN = 'UNKNOWN'
```

##### `openhands.sdk.security.SecurityRisk.description`

```python
description: str
```

Get a human-readable description of the risk level.

##### `openhands.sdk.security.SecurityRisk.get_color`

```python
get_color()
```

Get the color for displaying this risk level in Rich text.

##### `openhands.sdk.security.SecurityRisk.is_riskier`

```python
is_riskier(other, reflexive=True)
```

Check if this risk level is riskier than another.

Risk levels follow the natural ordering: LOW is less risky than MEDIUM, which is
less risky than HIGH. UNKNOWN is not comparable to any other level.

To make this act like a standard well-ordered domain, we reflexively consider
risk levels to be riskier than themselves. That is:

```
for risk_level in list(SecurityRisk):
    assert risk_level.is_riskier(risk_level)

# More concretely:
assert SecurityRisk.HIGH.is_riskier(SecurityRisk.HIGH)
assert SecurityRisk.MEDIUM.is_riskier(SecurityRisk.MEDIUM)
assert SecurityRisk.LOW.is_riskier(SecurityRisk.LOW)
```

This can be disabled by setting the `reflexive` parameter to False.

**Parameters:**

- **other** (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) – The other risk level to compare against.
- **reflexive** (<code>[bool](#bool)</code>) – Whether the relationship is reflexive.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If either risk level is UNKNOWN.

##### `openhands.sdk.security.SecurityRisk.visualize`

```python
visualize: Text
```

Return Rich Text representation of this risk level.

#### `openhands.sdk.security.analyzer`

**Classes:**

- [**SecurityAnalyzerBase**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase) – Abstract base class for security analyzers.

**Attributes:**

- [**logger**](#openhands.sdk.security.analyzer.logger) –

##### `openhands.sdk.security.analyzer.SecurityAnalyzerBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract base class for security analyzers.

Security analyzers evaluate the risk of actions before they are executed
and can influence the conversation flow based on security policies.

This is adapted from OpenHands SecurityAnalyzer but designed to work
with the agent-sdk's conversation-based architecture.

**Functions:**

- [**analyze_event**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.analyze_event) – Analyze an event for security risks.
- [**analyze_pending_actions**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.analyze_pending_actions) – Analyze all pending actions in a conversation.
- [**get_serializable_type**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.resolve_kind) –
- [**security_risk**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.security_risk) – Evaluate the security risk of an ActionEvent.
- [**should_require_confirmation**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.should_require_confirmation) – Determine if an action should require user confirmation.

**Attributes:**

- [**kind**](#openhands.sdk.security.analyzer.SecurityAnalyzerBase.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.analyze_event`

```python
analyze_event(event)
```

Analyze an event for security risks.

This is a convenience method that checks if the event is an action
and calls security_risk() if it is. Non-action events return None.

**Parameters:**

- **event** (<code>[Event](#openhands.sdk.event.base.Event)</code>) – The event to analyze

**Returns:**

- <code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk) | None</code> – ActionSecurityRisk if event is an action, None otherwise

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.analyze_pending_actions`

```python
analyze_pending_actions(pending_actions)
```

Analyze all pending actions in a conversation.

This method gets all unmatched actions from the conversation state
and analyzes each one for security risks.

**Parameters:**

- **conversation** – The conversation to analyze

**Returns:**

- <code>[list](#list)\[[tuple](#tuple)\[[ActionEvent](#openhands.sdk.event.llm_convertible.ActionEvent), [SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)\]\]</code> – List of tuples containing (action, risk_level) for each pending action

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.security_risk`

```python
security_risk(action)
```

Evaluate the security risk of an ActionEvent.

This is the core method that analyzes an ActionEvent and returns its risk level.
Implementations should examine the action's content, context, and potential
impact to determine the appropriate risk level.

**Parameters:**

- **action** (<code>[ActionEvent](#openhands.sdk.event.llm_convertible.ActionEvent)</code>) – The ActionEvent to analyze for security risks

**Returns:**

- <code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code> – ActionSecurityRisk enum indicating the risk level

###### `openhands.sdk.security.analyzer.SecurityAnalyzerBase.should_require_confirmation`

```python
should_require_confirmation(risk, confirmation_mode=False)
```

Determine if an action should require user confirmation.

This implements the default confirmation logic based on risk level
and confirmation mode settings.

**Parameters:**

- **risk** (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) – The security risk level of the action
- **confirmation_mode** (<code>[bool](#bool)</code>) – Whether confirmation mode is enabled

**Returns:**

- <code>[bool](#bool)</code> – True if confirmation is required, False otherwise

##### `openhands.sdk.security.analyzer.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.security.confirmation_policy`

**Classes:**

- [**AlwaysConfirm**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm) –
- [**ConfirmRisky**](#openhands.sdk.security.confirmation_policy.ConfirmRisky) –
- [**ConfirmationPolicyBase**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase) –
- [**NeverConfirm**](#openhands.sdk.security.confirmation_policy.NeverConfirm) –

##### `openhands.sdk.security.confirmation_policy.AlwaysConfirm`

Bases: <code>[ConfirmationPolicyBase](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase)</code>

**Functions:**

- [**get_serializable_type**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_json_schema) –
- [**model_post_init**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_post_init) –
- [**model_rebuild**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_rebuild) –
- [**model_validate**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_validate) –
- [**model_validate_json**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.resolve_kind) –
- [**should_confirm**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.should_confirm) –

**Attributes:**

- [**kind**](#openhands.sdk.security.confirmation_policy.AlwaysConfirm.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.security.confirmation_policy.AlwaysConfirm.should_confirm`

```python
should_confirm(risk=SecurityRisk.UNKNOWN)
```

##### `openhands.sdk.security.confirmation_policy.ConfirmRisky`

Bases: <code>[ConfirmationPolicyBase](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase)</code>

**Functions:**

- [**get_serializable_type**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.model_json_schema) –
- [**model_post_init**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.model_post_init) –
- [**model_rebuild**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.model_rebuild) –
- [**model_validate**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.model_validate) –
- [**model_validate_json**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.resolve_kind) –
- [**should_confirm**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.should_confirm) –
- [**validate_threshold**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.validate_threshold) –

**Attributes:**

- [**confirm_unknown**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.confirm_unknown) (<code>[bool](#bool)</code>) –
- [**kind**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.kind) (<code>[str](#str)</code>) –
- [**threshold**](#openhands.sdk.security.confirmation_policy.ConfirmRisky.threshold) (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) –

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.confirm_unknown`

```python
confirm_unknown: bool = True
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.should_confirm`

```python
should_confirm(risk=SecurityRisk.UNKNOWN)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.threshold`

```python
threshold: SecurityRisk = SecurityRisk.HIGH
```

###### `openhands.sdk.security.confirmation_policy.ConfirmRisky.validate_threshold`

```python
validate_threshold(v)
```

##### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

**Functions:**

- [**get_serializable_type**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.resolve_kind) –
- [**should_confirm**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.should_confirm) – Determine if an action with the given risk level requires confirmation.

**Attributes:**

- [**kind**](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase.should_confirm`

```python
should_confirm(risk=SecurityRisk.UNKNOWN)
```

Determine if an action with the given risk level requires confirmation.

This method defines the core logic for determining whether user confirmation
is required before executing an action based on its security risk level.

**Parameters:**

- **risk** (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) – The security risk level of the action to be evaluated.
  Defaults to SecurityRisk.UNKNOWN if not specified.

**Returns:**

- <code>[bool](#bool)</code> – True if the action requires user confirmation before execution,
- <code>[bool](#bool)</code> – False if the action can proceed without confirmation.

##### `openhands.sdk.security.confirmation_policy.NeverConfirm`

Bases: <code>[ConfirmationPolicyBase](#openhands.sdk.security.confirmation_policy.ConfirmationPolicyBase)</code>

**Functions:**

- [**get_serializable_type**](#openhands.sdk.security.confirmation_policy.NeverConfirm.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.security.confirmation_policy.NeverConfirm.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.security.confirmation_policy.NeverConfirm.model_json_schema) –
- [**model_post_init**](#openhands.sdk.security.confirmation_policy.NeverConfirm.model_post_init) –
- [**model_rebuild**](#openhands.sdk.security.confirmation_policy.NeverConfirm.model_rebuild) –
- [**model_validate**](#openhands.sdk.security.confirmation_policy.NeverConfirm.model_validate) –
- [**model_validate_json**](#openhands.sdk.security.confirmation_policy.NeverConfirm.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.security.confirmation_policy.NeverConfirm.resolve_kind) –
- [**should_confirm**](#openhands.sdk.security.confirmation_policy.NeverConfirm.should_confirm) –

**Attributes:**

- [**kind**](#openhands.sdk.security.confirmation_policy.NeverConfirm.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.security.confirmation_policy.NeverConfirm.should_confirm`

```python
should_confirm(risk=SecurityRisk.UNKNOWN)
```

#### `openhands.sdk.security.llm_analyzer`

**Classes:**

- [**LLMSecurityAnalyzer**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer) – LLM-based security analyzer.

**Attributes:**

- [**logger**](#openhands.sdk.security.llm_analyzer.logger) –

##### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer`

Bases: <code>[SecurityAnalyzerBase](#openhands.sdk.security.analyzer.SecurityAnalyzerBase)</code>

LLM-based security analyzer.

This analyzer respects the security_risk attribute that can be set by the LLM
when generating actions, similar to OpenHands' LLMRiskAnalyzer.

It provides a lightweight security analysis approach that leverages the LLM's
understanding of action context and potential risks.

**Functions:**

- [**analyze_event**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.analyze_event) – Analyze an event for security risks.
- [**analyze_pending_actions**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.analyze_pending_actions) – Analyze all pending actions in a conversation.
- [**get_serializable_type**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_json_schema) –
- [**model_post_init**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_post_init) –
- [**model_rebuild**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_rebuild) –
- [**model_validate**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_validate) –
- [**model_validate_json**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.resolve_kind) –
- [**security_risk**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.security_risk) – Evaluate security risk based on LLM-provided assessment.
- [**should_require_confirmation**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.should_require_confirmation) – Determine if an action should require user confirmation.

**Attributes:**

- [**kind**](#openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.analyze_event`

```python
analyze_event(event)
```

Analyze an event for security risks.

This is a convenience method that checks if the event is an action
and calls security_risk() if it is. Non-action events return None.

**Parameters:**

- **event** (<code>[Event](#openhands.sdk.event.base.Event)</code>) – The event to analyze

**Returns:**

- <code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk) | None</code> – ActionSecurityRisk if event is an action, None otherwise

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.analyze_pending_actions`

```python
analyze_pending_actions(pending_actions)
```

Analyze all pending actions in a conversation.

This method gets all unmatched actions from the conversation state
and analyzes each one for security risks.

**Parameters:**

- **conversation** – The conversation to analyze

**Returns:**

- <code>[list](#list)\[[tuple](#tuple)\[[ActionEvent](#openhands.sdk.event.llm_convertible.ActionEvent), [SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)\]\]</code> – List of tuples containing (action, risk_level) for each pending action

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.security_risk`

```python
security_risk(action)
```

Evaluate security risk based on LLM-provided assessment.

This method checks if the action has a security_risk attribute set by the LLM
and returns it. The LLM may not always provide this attribute but it defaults to
UNKNOWN if not explicitly set.

###### `openhands.sdk.security.llm_analyzer.LLMSecurityAnalyzer.should_require_confirmation`

```python
should_require_confirmation(risk, confirmation_mode=False)
```

Determine if an action should require user confirmation.

This implements the default confirmation logic based on risk level
and confirmation mode settings.

**Parameters:**

- **risk** (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) – The security risk level of the action
- **confirmation_mode** (<code>[bool](#bool)</code>) – Whether confirmation mode is enabled

**Returns:**

- <code>[bool](#bool)</code> – True if confirmation is required, False otherwise

##### `openhands.sdk.security.llm_analyzer.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.security.risk`

**Classes:**

- [**SecurityRisk**](#openhands.sdk.security.risk.SecurityRisk) – Security risk levels for actions.

##### `openhands.sdk.security.risk.SecurityRisk`

Bases: <code>[str](#str)</code>, <code>[Enum](#enum.Enum)</code>

Security risk levels for actions.

Based on OpenHands security risk levels but adapted for agent-sdk.
Integer values allow for easy comparison and ordering.

**Functions:**

- [**get_color**](#openhands.sdk.security.risk.SecurityRisk.get_color) – Get the color for displaying this risk level in Rich text.
- [**is_riskier**](#openhands.sdk.security.risk.SecurityRisk.is_riskier) – Check if this risk level is riskier than another.

**Attributes:**

- [**HIGH**](#openhands.sdk.security.risk.SecurityRisk.HIGH) –
- [**LOW**](#openhands.sdk.security.risk.SecurityRisk.LOW) –
- [**MEDIUM**](#openhands.sdk.security.risk.SecurityRisk.MEDIUM) –
- [**UNKNOWN**](#openhands.sdk.security.risk.SecurityRisk.UNKNOWN) –
- [**description**](#openhands.sdk.security.risk.SecurityRisk.description) (<code>[str](#str)</code>) – Get a human-readable description of the risk level.
- [**visualize**](#openhands.sdk.security.risk.SecurityRisk.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this risk level.

###### `openhands.sdk.security.risk.SecurityRisk.HIGH`

```python
HIGH = 'HIGH'
```

###### `openhands.sdk.security.risk.SecurityRisk.LOW`

```python
LOW = 'LOW'
```

###### `openhands.sdk.security.risk.SecurityRisk.MEDIUM`

```python
MEDIUM = 'MEDIUM'
```

###### `openhands.sdk.security.risk.SecurityRisk.UNKNOWN`

```python
UNKNOWN = 'UNKNOWN'
```

###### `openhands.sdk.security.risk.SecurityRisk.description`

```python
description: str
```

Get a human-readable description of the risk level.

###### `openhands.sdk.security.risk.SecurityRisk.get_color`

```python
get_color()
```

Get the color for displaying this risk level in Rich text.

###### `openhands.sdk.security.risk.SecurityRisk.is_riskier`

```python
is_riskier(other, reflexive=True)
```

Check if this risk level is riskier than another.

Risk levels follow the natural ordering: LOW is less risky than MEDIUM, which is
less risky than HIGH. UNKNOWN is not comparable to any other level.

To make this act like a standard well-ordered domain, we reflexively consider
risk levels to be riskier than themselves. That is:

```
for risk_level in list(SecurityRisk):
    assert risk_level.is_riskier(risk_level)

# More concretely:
assert SecurityRisk.HIGH.is_riskier(SecurityRisk.HIGH)
assert SecurityRisk.MEDIUM.is_riskier(SecurityRisk.MEDIUM)
assert SecurityRisk.LOW.is_riskier(SecurityRisk.LOW)
```

This can be disabled by setting the `reflexive` parameter to False.

**Parameters:**

- **other** (<code>[SecurityRisk](#openhands.sdk.security.risk.SecurityRisk)</code>) – The other risk level to compare against.
- **reflexive** (<code>[bool](#bool)</code>) – Whether the relationship is reflexive.

**Raises:**

- <code>[ValueError](#ValueError)</code> – If either risk level is UNKNOWN.

###### `openhands.sdk.security.risk.SecurityRisk.visualize`

```python
visualize: Text
```

Return Rich Text representation of this risk level.

### `openhands.sdk.tool`

OpenHands runtime package.

**Modules:**

- [**builtins**](#openhands.sdk.tool.builtins) – Implementing essential tools that doesn't interact with the environment.
- [**registry**](#openhands.sdk.tool.registry) –
- [**schema**](#openhands.sdk.tool.schema) –
- [**spec**](#openhands.sdk.tool.spec) –
- [**tool**](#openhands.sdk.tool.tool) –

**Classes:**

- [**Action**](#openhands.sdk.tool.Action) – Base schema for input action.
- [**ExecutableTool**](#openhands.sdk.tool.ExecutableTool) – Protocol for tools that are guaranteed to have a non-None executor.
- [**Observation**](#openhands.sdk.tool.Observation) – Base schema for output observation.
- [**Tool**](#openhands.sdk.tool.Tool) – Defines a tool to be initialized for the agent.
- [**ToolAnnotations**](#openhands.sdk.tool.ToolAnnotations) – Annotations to provide hints about the tool's behavior.
- [**ToolBase**](#openhands.sdk.tool.ToolBase) – Tool that wraps an executor function with input/output validation and schema.
- [**ToolDefinition**](#openhands.sdk.tool.ToolDefinition) – Concrete tool class that inherits from ToolBase.
- [**ToolExecutor**](#openhands.sdk.tool.ToolExecutor) – Executor function type for a Tool.

**Functions:**

- [**list_registered_tools**](#openhands.sdk.tool.list_registered_tools) –
- [**register_tool**](#openhands.sdk.tool.register_tool) –
- [**resolve_tool**](#openhands.sdk.tool.resolve_tool) –

**Attributes:**

- [**BUILT_IN_TOOLS**](#openhands.sdk.tool.BUILT_IN_TOOLS) –
- [**FinishTool**](#openhands.sdk.tool.FinishTool) –
- [**ThinkTool**](#openhands.sdk.tool.ThinkTool) –

#### `openhands.sdk.tool.Action`

Bases: <code>[Schema](#openhands.sdk.tool.schema.Schema)</code>, <code>[ABC](#abc.ABC)</code>

Base schema for input action.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.Action.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.Action.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.Action.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.Action.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.Action.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.Action.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.Action.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.Action.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.Action.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.Action.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.Action.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.Action.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**visualize**](#openhands.sdk.tool.Action.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

##### `openhands.sdk.tool.Action.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

##### `openhands.sdk.tool.Action.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.tool.Action.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.tool.Action.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.tool.Action.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.tool.Action.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.tool.Action.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.tool.Action.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.tool.Action.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.tool.Action.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.tool.Action.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.tool.Action.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

##### `openhands.sdk.tool.Action.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

#### `openhands.sdk.tool.BUILT_IN_TOOLS`

```python
BUILT_IN_TOOLS = [FinishTool, ThinkTool]
```

#### `openhands.sdk.tool.ExecutableTool`

Bases: <code>[Protocol](#typing.Protocol)</code>

Protocol for tools that are guaranteed to have a non-None executor.

This eliminates the need for runtime None checks and type narrowing
when working with tools that are known to be executable.

**Attributes:**

- [**executor**](#openhands.sdk.tool.ExecutableTool.executor) (<code>[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor)\[[Any](#typing.Any), [Any](#typing.Any)\]</code>) –
- [**name**](#openhands.sdk.tool.ExecutableTool.name) (<code>[str](#str)</code>) –

##### `openhands.sdk.tool.ExecutableTool.executor`

```python
executor: ToolExecutor[Any, Any]
```

##### `openhands.sdk.tool.ExecutableTool.name`

```python
name: str
```

#### `openhands.sdk.tool.FinishTool`

```python
FinishTool = ToolDefinition(name='finish', action_type=FinishAction, observation_type=FinishObservation, description=TOOL_DESCRIPTION, executor=(FinishExecutor()), annotations=(ToolAnnotations(title='finish', readOnlyHint=True, destructiveHint=False, idempotentHint=True, openWorldHint=False)))
```

#### `openhands.sdk.tool.Observation`

Bases: <code>[Schema](#openhands.sdk.tool.schema.Schema)</code>, <code>[ABC](#abc.ABC)</code>

Base schema for output observation.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.Observation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.Observation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.Observation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.Observation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.Observation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.Observation.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.Observation.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.Observation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.Observation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.Observation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.Observation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.Observation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.tool.Observation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) – Get the observation string to show to the agent.
- [**visualize**](#openhands.sdk.tool.Observation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

##### `openhands.sdk.tool.Observation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

##### `openhands.sdk.tool.Observation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.tool.Observation.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.tool.Observation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

##### `openhands.sdk.tool.Observation.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.tool.Observation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.tool.Observation.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.tool.Observation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.tool.Observation.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.tool.Observation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.tool.Observation.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.tool.Observation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

Get the observation string to show to the agent.

##### `openhands.sdk.tool.Observation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

##### `openhands.sdk.tool.Observation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

#### `openhands.sdk.tool.ThinkTool`

```python
ThinkTool = ToolDefinition(name='think', description=THINK_DESCRIPTION, action_type=ThinkAction, observation_type=ThinkObservation, executor=(ThinkExecutor()), annotations=(ToolAnnotations(readOnlyHint=True, destructiveHint=False, idempotentHint=True, openWorldHint=False)))
```

#### `openhands.sdk.tool.Tool`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Defines a tool to be initialized for the agent.

This is only used in agent-sdk for type schema for server use.

**Functions:**

- [**validate_name**](#openhands.sdk.tool.Tool.validate_name) – Validate that name is not empty.
- [**validate_params**](#openhands.sdk.tool.Tool.validate_params) – Convert None params to empty dict.

**Attributes:**

- [**name**](#openhands.sdk.tool.Tool.name) (<code>[str](#str)</code>) –
- [**params**](#openhands.sdk.tool.Tool.params) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –

##### `openhands.sdk.tool.Tool.name`

```python
name: str = Field(..., description="Name of the tool class, e.g., 'BashTool'. Import it from an `openhands.tools.<module>` subpackage.", examples=['BashTool', 'FileEditorTool', 'TaskTrackerTool'])
```

##### `openhands.sdk.tool.Tool.params`

```python
params: dict[str, Any] = Field(default_factory=dict, description="Parameters for the tool's .create() method, e.g., {'working_dir': '/app'}", examples=[{'working_dir': '/workspace'}])
```

##### `openhands.sdk.tool.Tool.validate_name`

```python
validate_name(v)
```

Validate that name is not empty.

##### `openhands.sdk.tool.Tool.validate_params`

```python
validate_params(v)
```

Convert None params to empty dict.

#### `openhands.sdk.tool.ToolAnnotations`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Annotations to provide hints about the tool's behavior.

Based on Model Context Protocol (MCP) spec:
https://github.com/modelcontextprotocol/modelcontextprotocol/blob/caf3424488b10b4a7b1f8cb634244a450a1f4400/schema/2025-06-18/schema.ts#L838

**Attributes:**

- [**destructiveHint**](#openhands.sdk.tool.ToolAnnotations.destructiveHint) (<code>[bool](#bool)</code>) –
- [**idempotentHint**](#openhands.sdk.tool.ToolAnnotations.idempotentHint) (<code>[bool](#bool)</code>) –
- [**model_config**](#openhands.sdk.tool.ToolAnnotations.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**openWorldHint**](#openhands.sdk.tool.ToolAnnotations.openWorldHint) (<code>[bool](#bool)</code>) –
- [**readOnlyHint**](#openhands.sdk.tool.ToolAnnotations.readOnlyHint) (<code>[bool](#bool)</code>) –
- [**title**](#openhands.sdk.tool.ToolAnnotations.title) (<code>[str](#str) | None</code>) –

##### `openhands.sdk.tool.ToolAnnotations.destructiveHint`

```python
destructiveHint: bool = Field(default=True, description='If true, the tool may perform destructive updates to its environment. If false, the tool performs only additive updates. (This property is meaningful only when `readOnlyHint == false`) Default: true')
```

##### `openhands.sdk.tool.ToolAnnotations.idempotentHint`

```python
idempotentHint: bool = Field(default=False, description='If true, calling the tool repeatedly with the same arguments will have no additional effect on the its environment. (This property is meaningful only when `readOnlyHint == false`) Default: false')
```

##### `openhands.sdk.tool.ToolAnnotations.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, title='openhands.sdk.tool.tool.ToolAnnotations')
```

##### `openhands.sdk.tool.ToolAnnotations.openWorldHint`

```python
openWorldHint: bool = Field(default=True, description="If true, this tool may interact with an 'open world' of external entities. If false, the tool's domain of interaction is closed. For example, the world of a web search tool is open, whereas that of a memory tool is not. Default: true")
```

##### `openhands.sdk.tool.ToolAnnotations.readOnlyHint`

```python
readOnlyHint: bool = Field(default=False, description='If true, the tool does not modify its environment. Default: false')
```

##### `openhands.sdk.tool.ToolAnnotations.title`

```python
title: str | None = Field(default=None, description='A human-readable title for the tool.')
```

#### `openhands.sdk.tool.ToolBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Tool that wraps an executor function with input/output validation and schema.

- Normalize input/output schemas (class or dict) into both model+schema.
- Validate inputs before execute.
- Coerce outputs only if an output model is defined; else return vanilla JSON.
- Export MCP tool description.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.tool.ToolBase.action_from_arguments) – Create an action from parsed arguments.
- [**as_executable**](#openhands.sdk.tool.ToolBase.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.tool.ToolBase.create) – Create a sequence of Tool instances. Placeholder for subclasses.
- [**get_serializable_type**](#openhands.sdk.tool.ToolBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.ToolBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.ToolBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.ToolBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.ToolBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.ToolBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.ToolBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.ToolBase.resolve_kind) –
- [**set_executor**](#openhands.sdk.tool.ToolBase.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.tool.ToolBase.to_mcp_tool) – Convert a Tool to an MCP tool definition.
- [**to_openai_tool**](#openhands.sdk.tool.ToolBase.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.tool.ToolBase.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.tool.ToolBase.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.tool.ToolBase.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.tool.ToolBase.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.tool.ToolBase.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.tool.ToolBase.kind) (<code>[str](#str)</code>) –
- [**meta**](#openhands.sdk.tool.ToolBase.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.tool.ToolBase.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.tool.ToolBase.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.tool.ToolBase.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.tool.ToolBase.title) (<code>[str](#str)</code>) –

##### `openhands.sdk.tool.ToolBase.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an action from parsed arguments.

This method can be overridden by subclasses to provide custom logic
for creating actions from arguments (e.g., for MCP tools).

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[Action](#openhands.sdk.tool.schema.Action)</code> – The action instance created from the arguments.

##### `openhands.sdk.tool.ToolBase.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

##### `openhands.sdk.tool.ToolBase.annotations`

```python
annotations: ToolAnnotations | None = None
```

##### `openhands.sdk.tool.ToolBase.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

##### `openhands.sdk.tool.ToolBase.create`

```python
create(*args, **kwargs)
```

Create a sequence of Tool instances. Placeholder for subclasses.

This can be overridden in subclasses to provide custom initialization logic
(e.g., typically initializing the executor with parameters).

**Returns:**

- <code>[Sequence](#collections.abc.Sequence)\[[Self](#typing.Self)\]</code> – A sequence of Tool instances. Even single tools are returned as a sequence
- <code>[Sequence](#collections.abc.Sequence)\[[Self](#typing.Self)\]</code> – to provide a consistent interface and eliminate union return types.

##### `openhands.sdk.tool.ToolBase.description`

```python
description: str
```

##### `openhands.sdk.tool.ToolBase.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

##### `openhands.sdk.tool.ToolBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.tool.ToolBase.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.tool.ToolBase.meta`

```python
meta: dict[str, Any] | None = None
```

##### `openhands.sdk.tool.ToolBase.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

##### `openhands.sdk.tool.ToolBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.tool.ToolBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.tool.ToolBase.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.tool.ToolBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.tool.ToolBase.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.tool.ToolBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.tool.ToolBase.name`

```python
name: str
```

##### `openhands.sdk.tool.ToolBase.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

##### `openhands.sdk.tool.ToolBase.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.tool.ToolBase.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

##### `openhands.sdk.tool.ToolBase.title`

```python
title: str
```

##### `openhands.sdk.tool.ToolBase.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

Convert a Tool to an MCP tool definition.

Allow overriding input/output schemas (usually by subclasses).

**Parameters:**

- **input_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the input schema.
- **output_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the output schema.

##### `openhands.sdk.tool.ToolBase.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.
- **action_type** (<code>[type](#type)\[[Schema](#openhands.sdk.tool.schema.Schema)\] | None</code>) – Optionally override the action_type to use for the schema.
  This is useful for MCPTool to use a dynamically created action type
  based on the tool's input schema.

##### `openhands.sdk.tool.ToolBase.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

#### `openhands.sdk.tool.ToolDefinition`

Bases: <code>[ToolBase](#openhands.sdk.tool.tool.ToolBase)\[[ToolDefinition[ActionT]](#openhands.sdk.tool.tool.ToolDefinition%5BActionT%5D), [ToolDefinition[ObservationT]](#openhands.sdk.tool.tool.ToolDefinition%5BObservationT%5D)\]</code>

Concrete tool class that inherits from ToolBase.

This class serves as a concrete implementation of ToolBase for cases where
you want to create a tool instance directly without implementing a custom
subclass. Built-in tools (like FinishTool, ThinkTool) are instantiated
directly from this class, while more complex tools (like BashTool,
FileEditorTool) inherit from this class and provide their own create()
method implementations.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.tool.ToolDefinition.action_from_arguments) – Create an action from parsed arguments.
- [**as_executable**](#openhands.sdk.tool.ToolDefinition.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.tool.ToolDefinition.create) – Create a sequence of ToolDefinition instances.
- [**get_serializable_type**](#openhands.sdk.tool.ToolDefinition.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.ToolDefinition.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.ToolDefinition.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.ToolDefinition.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.ToolDefinition.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.ToolDefinition.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.ToolDefinition.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.ToolDefinition.resolve_kind) –
- [**set_executor**](#openhands.sdk.tool.ToolDefinition.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.tool.ToolDefinition.to_mcp_tool) – Convert a Tool to an MCP tool definition.
- [**to_openai_tool**](#openhands.sdk.tool.ToolDefinition.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.tool.ToolDefinition.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.tool.ToolDefinition.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.tool.ToolDefinition.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.tool.ToolDefinition.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.tool.ToolDefinition.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.tool.ToolDefinition.kind) (<code>[str](#str)</code>) –
- [**meta**](#openhands.sdk.tool.ToolDefinition.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.tool.ToolDefinition.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.tool.ToolDefinition.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.tool.ToolDefinition.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.tool.ToolDefinition.title) (<code>[str](#str)</code>) –

##### `openhands.sdk.tool.ToolDefinition.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an action from parsed arguments.

This method can be overridden by subclasses to provide custom logic
for creating actions from arguments (e.g., for MCP tools).

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[Action](#openhands.sdk.tool.schema.Action)</code> – The action instance created from the arguments.

##### `openhands.sdk.tool.ToolDefinition.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

##### `openhands.sdk.tool.ToolDefinition.annotations`

```python
annotations: ToolAnnotations | None = None
```

##### `openhands.sdk.tool.ToolDefinition.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

##### `openhands.sdk.tool.ToolDefinition.create`

```python
create(*args, **kwargs)
```

Create a sequence of ToolDefinition instances.

TODO https://github.com/OpenHands/agent-sdk/issues/493
Refactor this - the ToolDefinition class should not have a concrete create()
implementation. Built-in tools should be refactored to not rely on this
method, and then this should be made abstract with @abstractmethod.

##### `openhands.sdk.tool.ToolDefinition.description`

```python
description: str
```

##### `openhands.sdk.tool.ToolDefinition.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

##### `openhands.sdk.tool.ToolDefinition.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.tool.ToolDefinition.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.tool.ToolDefinition.meta`

```python
meta: dict[str, Any] | None = None
```

##### `openhands.sdk.tool.ToolDefinition.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

##### `openhands.sdk.tool.ToolDefinition.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.tool.ToolDefinition.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.tool.ToolDefinition.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.tool.ToolDefinition.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.tool.ToolDefinition.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.tool.ToolDefinition.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.tool.ToolDefinition.name`

```python
name: str
```

##### `openhands.sdk.tool.ToolDefinition.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

##### `openhands.sdk.tool.ToolDefinition.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.tool.ToolDefinition.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

##### `openhands.sdk.tool.ToolDefinition.title`

```python
title: str
```

##### `openhands.sdk.tool.ToolDefinition.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

Convert a Tool to an MCP tool definition.

Allow overriding input/output schemas (usually by subclasses).

**Parameters:**

- **input_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the input schema.
- **output_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the output schema.

##### `openhands.sdk.tool.ToolDefinition.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.
- **action_type** (<code>[type](#type)\[[Schema](#openhands.sdk.tool.schema.Schema)\] | None</code>) – Optionally override the action_type to use for the schema.
  This is useful for MCPTool to use a dynamically created action type
  based on the tool's input schema.

##### `openhands.sdk.tool.ToolDefinition.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

#### `openhands.sdk.tool.ToolExecutor`

Bases: <code>[ABC](#abc.ABC)</code>

Executor function type for a Tool.

**Functions:**

- [**close**](#openhands.sdk.tool.ToolExecutor.close) – Close the executor and clean up resources.

##### `openhands.sdk.tool.ToolExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

#### `openhands.sdk.tool.builtins`

Implementing essential tools that doesn't interact with the environment.

These are built in and are *required* for the agent to work.

For tools that require interacting with the environment, add them to `openhands-tools`.

**Modules:**

- [**finish**](#openhands.sdk.tool.builtins.finish) –
- [**think**](#openhands.sdk.tool.builtins.think) –

**Classes:**

- [**FinishAction**](#openhands.sdk.tool.builtins.FinishAction) –
- [**FinishExecutor**](#openhands.sdk.tool.builtins.FinishExecutor) –
- [**FinishObservation**](#openhands.sdk.tool.builtins.FinishObservation) –
- [**ThinkAction**](#openhands.sdk.tool.builtins.ThinkAction) – Action for logging a thought without making any changes.
- [**ThinkExecutor**](#openhands.sdk.tool.builtins.ThinkExecutor) –
- [**ThinkObservation**](#openhands.sdk.tool.builtins.ThinkObservation) – Observation returned after logging a thought.

**Attributes:**

- [**BUILT_IN_TOOLS**](#openhands.sdk.tool.builtins.BUILT_IN_TOOLS) –
- [**FinishTool**](#openhands.sdk.tool.builtins.FinishTool) –
- [**ThinkTool**](#openhands.sdk.tool.builtins.ThinkTool) –

##### `openhands.sdk.tool.builtins.BUILT_IN_TOOLS`

```python
BUILT_IN_TOOLS = [FinishTool, ThinkTool]
```

##### `openhands.sdk.tool.builtins.FinishAction`

Bases: <code>[Action](#openhands.sdk.tool.tool.Action)</code>

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.FinishAction.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.FinishAction.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.FinishAction.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.FinishAction.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.FinishAction.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.FinishAction.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.FinishAction.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.FinishAction.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.FinishAction.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.FinishAction.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.builtins.FinishAction.kind) (<code>[str](#str)</code>) –
- [**message**](#openhands.sdk.tool.builtins.FinishAction.message) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.FinishAction.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.FinishAction.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

###### `openhands.sdk.tool.builtins.FinishAction.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.tool.builtins.FinishAction.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.builtins.FinishAction.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.builtins.FinishAction.message`

```python
message: str = Field(description='Final message to send to the user.')
```

###### `openhands.sdk.tool.builtins.FinishAction.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.tool.builtins.FinishAction.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.builtins.FinishAction.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.builtins.FinishAction.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.builtins.FinishAction.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.builtins.FinishAction.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.builtins.FinishAction.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.builtins.FinishAction.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.builtins.FinishAction.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.tool.builtins.FinishAction.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

##### `openhands.sdk.tool.builtins.FinishExecutor`

Bases: <code>[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor)</code>

**Functions:**

- [**close**](#openhands.sdk.tool.builtins.FinishExecutor.close) – Close the executor and clean up resources.

###### `openhands.sdk.tool.builtins.FinishExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

##### `openhands.sdk.tool.builtins.FinishObservation`

Bases: <code>[Observation](#openhands.sdk.tool.tool.Observation)</code>

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.FinishObservation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.FinishObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.FinishObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.FinishObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.FinishObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.FinishObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.FinishObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.FinishObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.FinishObservation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.FinishObservation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.builtins.FinishObservation.kind) (<code>[str](#str)</code>) –
- [**message**](#openhands.sdk.tool.builtins.FinishObservation.message) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.FinishObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.tool.builtins.FinishObservation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.message.TextContent) | [ImageContent](#openhands.sdk.llm.message.ImageContent)\]</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.FinishObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation - empty since action shows the message.

###### `openhands.sdk.tool.builtins.FinishObservation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.tool.builtins.FinishObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.builtins.FinishObservation.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.builtins.FinishObservation.message`

```python
message: str = Field(description='Final message sent to the user.')
```

###### `openhands.sdk.tool.builtins.FinishObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.tool.builtins.FinishObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.builtins.FinishObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.builtins.FinishObservation.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.builtins.FinishObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.builtins.FinishObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.builtins.FinishObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.builtins.FinishObservation.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.builtins.FinishObservation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

###### `openhands.sdk.tool.builtins.FinishObservation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.tool.builtins.FinishObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation - empty since action shows the message.

##### `openhands.sdk.tool.builtins.FinishTool`

```python
FinishTool = ToolDefinition(name='finish', action_type=FinishAction, observation_type=FinishObservation, description=TOOL_DESCRIPTION, executor=(FinishExecutor()), annotations=(ToolAnnotations(title='finish', readOnlyHint=True, destructiveHint=False, idempotentHint=True, openWorldHint=False)))
```

##### `openhands.sdk.tool.builtins.ThinkAction`

Bases: <code>[Action](#openhands.sdk.tool.tool.Action)</code>

Action for logging a thought without making any changes.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.ThinkAction.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.ThinkAction.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.ThinkAction.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.ThinkAction.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.ThinkAction.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.ThinkAction.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.ThinkAction.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.ThinkAction.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.ThinkAction.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.ThinkAction.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.builtins.ThinkAction.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.ThinkAction.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**thought**](#openhands.sdk.tool.builtins.ThinkAction.thought) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.ThinkAction.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation with thinking styling.

###### `openhands.sdk.tool.builtins.ThinkAction.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.tool.builtins.ThinkAction.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.builtins.ThinkAction.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.builtins.ThinkAction.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.tool.builtins.ThinkAction.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkAction.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkAction.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.builtins.ThinkAction.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.builtins.ThinkAction.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkAction.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkAction.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.builtins.ThinkAction.thought`

```python
thought: str = Field(description='The thought to log.')
```

###### `openhands.sdk.tool.builtins.ThinkAction.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.tool.builtins.ThinkAction.visualize`

```python
visualize: Text
```

Return Rich Text representation with thinking styling.

##### `openhands.sdk.tool.builtins.ThinkExecutor`

Bases: <code>[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor)</code>

**Functions:**

- [**close**](#openhands.sdk.tool.builtins.ThinkExecutor.close) – Close the executor and clean up resources.

###### `openhands.sdk.tool.builtins.ThinkExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

##### `openhands.sdk.tool.builtins.ThinkObservation`

Bases: <code>[Observation](#openhands.sdk.tool.tool.Observation)</code>

Observation returned after logging a thought.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.ThinkObservation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.ThinkObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.ThinkObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.ThinkObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.ThinkObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.ThinkObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.ThinkObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.ThinkObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.ThinkObservation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.ThinkObservation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**content**](#openhands.sdk.tool.builtins.ThinkObservation.content) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.tool.builtins.ThinkObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.ThinkObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.tool.builtins.ThinkObservation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.message.TextContent) | [ImageContent](#openhands.sdk.llm.message.ImageContent)\]</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.ThinkObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation - empty since action shows the thought.

###### `openhands.sdk.tool.builtins.ThinkObservation.content`

```python
content: str = Field(default='Your thought has been logged.', description='Confirmation message.')
```

###### `openhands.sdk.tool.builtins.ThinkObservation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.tool.builtins.ThinkObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.builtins.ThinkObservation.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.builtins.ThinkObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.builtins.ThinkObservation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

###### `openhands.sdk.tool.builtins.ThinkObservation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.tool.builtins.ThinkObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation - empty since action shows the thought.

##### `openhands.sdk.tool.builtins.ThinkTool`

```python
ThinkTool = ToolDefinition(name='think', description=THINK_DESCRIPTION, action_type=ThinkAction, observation_type=ThinkObservation, executor=(ThinkExecutor()), annotations=(ToolAnnotations(readOnlyHint=True, destructiveHint=False, idempotentHint=True, openWorldHint=False)))
```

##### `openhands.sdk.tool.builtins.finish`

**Classes:**

- [**FinishAction**](#openhands.sdk.tool.builtins.finish.FinishAction) –
- [**FinishExecutor**](#openhands.sdk.tool.builtins.finish.FinishExecutor) –
- [**FinishObservation**](#openhands.sdk.tool.builtins.finish.FinishObservation) –

**Attributes:**

- [**FinishTool**](#openhands.sdk.tool.builtins.finish.FinishTool) –
- [**TOOL_DESCRIPTION**](#openhands.sdk.tool.builtins.finish.TOOL_DESCRIPTION) –

###### `openhands.sdk.tool.builtins.finish.FinishAction`

Bases: <code>[Action](#openhands.sdk.tool.tool.Action)</code>

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.finish.FinishAction.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.finish.FinishAction.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.finish.FinishAction.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.finish.FinishAction.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.finish.FinishAction.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.finish.FinishAction.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.finish.FinishAction.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.finish.FinishAction.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.finish.FinishAction.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.finish.FinishAction.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.builtins.finish.FinishAction.kind) (<code>[str](#str)</code>) –
- [**message**](#openhands.sdk.tool.builtins.finish.FinishAction.message) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.finish.FinishAction.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.finish.FinishAction.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

####### `openhands.sdk.tool.builtins.finish.FinishAction.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

####### `openhands.sdk.tool.builtins.finish.FinishAction.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.tool.builtins.finish.FinishAction.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.message`

```python
message: str = Field(description='Final message to send to the user.')
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.tool.builtins.finish.FinishAction.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

####### `openhands.sdk.tool.builtins.finish.FinishAction.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

###### `openhands.sdk.tool.builtins.finish.FinishExecutor`

Bases: <code>[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor)</code>

**Functions:**

- [**close**](#openhands.sdk.tool.builtins.finish.FinishExecutor.close) – Close the executor and clean up resources.

####### `openhands.sdk.tool.builtins.finish.FinishExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

###### `openhands.sdk.tool.builtins.finish.FinishObservation`

Bases: <code>[Observation](#openhands.sdk.tool.tool.Observation)</code>

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.finish.FinishObservation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.finish.FinishObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.finish.FinishObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.finish.FinishObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.finish.FinishObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.finish.FinishObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.finish.FinishObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.finish.FinishObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.finish.FinishObservation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.finish.FinishObservation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.builtins.finish.FinishObservation.kind) (<code>[str](#str)</code>) –
- [**message**](#openhands.sdk.tool.builtins.finish.FinishObservation.message) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.finish.FinishObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.tool.builtins.finish.FinishObservation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.message.TextContent) | [ImageContent](#openhands.sdk.llm.message.ImageContent)\]</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.finish.FinishObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation - empty since action shows the message.

####### `openhands.sdk.tool.builtins.finish.FinishObservation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

####### `openhands.sdk.tool.builtins.finish.FinishObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.tool.builtins.finish.FinishObservation.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.message`

```python
message: str = Field(description='Final message sent to the user.')
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

####### `openhands.sdk.tool.builtins.finish.FinishObservation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

####### `openhands.sdk.tool.builtins.finish.FinishObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation - empty since action shows the message.

###### `openhands.sdk.tool.builtins.finish.FinishTool`

```python
FinishTool = ToolDefinition(name='finish', action_type=FinishAction, observation_type=FinishObservation, description=TOOL_DESCRIPTION, executor=(FinishExecutor()), annotations=(ToolAnnotations(title='finish', readOnlyHint=True, destructiveHint=False, idempotentHint=True, openWorldHint=False)))
```

###### `openhands.sdk.tool.builtins.finish.TOOL_DESCRIPTION`

```python
TOOL_DESCRIPTION = "Signals the completion of the current task or conversation.\n\nUse this tool when:\n- You have successfully completed the user's requested task\n- You cannot proceed further due to technical limitations or missing information\n\nThe message should include:\n- A clear summary of actions taken and their results\n- Any next steps for the user\n- Explanation if you're unable to complete the task\n- Any follow-up questions if more information is needed\n"
```

##### `openhands.sdk.tool.builtins.think`

**Classes:**

- [**ThinkAction**](#openhands.sdk.tool.builtins.think.ThinkAction) – Action for logging a thought without making any changes.
- [**ThinkExecutor**](#openhands.sdk.tool.builtins.think.ThinkExecutor) –
- [**ThinkObservation**](#openhands.sdk.tool.builtins.think.ThinkObservation) – Observation returned after logging a thought.

**Attributes:**

- [**THINK_DESCRIPTION**](#openhands.sdk.tool.builtins.think.THINK_DESCRIPTION) –
- [**ThinkTool**](#openhands.sdk.tool.builtins.think.ThinkTool) –

###### `openhands.sdk.tool.builtins.think.THINK_DESCRIPTION`

```python
THINK_DESCRIPTION = 'Use the tool to think about something. It will not obtain new information or make any changes to the repository, but just log the thought. Use it when complex reasoning or brainstorming is needed.\n\nCommon use cases:\n1. When exploring a repository and discovering the source of a bug, call this tool to brainstorm several unique ways of fixing the bug, and assess which change(s) are likely to be simplest and most effective.\n2. After receiving test results, use this tool to brainstorm ways to fix failing tests.\n3. When planning a complex refactoring, use this tool to outline different approaches and their tradeoffs.\n4. When designing a new feature, use this tool to think through architecture decisions and implementation details.\n5. When debugging a complex issue, use this tool to organize your thoughts and hypotheses.\n\nThe tool simply logs your thought process for better transparency and does not execute any code or make changes.'
```

###### `openhands.sdk.tool.builtins.think.ThinkAction`

Bases: <code>[Action](#openhands.sdk.tool.tool.Action)</code>

Action for logging a thought without making any changes.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.think.ThinkAction.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.think.ThinkAction.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.think.ThinkAction.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.think.ThinkAction.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.think.ThinkAction.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.think.ThinkAction.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.think.ThinkAction.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.think.ThinkAction.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.think.ThinkAction.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.think.ThinkAction.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.builtins.think.ThinkAction.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.think.ThinkAction.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**thought**](#openhands.sdk.tool.builtins.think.ThinkAction.thought) (<code>[str](#str)</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.think.ThinkAction.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation with thinking styling.

####### `openhands.sdk.tool.builtins.think.ThinkAction.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

####### `openhands.sdk.tool.builtins.think.ThinkAction.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.tool.builtins.think.ThinkAction.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.thought`

```python
thought: str = Field(description='The thought to log.')
```

####### `openhands.sdk.tool.builtins.think.ThinkAction.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

####### `openhands.sdk.tool.builtins.think.ThinkAction.visualize`

```python
visualize: Text
```

Return Rich Text representation with thinking styling.

###### `openhands.sdk.tool.builtins.think.ThinkExecutor`

Bases: <code>[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor)</code>

**Functions:**

- [**close**](#openhands.sdk.tool.builtins.think.ThinkExecutor.close) – Close the executor and clean up resources.

####### `openhands.sdk.tool.builtins.think.ThinkExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

###### `openhands.sdk.tool.builtins.think.ThinkObservation`

Bases: <code>[Observation](#openhands.sdk.tool.tool.Observation)</code>

Observation returned after logging a thought.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.builtins.think.ThinkObservation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.builtins.think.ThinkObservation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.builtins.think.ThinkObservation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.builtins.think.ThinkObservation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.builtins.think.ThinkObservation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.builtins.think.ThinkObservation.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.builtins.think.ThinkObservation.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.builtins.think.ThinkObservation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.builtins.think.ThinkObservation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.builtins.think.ThinkObservation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**content**](#openhands.sdk.tool.builtins.think.ThinkObservation.content) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.tool.builtins.think.ThinkObservation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.builtins.think.ThinkObservation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.tool.builtins.think.ThinkObservation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.message.TextContent) | [ImageContent](#openhands.sdk.llm.message.ImageContent)\]</code>) –
- [**visualize**](#openhands.sdk.tool.builtins.think.ThinkObservation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation - empty since action shows the thought.

####### `openhands.sdk.tool.builtins.think.ThinkObservation.content`

```python
content: str = Field(default='Your thought has been logged.', description='Confirmation message.')
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

####### `openhands.sdk.tool.builtins.think.ThinkObservation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.tool.builtins.think.ThinkObservation.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.model_post_init`

```python
model_post_init(_context)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

####### `openhands.sdk.tool.builtins.think.ThinkObservation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

####### `openhands.sdk.tool.builtins.think.ThinkObservation.visualize`

```python
visualize: Text
```

Return Rich Text representation - empty since action shows the thought.

###### `openhands.sdk.tool.builtins.think.ThinkTool`

```python
ThinkTool = ToolDefinition(name='think', description=THINK_DESCRIPTION, action_type=ThinkAction, observation_type=ThinkObservation, executor=(ThinkExecutor()), annotations=(ToolAnnotations(readOnlyHint=True, destructiveHint=False, idempotentHint=True, openWorldHint=False)))
```

#### `openhands.sdk.tool.list_registered_tools`

```python
list_registered_tools()
```

#### `openhands.sdk.tool.register_tool`

```python
register_tool(name, factory)
```

#### `openhands.sdk.tool.registry`

**Functions:**

- [**list_registered_tools**](#openhands.sdk.tool.registry.list_registered_tools) –
- [**register_tool**](#openhands.sdk.tool.registry.register_tool) –
- [**resolve_tool**](#openhands.sdk.tool.registry.resolve_tool) –

**Attributes:**

- [**Resolver**](#openhands.sdk.tool.registry.Resolver) – A resolver produces ToolDefinition instances for given params.

##### `openhands.sdk.tool.registry.Resolver`

```python
Resolver = Callable[[dict[str, Any], 'ConversationState'], Sequence[ToolDefinition]]
```

A resolver produces ToolDefinition instances for given params.

**Parameters:**

- **params** – Arbitrary parameters passed to the resolver. These are typically
  used to configure the ToolDefinition instances that are created.
- **conversation** – Optional conversation state to get directories from.

Returns: A sequence of ToolDefinition instances. Most of the time this will be a
single-item
sequence, but in some cases a ToolDefinition.create may produce multiple tools
(e.g., BrowserToolSet).

##### `openhands.sdk.tool.registry.list_registered_tools`

```python
list_registered_tools()
```

##### `openhands.sdk.tool.registry.register_tool`

```python
register_tool(name, factory)
```

##### `openhands.sdk.tool.registry.resolve_tool`

```python
resolve_tool(tool_spec, conv_state)
```

#### `openhands.sdk.tool.resolve_tool`

```python
resolve_tool(tool_spec, conv_state)
```

#### `openhands.sdk.tool.schema`

**Classes:**

- [**Action**](#openhands.sdk.tool.schema.Action) – Base schema for input action.
- [**Observation**](#openhands.sdk.tool.schema.Observation) – Base schema for output observation.
- [**Schema**](#openhands.sdk.tool.schema.Schema) – Base schema for input action / output observation.

**Functions:**

- [**py_type**](#openhands.sdk.tool.schema.py_type) – Map JSON schema types to Python types.

**Attributes:**

- [**S**](#openhands.sdk.tool.schema.S) –

##### `openhands.sdk.tool.schema.Action`

Bases: <code>[Schema](#openhands.sdk.tool.schema.Schema)</code>, <code>[ABC](#abc.ABC)</code>

Base schema for input action.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.schema.Action.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.schema.Action.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.schema.Action.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.schema.Action.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.schema.Action.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.schema.Action.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.schema.Action.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.schema.Action.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.schema.Action.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.schema.Action.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.schema.Action.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.schema.Action.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**visualize**](#openhands.sdk.tool.schema.Action.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

###### `openhands.sdk.tool.schema.Action.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.tool.schema.Action.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.schema.Action.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.schema.Action.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.tool.schema.Action.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.schema.Action.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.schema.Action.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.schema.Action.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.schema.Action.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.schema.Action.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.schema.Action.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.schema.Action.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.tool.schema.Action.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

##### `openhands.sdk.tool.schema.Observation`

Bases: <code>[Schema](#openhands.sdk.tool.schema.Schema)</code>, <code>[ABC](#abc.ABC)</code>

Base schema for output observation.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.schema.Observation.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.schema.Observation.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.schema.Observation.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.schema.Observation.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.schema.Observation.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.schema.Observation.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.schema.Observation.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.schema.Observation.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.schema.Observation.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.schema.Observation.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.schema.Observation.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.schema.Observation.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**to_llm_content**](#openhands.sdk.tool.schema.Observation.to_llm_content) (<code>[Sequence](#collections.abc.Sequence)\[[TextContent](#openhands.sdk.llm.TextContent) | [ImageContent](#openhands.sdk.llm.ImageContent)\]</code>) – Get the observation string to show to the agent.
- [**visualize**](#openhands.sdk.tool.schema.Observation.visualize) (<code>[Text](#rich.text.Text)</code>) – Return Rich Text representation of this action.

###### `openhands.sdk.tool.schema.Observation.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.tool.schema.Observation.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.schema.Observation.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.schema.Observation.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.tool.schema.Observation.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.schema.Observation.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.schema.Observation.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.schema.Observation.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.schema.Observation.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.schema.Observation.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.schema.Observation.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.schema.Observation.to_llm_content`

```python
to_llm_content: Sequence[TextContent | ImageContent]
```

Get the observation string to show to the agent.

###### `openhands.sdk.tool.schema.Observation.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

###### `openhands.sdk.tool.schema.Observation.visualize`

```python
visualize: Text
```

Return Rich Text representation of this action.

This method can be overridden by subclasses to customize visualization.
The base implementation displays all action fields systematically.

##### `openhands.sdk.tool.schema.S`

```python
S = TypeVar('S', bound='Schema')
```

##### `openhands.sdk.tool.schema.Schema`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>

Base schema for input action / output observation.

**Functions:**

- [**from_mcp_schema**](#openhands.sdk.tool.schema.Schema.from_mcp_schema) – Create a Schema subclass from an MCP/JSON Schema object.
- [**get_serializable_type**](#openhands.sdk.tool.schema.Schema.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.schema.Schema.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.schema.Schema.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.schema.Schema.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.schema.Schema.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.schema.Schema.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.schema.Schema.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.schema.Schema.resolve_kind) –
- [**to_mcp_schema**](#openhands.sdk.tool.schema.Schema.to_mcp_schema) – Convert to JSON schema format compatible with MCP.

**Attributes:**

- [**kind**](#openhands.sdk.tool.schema.Schema.kind) (<code>[str](#str)</code>) –
- [**model_config**](#openhands.sdk.tool.schema.Schema.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –

###### `openhands.sdk.tool.schema.Schema.from_mcp_schema`

```python
from_mcp_schema(model_name, schema)
```

Create a Schema subclass from an MCP/JSON Schema object.

For non-required fields, we annotate as `T | None`
so explicit nulls are allowed.

###### `openhands.sdk.tool.schema.Schema.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.schema.Schema.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.schema.Schema.model_config`

```python
model_config: ConfigDict = ConfigDict(extra='forbid', frozen=True)
```

###### `openhands.sdk.tool.schema.Schema.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.schema.Schema.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.schema.Schema.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.schema.Schema.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.schema.Schema.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.schema.Schema.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.schema.Schema.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.schema.Schema.to_mcp_schema`

```python
to_mcp_schema()
```

Convert to JSON schema format compatible with MCP.

##### `openhands.sdk.tool.schema.py_type`

```python
py_type(spec)
```

Map JSON schema types to Python types.

#### `openhands.sdk.tool.spec`

**Classes:**

- [**Tool**](#openhands.sdk.tool.spec.Tool) – Defines a tool to be initialized for the agent.

##### `openhands.sdk.tool.spec.Tool`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Defines a tool to be initialized for the agent.

This is only used in agent-sdk for type schema for server use.

**Functions:**

- [**validate_name**](#openhands.sdk.tool.spec.Tool.validate_name) – Validate that name is not empty.
- [**validate_params**](#openhands.sdk.tool.spec.Tool.validate_params) – Convert None params to empty dict.

**Attributes:**

- [**name**](#openhands.sdk.tool.spec.Tool.name) (<code>[str](#str)</code>) –
- [**params**](#openhands.sdk.tool.spec.Tool.params) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) –

###### `openhands.sdk.tool.spec.Tool.name`

```python
name: str = Field(..., description="Name of the tool class, e.g., 'BashTool'. Import it from an `openhands.tools.<module>` subpackage.", examples=['BashTool', 'FileEditorTool', 'TaskTrackerTool'])
```

###### `openhands.sdk.tool.spec.Tool.params`

```python
params: dict[str, Any] = Field(default_factory=dict, description="Parameters for the tool's .create() method, e.g., {'working_dir': '/app'}", examples=[{'working_dir': '/workspace'}])
```

###### `openhands.sdk.tool.spec.Tool.validate_name`

```python
validate_name(v)
```

Validate that name is not empty.

###### `openhands.sdk.tool.spec.Tool.validate_params`

```python
validate_params(v)
```

Convert None params to empty dict.

#### `openhands.sdk.tool.tool`

**Classes:**

- [**ExecutableTool**](#openhands.sdk.tool.tool.ExecutableTool) – Protocol for tools that are guaranteed to have a non-None executor.
- [**ToolAnnotations**](#openhands.sdk.tool.tool.ToolAnnotations) – Annotations to provide hints about the tool's behavior.
- [**ToolBase**](#openhands.sdk.tool.tool.ToolBase) – Tool that wraps an executor function with input/output validation and schema.
- [**ToolDefinition**](#openhands.sdk.tool.tool.ToolDefinition) – Concrete tool class that inherits from ToolBase.
- [**ToolExecutor**](#openhands.sdk.tool.tool.ToolExecutor) – Executor function type for a Tool.

**Attributes:**

- [**ActionT**](#openhands.sdk.tool.tool.ActionT) –
- [**ObservationT**](#openhands.sdk.tool.tool.ObservationT) –

##### `openhands.sdk.tool.tool.ActionT`

```python
ActionT = TypeVar('ActionT', bound=Action)
```

##### `openhands.sdk.tool.tool.ExecutableTool`

Bases: <code>[Protocol](#typing.Protocol)</code>

Protocol for tools that are guaranteed to have a non-None executor.

This eliminates the need for runtime None checks and type narrowing
when working with tools that are known to be executable.

**Attributes:**

- [**executor**](#openhands.sdk.tool.tool.ExecutableTool.executor) (<code>[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor)\[[Any](#typing.Any), [Any](#typing.Any)\]</code>) –
- [**name**](#openhands.sdk.tool.tool.ExecutableTool.name) (<code>[str](#str)</code>) –

###### `openhands.sdk.tool.tool.ExecutableTool.executor`

```python
executor: ToolExecutor[Any, Any]
```

###### `openhands.sdk.tool.tool.ExecutableTool.name`

```python
name: str
```

##### `openhands.sdk.tool.tool.ObservationT`

```python
ObservationT = TypeVar('ObservationT', bound=Observation)
```

##### `openhands.sdk.tool.tool.ToolAnnotations`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Annotations to provide hints about the tool's behavior.

Based on Model Context Protocol (MCP) spec:
https://github.com/modelcontextprotocol/modelcontextprotocol/blob/caf3424488b10b4a7b1f8cb634244a450a1f4400/schema/2025-06-18/schema.ts#L838

**Attributes:**

- [**destructiveHint**](#openhands.sdk.tool.tool.ToolAnnotations.destructiveHint) (<code>[bool](#bool)</code>) –
- [**idempotentHint**](#openhands.sdk.tool.tool.ToolAnnotations.idempotentHint) (<code>[bool](#bool)</code>) –
- [**model_config**](#openhands.sdk.tool.tool.ToolAnnotations.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**openWorldHint**](#openhands.sdk.tool.tool.ToolAnnotations.openWorldHint) (<code>[bool](#bool)</code>) –
- [**readOnlyHint**](#openhands.sdk.tool.tool.ToolAnnotations.readOnlyHint) (<code>[bool](#bool)</code>) –
- [**title**](#openhands.sdk.tool.tool.ToolAnnotations.title) (<code>[str](#str) | None</code>) –

###### `openhands.sdk.tool.tool.ToolAnnotations.destructiveHint`

```python
destructiveHint: bool = Field(default=True, description='If true, the tool may perform destructive updates to its environment. If false, the tool performs only additive updates. (This property is meaningful only when `readOnlyHint == false`) Default: true')
```

###### `openhands.sdk.tool.tool.ToolAnnotations.idempotentHint`

```python
idempotentHint: bool = Field(default=False, description='If true, calling the tool repeatedly with the same arguments will have no additional effect on the its environment. (This property is meaningful only when `readOnlyHint == false`) Default: false')
```

###### `openhands.sdk.tool.tool.ToolAnnotations.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, title='openhands.sdk.tool.tool.ToolAnnotations')
```

###### `openhands.sdk.tool.tool.ToolAnnotations.openWorldHint`

```python
openWorldHint: bool = Field(default=True, description="If true, this tool may interact with an 'open world' of external entities. If false, the tool's domain of interaction is closed. For example, the world of a web search tool is open, whereas that of a memory tool is not. Default: true")
```

###### `openhands.sdk.tool.tool.ToolAnnotations.readOnlyHint`

```python
readOnlyHint: bool = Field(default=False, description='If true, the tool does not modify its environment. Default: false')
```

###### `openhands.sdk.tool.tool.ToolAnnotations.title`

```python
title: str | None = Field(default=None, description='A human-readable title for the tool.')
```

##### `openhands.sdk.tool.tool.ToolBase`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Tool that wraps an executor function with input/output validation and schema.

- Normalize input/output schemas (class or dict) into both model+schema.
- Validate inputs before execute.
- Coerce outputs only if an output model is defined; else return vanilla JSON.
- Export MCP tool description.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.tool.tool.ToolBase.action_from_arguments) – Create an action from parsed arguments.
- [**as_executable**](#openhands.sdk.tool.tool.ToolBase.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.tool.tool.ToolBase.create) – Create a sequence of Tool instances. Placeholder for subclasses.
- [**get_serializable_type**](#openhands.sdk.tool.tool.ToolBase.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.tool.ToolBase.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.tool.ToolBase.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.tool.ToolBase.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.tool.ToolBase.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.tool.ToolBase.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.tool.ToolBase.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.tool.ToolBase.resolve_kind) –
- [**set_executor**](#openhands.sdk.tool.tool.ToolBase.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.tool.tool.ToolBase.to_mcp_tool) – Convert a Tool to an MCP tool definition.
- [**to_openai_tool**](#openhands.sdk.tool.tool.ToolBase.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.tool.tool.ToolBase.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.tool.tool.ToolBase.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.tool.tool.ToolBase.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.tool.tool.ToolBase.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.tool.tool.ToolBase.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.tool.tool.ToolBase.kind) (<code>[str](#str)</code>) –
- [**meta**](#openhands.sdk.tool.tool.ToolBase.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.tool.tool.ToolBase.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.tool.tool.ToolBase.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.tool.tool.ToolBase.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.tool.tool.ToolBase.title) (<code>[str](#str)</code>) –

###### `openhands.sdk.tool.tool.ToolBase.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an action from parsed arguments.

This method can be overridden by subclasses to provide custom logic
for creating actions from arguments (e.g., for MCP tools).

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[Action](#openhands.sdk.tool.schema.Action)</code> – The action instance created from the arguments.

###### `openhands.sdk.tool.tool.ToolBase.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

###### `openhands.sdk.tool.tool.ToolBase.annotations`

```python
annotations: ToolAnnotations | None = None
```

###### `openhands.sdk.tool.tool.ToolBase.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

###### `openhands.sdk.tool.tool.ToolBase.create`

```python
create(*args, **kwargs)
```

Create a sequence of Tool instances. Placeholder for subclasses.

This can be overridden in subclasses to provide custom initialization logic
(e.g., typically initializing the executor with parameters).

**Returns:**

- <code>[Sequence](#collections.abc.Sequence)\[[Self](#typing.Self)\]</code> – A sequence of Tool instances. Even single tools are returned as a sequence
- <code>[Sequence](#collections.abc.Sequence)\[[Self](#typing.Self)\]</code> – to provide a consistent interface and eliminate union return types.

###### `openhands.sdk.tool.tool.ToolBase.description`

```python
description: str
```

###### `openhands.sdk.tool.tool.ToolBase.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

###### `openhands.sdk.tool.tool.ToolBase.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.tool.ToolBase.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.tool.ToolBase.meta`

```python
meta: dict[str, Any] | None = None
```

###### `openhands.sdk.tool.tool.ToolBase.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

###### `openhands.sdk.tool.tool.ToolBase.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.tool.ToolBase.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.tool.ToolBase.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.tool.ToolBase.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.tool.ToolBase.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.tool.ToolBase.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.tool.ToolBase.name`

```python
name: str
```

###### `openhands.sdk.tool.tool.ToolBase.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

###### `openhands.sdk.tool.tool.ToolBase.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.tool.ToolBase.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

###### `openhands.sdk.tool.tool.ToolBase.title`

```python
title: str
```

###### `openhands.sdk.tool.tool.ToolBase.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

Convert a Tool to an MCP tool definition.

Allow overriding input/output schemas (usually by subclasses).

**Parameters:**

- **input_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the input schema.
- **output_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the output schema.

###### `openhands.sdk.tool.tool.ToolBase.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.
- **action_type** (<code>[type](#type)\[[Schema](#openhands.sdk.tool.schema.Schema)\] | None</code>) – Optionally override the action_type to use for the schema.
  This is useful for MCPTool to use a dynamically created action type
  based on the tool's input schema.

###### `openhands.sdk.tool.tool.ToolBase.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

##### `openhands.sdk.tool.tool.ToolDefinition`

Bases: <code>[ToolBase](#openhands.sdk.tool.tool.ToolBase)\[[ToolDefinition[ActionT]](#openhands.sdk.tool.tool.ToolDefinition%5BActionT%5D), [ToolDefinition[ObservationT]](#openhands.sdk.tool.tool.ToolDefinition%5BObservationT%5D)\]</code>

Concrete tool class that inherits from ToolBase.

This class serves as a concrete implementation of ToolBase for cases where
you want to create a tool instance directly without implementing a custom
subclass. Built-in tools (like FinishTool, ThinkTool) are instantiated
directly from this class, while more complex tools (like BashTool,
FileEditorTool) inherit from this class and provide their own create()
method implementations.

**Functions:**

- [**action_from_arguments**](#openhands.sdk.tool.tool.ToolDefinition.action_from_arguments) – Create an action from parsed arguments.
- [**as_executable**](#openhands.sdk.tool.tool.ToolDefinition.as_executable) – Return this tool as an ExecutableTool, ensuring it has an executor.
- [**create**](#openhands.sdk.tool.tool.ToolDefinition.create) – Create a sequence of ToolDefinition instances.
- [**get_serializable_type**](#openhands.sdk.tool.tool.ToolDefinition.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.tool.tool.ToolDefinition.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.tool.tool.ToolDefinition.model_json_schema) –
- [**model_post_init**](#openhands.sdk.tool.tool.ToolDefinition.model_post_init) –
- [**model_rebuild**](#openhands.sdk.tool.tool.ToolDefinition.model_rebuild) –
- [**model_validate**](#openhands.sdk.tool.tool.ToolDefinition.model_validate) –
- [**model_validate_json**](#openhands.sdk.tool.tool.ToolDefinition.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.tool.tool.ToolDefinition.resolve_kind) –
- [**set_executor**](#openhands.sdk.tool.tool.ToolDefinition.set_executor) – Create a new Tool instance with the given executor.
- [**to_mcp_tool**](#openhands.sdk.tool.tool.ToolDefinition.to_mcp_tool) – Convert a Tool to an MCP tool definition.
- [**to_openai_tool**](#openhands.sdk.tool.tool.ToolDefinition.to_openai_tool) – Convert a Tool to an OpenAI tool.
- [**to_responses_tool**](#openhands.sdk.tool.tool.ToolDefinition.to_responses_tool) – Convert a Tool to a Responses API function tool (LiteLLM typed).

**Attributes:**

- [**action_type**](#openhands.sdk.tool.tool.ToolDefinition.action_type) (<code>[type](#type)\[[Action](#openhands.sdk.tool.schema.Action)\]</code>) –
- [**annotations**](#openhands.sdk.tool.tool.ToolDefinition.annotations) (<code>[ToolAnnotations](#openhands.sdk.tool.tool.ToolAnnotations) | None</code>) –
- [**description**](#openhands.sdk.tool.tool.ToolDefinition.description) (<code>[str](#str)</code>) –
- [**executor**](#openhands.sdk.tool.tool.ToolDefinition.executor) (<code>[SkipJsonSchema](#pydantic.json_schema.SkipJsonSchema)\[[ToolExecutor](#openhands.sdk.tool.tool.ToolExecutor) | None\]</code>) –
- [**kind**](#openhands.sdk.tool.tool.ToolDefinition.kind) (<code>[str](#str)</code>) –
- [**meta**](#openhands.sdk.tool.tool.ToolDefinition.meta) (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) –
- [**model_config**](#openhands.sdk.tool.tool.ToolDefinition.model_config) (<code>[ConfigDict](#pydantic.ConfigDict)</code>) –
- [**name**](#openhands.sdk.tool.tool.ToolDefinition.name) (<code>[str](#str)</code>) –
- [**observation_type**](#openhands.sdk.tool.tool.ToolDefinition.observation_type) (<code>[type](#type)\[[Observation](#openhands.sdk.tool.schema.Observation)\] | None</code>) –
- [**title**](#openhands.sdk.tool.tool.ToolDefinition.title) (<code>[str](#str)</code>) –

###### `openhands.sdk.tool.tool.ToolDefinition.action_from_arguments`

```python
action_from_arguments(arguments)
```

Create an action from parsed arguments.

This method can be overridden by subclasses to provide custom logic
for creating actions from arguments (e.g., for MCP tools).

**Parameters:**

- **arguments** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\]</code>) – The parsed arguments from the tool call.

**Returns:**

- <code>[Action](#openhands.sdk.tool.schema.Action)</code> – The action instance created from the arguments.

###### `openhands.sdk.tool.tool.ToolDefinition.action_type`

```python
action_type: type[Action] = Field(repr=False)
```

###### `openhands.sdk.tool.tool.ToolDefinition.annotations`

```python
annotations: ToolAnnotations | None = None
```

###### `openhands.sdk.tool.tool.ToolDefinition.as_executable`

```python
as_executable()
```

Return this tool as an ExecutableTool, ensuring it has an executor.

This method eliminates the need for runtime None checks by guaranteeing
that the returned tool has a non-None executor.

**Returns:**

- <code>[ExecutableTool](#openhands.sdk.tool.tool.ExecutableTool)</code> – This tool instance, typed as ExecutableTool.

**Raises:**

- <code>[NotImplementedError](#NotImplementedError)</code> – If the tool has no executor.

###### `openhands.sdk.tool.tool.ToolDefinition.create`

```python
create(*args, **kwargs)
```

Create a sequence of ToolDefinition instances.

TODO https://github.com/OpenHands/agent-sdk/issues/493
Refactor this - the ToolDefinition class should not have a concrete create()
implementation. Built-in tools should be refactored to not rely on this
method, and then this should be made abstract with @abstractmethod.

###### `openhands.sdk.tool.tool.ToolDefinition.description`

```python
description: str
```

###### `openhands.sdk.tool.tool.ToolDefinition.executor`

```python
executor: SkipJsonSchema[ToolExecutor | None] = Field(default=None, repr=False, exclude=True)
```

###### `openhands.sdk.tool.tool.ToolDefinition.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.tool.tool.ToolDefinition.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.tool.tool.ToolDefinition.meta`

```python
meta: dict[str, Any] | None = None
```

###### `openhands.sdk.tool.tool.ToolDefinition.model_config`

```python
model_config: ConfigDict = ConfigDict(frozen=True, arbitrary_types_allowed=True)
```

###### `openhands.sdk.tool.tool.ToolDefinition.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.tool.tool.ToolDefinition.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.tool.tool.ToolDefinition.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.tool.tool.ToolDefinition.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.tool.tool.ToolDefinition.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.tool.tool.ToolDefinition.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.tool.tool.ToolDefinition.name`

```python
name: str
```

###### `openhands.sdk.tool.tool.ToolDefinition.observation_type`

```python
observation_type: type[Observation] | None = Field(default=None, repr=False)
```

###### `openhands.sdk.tool.tool.ToolDefinition.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.tool.tool.ToolDefinition.set_executor`

```python
set_executor(executor)
```

Create a new Tool instance with the given executor.

###### `openhands.sdk.tool.tool.ToolDefinition.title`

```python
title: str
```

###### `openhands.sdk.tool.tool.ToolDefinition.to_mcp_tool`

```python
to_mcp_tool(input_schema=None, output_schema=None)
```

Convert a Tool to an MCP tool definition.

Allow overriding input/output schemas (usually by subclasses).

**Parameters:**

- **input_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the input schema.
- **output_schema** (<code>[dict](#dict)\[[str](#str), [Any](#typing.Any)\] | None</code>) – Optionally override the output schema.

###### `openhands.sdk.tool.tool.ToolDefinition.to_openai_tool`

```python
to_openai_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to an OpenAI tool.

**Parameters:**

- **add_security_risk_prediction** (<code>[bool](#bool)</code>) – Whether to add a `security_risk` field
  to the action schema for LLM to predict. This is useful for
  tools that may have safety risks, so the LLM can reason about
  the risk level before calling the tool.
- **action_type** (<code>[type](#type)\[[Schema](#openhands.sdk.tool.schema.Schema)\] | None</code>) – Optionally override the action_type to use for the schema.
  This is useful for MCPTool to use a dynamically created action type
  based on the tool's input schema.

###### `openhands.sdk.tool.tool.ToolDefinition.to_responses_tool`

```python
to_responses_tool(add_security_risk_prediction=False, action_type=None)
```

Convert a Tool to a Responses API function tool (LiteLLM typed).

For Responses API, function tools expect top-level keys:
{ "type": "function", "name": ..., "description": ..., "parameters": ... }

##### `openhands.sdk.tool.tool.ToolExecutor`

Bases: <code>[ABC](#abc.ABC)</code>

Executor function type for a Tool.

**Functions:**

- [**close**](#openhands.sdk.tool.tool.ToolExecutor.close) – Close the executor and clean up resources.

###### `openhands.sdk.tool.tool.ToolExecutor.close`

```python
close()
```

Close the executor and clean up resources.

Default implementation does nothing. Subclasses should override
this method to perform cleanup (e.g., closing connections,
terminating processes, etc.).

### `openhands.sdk.utils`

Utility functions for the OpenHands SDK.

**Modules:**

- [**async_executor**](#openhands.sdk.utils.async_executor) – Reusable async-to-sync execution utility.
- [**async_utils**](#openhands.sdk.utils.async_utils) – Async utilities for OpenHands SDK.
- [**cipher**](#openhands.sdk.utils.cipher) – Cipher utility for preventing accidental secret disclosure in serialized data
- [**command**](#openhands.sdk.utils.command) –
- [**json**](#openhands.sdk.utils.json) –
- [**models**](#openhands.sdk.utils.models) –
- [**pydantic_diff**](#openhands.sdk.utils.pydantic_diff) –
- [**pydantic_secrets**](#openhands.sdk.utils.pydantic_secrets) –
- [**truncate**](#openhands.sdk.utils.truncate) – Utility functions for truncating text content.
- [**visualize**](#openhands.sdk.utils.visualize) –

**Functions:**

- [**maybe_truncate**](#openhands.sdk.utils.maybe_truncate) – Truncate the middle of content if it exceeds the specified length.

**Attributes:**

- [**DEFAULT_TEXT_CONTENT_LIMIT**](#openhands.sdk.utils.DEFAULT_TEXT_CONTENT_LIMIT) –
- [**DEFAULT_TRUNCATE_NOTICE**](#openhands.sdk.utils.DEFAULT_TRUNCATE_NOTICE) –

#### `openhands.sdk.utils.DEFAULT_TEXT_CONTENT_LIMIT`

```python
DEFAULT_TEXT_CONTENT_LIMIT = 50000
```

#### `openhands.sdk.utils.DEFAULT_TRUNCATE_NOTICE`

```python
DEFAULT_TRUNCATE_NOTICE = '<response clipped><NOTE>Due to the max output limit, only part of the full response has been shown to you.</NOTE>'
```

#### `openhands.sdk.utils.async_executor`

Reusable async-to-sync execution utility.

**Classes:**

- [**AsyncExecutor**](#openhands.sdk.utils.async_executor.AsyncExecutor) – Manages a background event loop for executing async code from sync contexts.

##### `openhands.sdk.utils.async_executor.AsyncExecutor`

```python
AsyncExecutor()
```

Manages a background event loop for executing async code from sync contexts.

This provides a robust async-to-sync bridge with proper resource management,
timeout support, and thread safety.

**Functions:**

- [**close**](#openhands.sdk.utils.async_executor.AsyncExecutor.close) – Close the async executor and cleanup resources.
- [**run_async**](#openhands.sdk.utils.async_executor.AsyncExecutor.run_async) – Run a coroutine or async function on the background loop from sync code.

###### `openhands.sdk.utils.async_executor.AsyncExecutor.close`

```python
close()
```

Close the async executor and cleanup resources.

###### `openhands.sdk.utils.async_executor.AsyncExecutor.run_async`

```python
run_async(awaitable_or_fn, *args, timeout=300.0, **kwargs)
```

Run a coroutine or async function on the background loop from sync code.

**Parameters:**

- **awaitable_or_fn** (<code>[Callable](#collections.abc.Callable)\[..., [Any](#typing.Any)\] | [Any](#typing.Any)</code>) – Coroutine or async function to execute
- \***args** – Arguments to pass to the function
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds (default: 300)
- \*\***kwargs** – Keyword arguments to pass to the function

**Returns:**

- <code>[Any](#typing.Any)</code> – The result of the async operation

**Raises:**

- <code>[TypeError](#TypeError)</code> – If awaitable_or_fn is not a coroutine or async function
- <code>[TimeoutError](#asyncio.TimeoutError)</code> – If the operation times out

#### `openhands.sdk.utils.async_utils`

Async utilities for OpenHands SDK.

This module provides utilities for working with async callbacks in the context
of synchronous conversation handling.

**Classes:**

- [**AsyncCallbackWrapper**](#openhands.sdk.utils.async_utils.AsyncCallbackWrapper) – Wrapper that executes async callbacks in a different thread's event loop.

**Attributes:**

- [**AsyncConversationCallback**](#openhands.sdk.utils.async_utils.AsyncConversationCallback) –

##### `openhands.sdk.utils.async_utils.AsyncCallbackWrapper`

```python
AsyncCallbackWrapper(async_callback, loop)
```

Wrapper that executes async callbacks in a different thread's event loop.

This class implements the ConversationCallbackType interface (synchronous)
but internally executes an async callback in an event loop running in a
different thread. This allows async callbacks to be used in synchronous
conversation contexts.

**Attributes:**

- [**async_callback**](#openhands.sdk.utils.async_utils.AsyncCallbackWrapper.async_callback) (<code>[AsyncConversationCallback](#openhands.sdk.utils.async_utils.AsyncConversationCallback)</code>) –
- [**loop**](#openhands.sdk.utils.async_utils.AsyncCallbackWrapper.loop) (<code>[AbstractEventLoop](#asyncio.AbstractEventLoop)</code>) –

###### `openhands.sdk.utils.async_utils.AsyncCallbackWrapper.async_callback`

```python
async_callback: AsyncConversationCallback = async_callback
```

###### `openhands.sdk.utils.async_utils.AsyncCallbackWrapper.loop`

```python
loop: asyncio.AbstractEventLoop = loop
```

##### `openhands.sdk.utils.async_utils.AsyncConversationCallback`

```python
AsyncConversationCallback = Callable[[Event], Coroutine[Any, Any, None]]
```

#### `openhands.sdk.utils.cipher`

Cipher utility for preventing accidental secret disclosure in serialized data

SECURITY WARNINGS:

- The secret key is a string for ease of use but should contain at least 256
  bits of entropy

**Classes:**

- [**Cipher**](#openhands.sdk.utils.cipher.Cipher) – Simple encryption utility for preventing accidental secret disclosure.

##### `openhands.sdk.utils.cipher.Cipher`

```python
Cipher(secret_key)
```

Simple encryption utility for preventing accidental secret disclosure.

**Functions:**

- [**decrypt**](#openhands.sdk.utils.cipher.Cipher.decrypt) – Decrypt a secret value, returning None if decryption fails.
- [**encrypt**](#openhands.sdk.utils.cipher.Cipher.encrypt) –

**Attributes:**

- [**secret_key**](#openhands.sdk.utils.cipher.Cipher.secret_key) –

###### `openhands.sdk.utils.cipher.Cipher.decrypt`

```python
decrypt(secret)
```

Decrypt a secret value, returning None if decryption fails.

This handles cases where existing conversations were serialized with different
encryption keys or contain invalid encrypted data. A warning is logged when
decryption fails and a None is returned. This mimics the case where
no cipher was defined so secrets where redacted.

###### `openhands.sdk.utils.cipher.Cipher.encrypt`

```python
encrypt(secret)
```

###### `openhands.sdk.utils.cipher.Cipher.secret_key`

```python
secret_key = secret_key
```

#### `openhands.sdk.utils.command`

**Functions:**

- [**execute_command**](#openhands.sdk.utils.command.execute_command) –

**Attributes:**

- [**logger**](#openhands.sdk.utils.command.logger) –

##### `openhands.sdk.utils.command.execute_command`

```python
execute_command(cmd, env=None, cwd=None, timeout=None, print_output=True)
```

##### `openhands.sdk.utils.command.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.utils.json`

**Classes:**

- [**OpenHandsJSONEncoder**](#openhands.sdk.utils.json.OpenHandsJSONEncoder) – Custom JSON encoder that handles datetime and other OH objects

**Functions:**

- [**dumps**](#openhands.sdk.utils.json.dumps) – Serialize an object to str format
- [**loads**](#openhands.sdk.utils.json.loads) – Create a JSON object from str

##### `openhands.sdk.utils.json.OpenHandsJSONEncoder`

Bases: <code>[JSONEncoder](#json.JSONEncoder)</code>

Custom JSON encoder that handles datetime and other OH objects

**Functions:**

- [**default**](#openhands.sdk.utils.json.OpenHandsJSONEncoder.default) –

###### `openhands.sdk.utils.json.OpenHandsJSONEncoder.default`

```python
default(o)
```

##### `openhands.sdk.utils.json.dumps`

```python
dumps(obj, **kwargs)
```

Serialize an object to str format

##### `openhands.sdk.utils.json.loads`

```python
loads(json_str, **kwargs)
```

Create a JSON object from str

#### `openhands.sdk.utils.maybe_truncate`

```python
maybe_truncate(content, truncate_after=None, truncate_notice=DEFAULT_TRUNCATE_NOTICE)
```

Truncate the middle of content if it exceeds the specified length.

Keeps the head and tail of the content to preserve context at both ends.

**Parameters:**

- **content** (<code>[str](#str)</code>) – The text content to potentially truncate
- **truncate_after** (<code>[int](#int) | None</code>) – Maximum length before truncation. If None, no truncation occurs
- **truncate_notice** (<code>[str](#str)</code>) – Notice to insert in the middle when content is truncated

**Returns:**

- <code>[str](#str)</code> – Original content if under limit, or truncated content with head and tail
- <code>[str](#str)</code> – preserved

#### `openhands.sdk.utils.models`

**Classes:**

- [**DiscriminatedUnionMixin**](#openhands.sdk.utils.models.DiscriminatedUnionMixin) – A Base class for members of tagged unions discriminated by the class name.
- [**OpenHandsModel**](#openhands.sdk.utils.models.OpenHandsModel) – Tags a class where the which may be a discriminated union or contain fields

**Functions:**

- [**get_known_concrete_subclasses**](#openhands.sdk.utils.models.get_known_concrete_subclasses) – Recursively returns all concrete subclasses in a stable order,
- [**kind_of**](#openhands.sdk.utils.models.kind_of) – Get the string value for the kind tag
- [**rebuild_all**](#openhands.sdk.utils.models.rebuild_all) – Rebuild all polymorphic classes.

**Attributes:**

- [**logger**](#openhands.sdk.utils.models.logger) –

##### `openhands.sdk.utils.models.DiscriminatedUnionMixin`

Bases: <code>[OpenHandsModel](#openhands.sdk.utils.models.OpenHandsModel)</code>, <code>[ABC](#abc.ABC)</code>

A Base class for members of tagged unions discriminated by the class name.

This class provides automatic subclass registration and discriminated union
functionality. Each subclass is automatically registered when defined and
can be used for polymorphic serialization/deserialization.

Child classes will automatically have a type field defined, which is used as a
discriminator for union types.

**Functions:**

- [**get_serializable_type**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.get_serializable_type) – Custom method to get the union of all currently loaded
- [**model_dump_json**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.model_json_schema) –
- [**model_post_init**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.model_post_init) –
- [**model_rebuild**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.model_rebuild) –
- [**model_validate**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.model_validate) –
- [**model_validate_json**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.utils.models.DiscriminatedUnionMixin.kind) (<code>[str](#str)</code>) –

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.utils.models.DiscriminatedUnionMixin.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.utils.models.OpenHandsModel`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Tags a class where the which may be a discriminated union or contain fields
which contain a discriminated union. The first time an instance is initialized,
the schema is loaded, or a model is validated after a subclass is defined we
regenerate all the polymorphic mappings.

**Functions:**

- [**model_dump_json**](#openhands.sdk.utils.models.OpenHandsModel.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.utils.models.OpenHandsModel.model_json_schema) –
- [**model_post_init**](#openhands.sdk.utils.models.OpenHandsModel.model_post_init) –
- [**model_validate**](#openhands.sdk.utils.models.OpenHandsModel.model_validate) –
- [**model_validate_json**](#openhands.sdk.utils.models.OpenHandsModel.model_validate_json) –

###### `openhands.sdk.utils.models.OpenHandsModel.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.utils.models.OpenHandsModel.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.utils.models.OpenHandsModel.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.utils.models.OpenHandsModel.model_validate`

```python
model_validate(*args, **kwargs)
```

###### `openhands.sdk.utils.models.OpenHandsModel.model_validate_json`

```python
model_validate_json(*args, **kwargs)
```

##### `openhands.sdk.utils.models.get_known_concrete_subclasses`

```python
get_known_concrete_subclasses(cls)
```

Recursively returns all concrete subclasses in a stable order,
without deduping classes that share the same (module, name).

##### `openhands.sdk.utils.models.kind_of`

```python
kind_of(obj)
```

Get the string value for the kind tag

##### `openhands.sdk.utils.models.logger`

```python
logger = logging.getLogger(__name__)
```

##### `openhands.sdk.utils.models.rebuild_all`

```python
rebuild_all()
```

Rebuild all polymorphic classes.

#### `openhands.sdk.utils.pydantic_diff`

**Functions:**

- [**pretty_pydantic_diff**](#openhands.sdk.utils.pydantic_diff.pretty_pydantic_diff) –

##### `openhands.sdk.utils.pydantic_diff.pretty_pydantic_diff`

```python
pretty_pydantic_diff(a, b)
```

#### `openhands.sdk.utils.pydantic_secrets`

**Functions:**

- [**serialize_secret**](#openhands.sdk.utils.pydantic_secrets.serialize_secret) – Serialize secret fields with encryption or redaction.
- [**validate_secret**](#openhands.sdk.utils.pydantic_secrets.validate_secret) – Deserialize secret fields, handling encryption and empty values.

##### `openhands.sdk.utils.pydantic_secrets.serialize_secret`

```python
serialize_secret(v, info)
```

Serialize secret fields with encryption or redaction.

- If a cipher is provided in context, encrypts the secret value
- If expose_secrets flag is True in context, exposes the actual value
- Otherwise, lets Pydantic handle default masking (redaction)
- This prevents accidental secret disclosure

##### `openhands.sdk.utils.pydantic_secrets.validate_secret`

```python
validate_secret(v, info)
```

Deserialize secret fields, handling encryption and empty values.

- Empty secrets are converted to None
- If a cipher is provided in context, attempts to decrypt the value
- If decryption fails, the cipher returns None and a warning is logged
- This gracefully handles conversations encrypted with different keys or were redacted

#### `openhands.sdk.utils.truncate`

Utility functions for truncating text content.

**Functions:**

- [**maybe_truncate**](#openhands.sdk.utils.truncate.maybe_truncate) – Truncate the middle of content if it exceeds the specified length.

**Attributes:**

- [**DEFAULT_TEXT_CONTENT_LIMIT**](#openhands.sdk.utils.truncate.DEFAULT_TEXT_CONTENT_LIMIT) –
- [**DEFAULT_TRUNCATE_NOTICE**](#openhands.sdk.utils.truncate.DEFAULT_TRUNCATE_NOTICE) –

##### `openhands.sdk.utils.truncate.DEFAULT_TEXT_CONTENT_LIMIT`

```python
DEFAULT_TEXT_CONTENT_LIMIT = 50000
```

##### `openhands.sdk.utils.truncate.DEFAULT_TRUNCATE_NOTICE`

```python
DEFAULT_TRUNCATE_NOTICE = '<response clipped><NOTE>Due to the max output limit, only part of the full response has been shown to you.</NOTE>'
```

##### `openhands.sdk.utils.truncate.maybe_truncate`

```python
maybe_truncate(content, truncate_after=None, truncate_notice=DEFAULT_TRUNCATE_NOTICE)
```

Truncate the middle of content if it exceeds the specified length.

Keeps the head and tail of the content to preserve context at both ends.

**Parameters:**

- **content** (<code>[str](#str)</code>) – The text content to potentially truncate
- **truncate_after** (<code>[int](#int) | None</code>) – Maximum length before truncation. If None, no truncation occurs
- **truncate_notice** (<code>[str](#str)</code>) – Notice to insert in the middle when content is truncated

**Returns:**

- <code>[str](#str)</code> – Original content if under limit, or truncated content with head and tail
- <code>[str](#str)</code> – preserved

#### `openhands.sdk.utils.visualize`

**Functions:**

- [**display_dict**](#openhands.sdk.utils.visualize.display_dict) – Create a Rich Text representation of a dictionary.

##### `openhands.sdk.utils.visualize.display_dict`

```python
display_dict(d)
```

Create a Rich Text representation of a dictionary.

### `openhands.sdk.workspace`

**Modules:**

- [**base**](#openhands.sdk.workspace.base) –
- [**local**](#openhands.sdk.workspace.local) –
- [**models**](#openhands.sdk.workspace.models) – Pydantic models for workspace operation results.
- [**remote**](#openhands.sdk.workspace.remote) – Remote workspace implementations.
- [**workspace**](#openhands.sdk.workspace.workspace) –

**Classes:**

- [**BaseWorkspace**](#openhands.sdk.workspace.BaseWorkspace) – Abstract base mixin for workspace.
- [**CommandResult**](#openhands.sdk.workspace.CommandResult) – Result of executing a command in the workspace.
- [**FileOperationResult**](#openhands.sdk.workspace.FileOperationResult) – Result of a file upload or download operation.
- [**LocalWorkspace**](#openhands.sdk.workspace.LocalWorkspace) – Mixin providing local workspace operations.
- [**RemoteWorkspace**](#openhands.sdk.workspace.RemoteWorkspace) – Remote Workspace Implementation.
- [**Workspace**](#openhands.sdk.workspace.Workspace) – Factory entrypoint that returns a LocalWorkspace or RemoteWorkspace.

#### `openhands.sdk.workspace.BaseWorkspace`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract base mixin for workspace.

All workspace implementations support the context manager protocol,
allowing safe resource management:

```
with workspace:
    workspace.execute_command("echo 'hello'")
```

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.BaseWorkspace.execute_command) – Execute a bash command on the system.
- [**file_download**](#openhands.sdk.workspace.BaseWorkspace.file_download) – Download a file from the system.
- [**file_upload**](#openhands.sdk.workspace.BaseWorkspace.file_upload) – Upload a file to the system.
- [**get_serializable_type**](#openhands.sdk.workspace.BaseWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.workspace.BaseWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.BaseWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.workspace.BaseWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.workspace.BaseWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.workspace.BaseWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.workspace.BaseWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.workspace.BaseWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.workspace.BaseWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.workspace.BaseWorkspace.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.workspace.BaseWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.BaseWorkspace.working_dir) (<code>[str](#str)</code>) –

##### `openhands.sdk.workspace.BaseWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command on the system.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory for the command (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds (defaults to 30.0)

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result containing stdout, stderr, exit_code, and other
  metadata

**Raises:**

- <code>[Exception](#Exception)</code> – If command execution fails

##### `openhands.sdk.workspace.BaseWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download a file from the system.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file on the system
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be downloaded

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result containing success status and metadata

**Raises:**

- <code>[Exception](#Exception)</code> – If file download fails

##### `openhands.sdk.workspace.BaseWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload a file to the system.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be uploaded

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result containing success status and metadata

**Raises:**

- <code>[Exception](#Exception)</code> – If file upload fails

##### `openhands.sdk.workspace.BaseWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.workspace.BaseWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

##### `openhands.sdk.workspace.BaseWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

##### `openhands.sdk.workspace.BaseWorkspace.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.workspace.BaseWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.workspace.BaseWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.workspace.BaseWorkspace.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.workspace.BaseWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.workspace.BaseWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.workspace.BaseWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.workspace.BaseWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.workspace.BaseWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

#### `openhands.sdk.workspace.CommandResult`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Result of executing a command in the workspace.

**Attributes:**

- [**command**](#openhands.sdk.workspace.CommandResult.command) (<code>[str](#str)</code>) –
- [**exit_code**](#openhands.sdk.workspace.CommandResult.exit_code) (<code>[int](#int)</code>) –
- [**stderr**](#openhands.sdk.workspace.CommandResult.stderr) (<code>[str](#str)</code>) –
- [**stdout**](#openhands.sdk.workspace.CommandResult.stdout) (<code>[str](#str)</code>) –
- [**timeout_occurred**](#openhands.sdk.workspace.CommandResult.timeout_occurred) (<code>[bool](#bool)</code>) –

##### `openhands.sdk.workspace.CommandResult.command`

```python
command: str = Field(description='The command that was executed')
```

##### `openhands.sdk.workspace.CommandResult.exit_code`

```python
exit_code: int = Field(description='Exit code of the command')
```

##### `openhands.sdk.workspace.CommandResult.stderr`

```python
stderr: str = Field(description='Standard error from the command')
```

##### `openhands.sdk.workspace.CommandResult.stdout`

```python
stdout: str = Field(description='Standard output from the command')
```

##### `openhands.sdk.workspace.CommandResult.timeout_occurred`

```python
timeout_occurred: bool = Field(description='Whether the command timed out during execution')
```

#### `openhands.sdk.workspace.FileOperationResult`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Result of a file upload or download operation.

**Attributes:**

- [**destination_path**](#openhands.sdk.workspace.FileOperationResult.destination_path) (<code>[str](#str)</code>) –
- [**error**](#openhands.sdk.workspace.FileOperationResult.error) (<code>[str](#str) | None</code>) –
- [**file_size**](#openhands.sdk.workspace.FileOperationResult.file_size) (<code>[int](#int) | None</code>) –
- [**source_path**](#openhands.sdk.workspace.FileOperationResult.source_path) (<code>[str](#str)</code>) –
- [**success**](#openhands.sdk.workspace.FileOperationResult.success) (<code>[bool](#bool)</code>) –

##### `openhands.sdk.workspace.FileOperationResult.destination_path`

```python
destination_path: str = Field(description='Path to the destination file')
```

##### `openhands.sdk.workspace.FileOperationResult.error`

```python
error: str | None = Field(default=None, description='Error message (if operation failed)')
```

##### `openhands.sdk.workspace.FileOperationResult.file_size`

```python
file_size: int | None = Field(default=None, description='Size of the file in bytes (if successful)')
```

##### `openhands.sdk.workspace.FileOperationResult.source_path`

```python
source_path: str = Field(description='Path to the source file')
```

##### `openhands.sdk.workspace.FileOperationResult.success`

```python
success: bool = Field(description='Whether the operation was successful')
```

#### `openhands.sdk.workspace.LocalWorkspace`

Bases: <code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>

Mixin providing local workspace operations.

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.LocalWorkspace.execute_command) – Execute a bash command locally.
- [**file_download**](#openhands.sdk.workspace.LocalWorkspace.file_download) – Download (copy) a file locally.
- [**file_upload**](#openhands.sdk.workspace.LocalWorkspace.file_upload) – Upload (copy) a file locally.
- [**get_serializable_type**](#openhands.sdk.workspace.LocalWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.workspace.LocalWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.LocalWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.workspace.LocalWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.workspace.LocalWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.workspace.LocalWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.workspace.LocalWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.workspace.LocalWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.workspace.LocalWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.workspace.LocalWorkspace.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.workspace.LocalWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.LocalWorkspace.working_dir) (<code>[str](#str)</code>) –

##### `openhands.sdk.workspace.LocalWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command locally.

Uses the shared shell execution utility to run commands with proper
timeout handling, output streaming, and error management.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, command, and
  timeout_occurred

##### `openhands.sdk.workspace.LocalWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download (copy) a file locally.

For local systems, file download is implemented as a file copy operation
using shutil.copy2 to preserve metadata.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be copied

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and file information

##### `openhands.sdk.workspace.LocalWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload (copy) a file locally.

For local systems, file upload is implemented as a file copy operation
using shutil.copy2 to preserve metadata.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be copied

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and file information

##### `openhands.sdk.workspace.LocalWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.workspace.LocalWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

##### `openhands.sdk.workspace.LocalWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

##### `openhands.sdk.workspace.LocalWorkspace.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.workspace.LocalWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.workspace.LocalWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.workspace.LocalWorkspace.model_post_init`

```python
model_post_init(_context)
```

##### `openhands.sdk.workspace.LocalWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.workspace.LocalWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.workspace.LocalWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.workspace.LocalWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.workspace.LocalWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

#### `openhands.sdk.workspace.RemoteWorkspace`

Bases: <code>[RemoteWorkspaceMixin](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin)</code>, <code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>

Remote Workspace Implementation.

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.RemoteWorkspace.execute_command) – Execute a bash command on the remote system.
- [**file_download**](#openhands.sdk.workspace.RemoteWorkspace.file_download) – Download a file from the remote system.
- [**file_upload**](#openhands.sdk.workspace.RemoteWorkspace.file_upload) – Upload a file to the remote system.
- [**get_serializable_type**](#openhands.sdk.workspace.RemoteWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.workspace.RemoteWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.RemoteWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.workspace.RemoteWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.workspace.RemoteWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.workspace.RemoteWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.workspace.RemoteWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.workspace.RemoteWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.workspace.RemoteWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.workspace.RemoteWorkspace.resolve_kind) –

**Attributes:**

- [**api_key**](#openhands.sdk.workspace.RemoteWorkspace.api_key) (<code>[str](#str) | None</code>) –
- [**client**](#openhands.sdk.workspace.RemoteWorkspace.client) (<code>[Client](#httpx.Client)</code>) –
- [**host**](#openhands.sdk.workspace.RemoteWorkspace.host) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.workspace.RemoteWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.RemoteWorkspace.working_dir) (<code>[str](#str)</code>) –

##### `openhands.sdk.workspace.RemoteWorkspace.api_key`

```python
api_key: str | None = Field(default=None, description='API key for authenticating with the remote host.')
```

##### `openhands.sdk.workspace.RemoteWorkspace.client`

```python
client: httpx.Client
```

##### `openhands.sdk.workspace.RemoteWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command on the remote system.

This method starts a bash command via the remote agent server API,
then polls for the output until the command completes.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, and other metadata

##### `openhands.sdk.workspace.RemoteWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download a file from the remote system.

Requests the file from the remote system via HTTP API and saves it locally.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file on remote system
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be saved locally

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

##### `openhands.sdk.workspace.RemoteWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload a file to the remote system.

Reads the local file and sends it to the remote system via HTTP API.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the local source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be uploaded on remote system

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

##### `openhands.sdk.workspace.RemoteWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

##### `openhands.sdk.workspace.RemoteWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

##### `openhands.sdk.workspace.RemoteWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

##### `openhands.sdk.workspace.RemoteWorkspace.host`

```python
host: str = Field(description='The remote host URL for the workspace.')
```

##### `openhands.sdk.workspace.RemoteWorkspace.kind`

```python
kind: str = Field(default='')
```

##### `openhands.sdk.workspace.RemoteWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

##### `openhands.sdk.workspace.RemoteWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

##### `openhands.sdk.workspace.RemoteWorkspace.model_post_init`

```python
model_post_init(context)
```

##### `openhands.sdk.workspace.RemoteWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

##### `openhands.sdk.workspace.RemoteWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

##### `openhands.sdk.workspace.RemoteWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

##### `openhands.sdk.workspace.RemoteWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

##### `openhands.sdk.workspace.RemoteWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

#### `openhands.sdk.workspace.Workspace`

Factory entrypoint that returns a LocalWorkspace or RemoteWorkspace.

<details class="usage" open markdown="1">
<summary>Usage</summary>

- Workspace(working_dir=...) -> LocalWorkspace
- Workspace(working_dir=..., host="http://...") -> RemoteWorkspace

</details>

#### `openhands.sdk.workspace.base`

**Classes:**

- [**BaseWorkspace**](#openhands.sdk.workspace.base.BaseWorkspace) – Abstract base mixin for workspace.

**Attributes:**

- [**logger**](#openhands.sdk.workspace.base.logger) –

##### `openhands.sdk.workspace.base.BaseWorkspace`

Bases: <code>[DiscriminatedUnionMixin](#openhands.sdk.utils.models.DiscriminatedUnionMixin)</code>, <code>[ABC](#abc.ABC)</code>

Abstract base mixin for workspace.

All workspace implementations support the context manager protocol,
allowing safe resource management:

```
with workspace:
    workspace.execute_command("echo 'hello'")
```

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.base.BaseWorkspace.execute_command) – Execute a bash command on the system.
- [**file_download**](#openhands.sdk.workspace.base.BaseWorkspace.file_download) – Download a file from the system.
- [**file_upload**](#openhands.sdk.workspace.base.BaseWorkspace.file_upload) – Upload a file to the system.
- [**get_serializable_type**](#openhands.sdk.workspace.base.BaseWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.workspace.base.BaseWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.base.BaseWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.workspace.base.BaseWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.workspace.base.BaseWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.workspace.base.BaseWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.workspace.base.BaseWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.workspace.base.BaseWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.workspace.base.BaseWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.workspace.base.BaseWorkspace.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.workspace.base.BaseWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.base.BaseWorkspace.working_dir) (<code>[str](#str)</code>) –

###### `openhands.sdk.workspace.base.BaseWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command on the system.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory for the command (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds (defaults to 30.0)

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result containing stdout, stderr, exit_code, and other
  metadata

**Raises:**

- <code>[Exception](#Exception)</code> – If command execution fails

###### `openhands.sdk.workspace.base.BaseWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download a file from the system.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file on the system
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be downloaded

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result containing success status and metadata

**Raises:**

- <code>[Exception](#Exception)</code> – If file download fails

###### `openhands.sdk.workspace.base.BaseWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload a file to the system.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be uploaded

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result containing success status and metadata

**Raises:**

- <code>[Exception](#Exception)</code> – If file upload fails

###### `openhands.sdk.workspace.base.BaseWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.workspace.base.BaseWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

###### `openhands.sdk.workspace.base.BaseWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

###### `openhands.sdk.workspace.base.BaseWorkspace.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.workspace.base.BaseWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.workspace.base.BaseWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.workspace.base.BaseWorkspace.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.workspace.base.BaseWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.workspace.base.BaseWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.workspace.base.BaseWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.workspace.base.BaseWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.workspace.base.BaseWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

##### `openhands.sdk.workspace.base.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.workspace.local`

**Classes:**

- [**LocalWorkspace**](#openhands.sdk.workspace.local.LocalWorkspace) – Mixin providing local workspace operations.

**Attributes:**

- [**logger**](#openhands.sdk.workspace.local.logger) –

##### `openhands.sdk.workspace.local.LocalWorkspace`

Bases: <code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>

Mixin providing local workspace operations.

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.local.LocalWorkspace.execute_command) – Execute a bash command locally.
- [**file_download**](#openhands.sdk.workspace.local.LocalWorkspace.file_download) – Download (copy) a file locally.
- [**file_upload**](#openhands.sdk.workspace.local.LocalWorkspace.file_upload) – Upload (copy) a file locally.
- [**get_serializable_type**](#openhands.sdk.workspace.local.LocalWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.workspace.local.LocalWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.local.LocalWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.workspace.local.LocalWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.workspace.local.LocalWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.workspace.local.LocalWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.workspace.local.LocalWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.workspace.local.LocalWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.workspace.local.LocalWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.workspace.local.LocalWorkspace.resolve_kind) –

**Attributes:**

- [**kind**](#openhands.sdk.workspace.local.LocalWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.local.LocalWorkspace.working_dir) (<code>[str](#str)</code>) –

###### `openhands.sdk.workspace.local.LocalWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command locally.

Uses the shared shell execution utility to run commands with proper
timeout handling, output streaming, and error management.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, command, and
  timeout_occurred

###### `openhands.sdk.workspace.local.LocalWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download (copy) a file locally.

For local systems, file download is implemented as a file copy operation
using shutil.copy2 to preserve metadata.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be copied

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and file information

###### `openhands.sdk.workspace.local.LocalWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload (copy) a file locally.

For local systems, file upload is implemented as a file copy operation
using shutil.copy2 to preserve metadata.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be copied

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and file information

###### `openhands.sdk.workspace.local.LocalWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.workspace.local.LocalWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

###### `openhands.sdk.workspace.local.LocalWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

###### `openhands.sdk.workspace.local.LocalWorkspace.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.workspace.local.LocalWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.workspace.local.LocalWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.workspace.local.LocalWorkspace.model_post_init`

```python
model_post_init(_context)
```

###### `openhands.sdk.workspace.local.LocalWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.workspace.local.LocalWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.workspace.local.LocalWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.workspace.local.LocalWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.workspace.local.LocalWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

##### `openhands.sdk.workspace.local.logger`

```python
logger = get_logger(__name__)
```

#### `openhands.sdk.workspace.models`

Pydantic models for workspace operation results.

**Classes:**

- [**CommandResult**](#openhands.sdk.workspace.models.CommandResult) – Result of executing a command in the workspace.
- [**FileOperationResult**](#openhands.sdk.workspace.models.FileOperationResult) – Result of a file upload or download operation.

##### `openhands.sdk.workspace.models.CommandResult`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Result of executing a command in the workspace.

**Attributes:**

- [**command**](#openhands.sdk.workspace.models.CommandResult.command) (<code>[str](#str)</code>) –
- [**exit_code**](#openhands.sdk.workspace.models.CommandResult.exit_code) (<code>[int](#int)</code>) –
- [**stderr**](#openhands.sdk.workspace.models.CommandResult.stderr) (<code>[str](#str)</code>) –
- [**stdout**](#openhands.sdk.workspace.models.CommandResult.stdout) (<code>[str](#str)</code>) –
- [**timeout_occurred**](#openhands.sdk.workspace.models.CommandResult.timeout_occurred) (<code>[bool](#bool)</code>) –

###### `openhands.sdk.workspace.models.CommandResult.command`

```python
command: str = Field(description='The command that was executed')
```

###### `openhands.sdk.workspace.models.CommandResult.exit_code`

```python
exit_code: int = Field(description='Exit code of the command')
```

###### `openhands.sdk.workspace.models.CommandResult.stderr`

```python
stderr: str = Field(description='Standard error from the command')
```

###### `openhands.sdk.workspace.models.CommandResult.stdout`

```python
stdout: str = Field(description='Standard output from the command')
```

###### `openhands.sdk.workspace.models.CommandResult.timeout_occurred`

```python
timeout_occurred: bool = Field(description='Whether the command timed out during execution')
```

##### `openhands.sdk.workspace.models.FileOperationResult`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Result of a file upload or download operation.

**Attributes:**

- [**destination_path**](#openhands.sdk.workspace.models.FileOperationResult.destination_path) (<code>[str](#str)</code>) –
- [**error**](#openhands.sdk.workspace.models.FileOperationResult.error) (<code>[str](#str) | None</code>) –
- [**file_size**](#openhands.sdk.workspace.models.FileOperationResult.file_size) (<code>[int](#int) | None</code>) –
- [**source_path**](#openhands.sdk.workspace.models.FileOperationResult.source_path) (<code>[str](#str)</code>) –
- [**success**](#openhands.sdk.workspace.models.FileOperationResult.success) (<code>[bool](#bool)</code>) –

###### `openhands.sdk.workspace.models.FileOperationResult.destination_path`

```python
destination_path: str = Field(description='Path to the destination file')
```

###### `openhands.sdk.workspace.models.FileOperationResult.error`

```python
error: str | None = Field(default=None, description='Error message (if operation failed)')
```

###### `openhands.sdk.workspace.models.FileOperationResult.file_size`

```python
file_size: int | None = Field(default=None, description='Size of the file in bytes (if successful)')
```

###### `openhands.sdk.workspace.models.FileOperationResult.source_path`

```python
source_path: str = Field(description='Path to the source file')
```

###### `openhands.sdk.workspace.models.FileOperationResult.success`

```python
success: bool = Field(description='Whether the operation was successful')
```

#### `openhands.sdk.workspace.remote`

Remote workspace implementations.

**Modules:**

- [**async_remote_workspace**](#openhands.sdk.workspace.remote.async_remote_workspace) –
- [**base**](#openhands.sdk.workspace.remote.base) –
- [**remote_workspace_mixin**](#openhands.sdk.workspace.remote.remote_workspace_mixin) –

**Classes:**

- [**RemoteWorkspace**](#openhands.sdk.workspace.remote.RemoteWorkspace) – Remote Workspace Implementation.

##### `openhands.sdk.workspace.remote.RemoteWorkspace`

Bases: <code>[RemoteWorkspaceMixin](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin)</code>, <code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>

Remote Workspace Implementation.

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.remote.RemoteWorkspace.execute_command) – Execute a bash command on the remote system.
- [**file_download**](#openhands.sdk.workspace.remote.RemoteWorkspace.file_download) – Download a file from the remote system.
- [**file_upload**](#openhands.sdk.workspace.remote.RemoteWorkspace.file_upload) – Upload a file to the remote system.
- [**get_serializable_type**](#openhands.sdk.workspace.remote.RemoteWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.workspace.remote.RemoteWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.remote.RemoteWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.workspace.remote.RemoteWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.workspace.remote.RemoteWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.workspace.remote.RemoteWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.workspace.remote.RemoteWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.workspace.remote.RemoteWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.workspace.remote.RemoteWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.workspace.remote.RemoteWorkspace.resolve_kind) –

**Attributes:**

- [**api_key**](#openhands.sdk.workspace.remote.RemoteWorkspace.api_key) (<code>[str](#str) | None</code>) –
- [**client**](#openhands.sdk.workspace.remote.RemoteWorkspace.client) (<code>[Client](#httpx.Client)</code>) –
- [**host**](#openhands.sdk.workspace.remote.RemoteWorkspace.host) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.workspace.remote.RemoteWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.remote.RemoteWorkspace.working_dir) (<code>[str](#str)</code>) –

###### `openhands.sdk.workspace.remote.RemoteWorkspace.api_key`

```python
api_key: str | None = Field(default=None, description='API key for authenticating with the remote host.')
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.client`

```python
client: httpx.Client
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command on the remote system.

This method starts a bash command via the remote agent server API,
then polls for the output until the command completes.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, and other metadata

###### `openhands.sdk.workspace.remote.RemoteWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download a file from the remote system.

Requests the file from the remote system via HTTP API and saves it locally.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file on remote system
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be saved locally

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

###### `openhands.sdk.workspace.remote.RemoteWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload a file to the remote system.

Reads the local file and sends it to the remote system via HTTP API.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the local source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be uploaded on remote system

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

###### `openhands.sdk.workspace.remote.RemoteWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

###### `openhands.sdk.workspace.remote.RemoteWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

###### `openhands.sdk.workspace.remote.RemoteWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

###### `openhands.sdk.workspace.remote.RemoteWorkspace.host`

```python
host: str = Field(description='The remote host URL for the workspace.')
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.kind`

```python
kind: str = Field(default='')
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.model_post_init`

```python
model_post_init(context)
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

###### `openhands.sdk.workspace.remote.RemoteWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

##### `openhands.sdk.workspace.remote.async_remote_workspace`

**Classes:**

- [**AsyncRemoteWorkspace**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace) – Async Remote Workspace Implementation.

###### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace`

Bases: <code>[RemoteWorkspaceMixin](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin)</code>

Async Remote Workspace Implementation.

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.execute_command) – Execute a bash command on the remote system.
- [**file_download**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.file_download) – Download a file from the remote system.
- [**file_upload**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.file_upload) – Upload a file to the remote system.
- [**git_changes**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_post_init**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.model_post_init) –

**Attributes:**

- [**api_key**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.api_key) (<code>[str](#str) | None</code>) –
- [**client**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.client) (<code>[AsyncClient](#httpx.AsyncClient)</code>) –
- [**host**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.host) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.working_dir) (<code>[str](#str)</code>) –

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.api_key`

```python
api_key: str | None = Field(default=None, description='API key for authenticating with the remote host.')
```

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.client`

```python
client: httpx.AsyncClient
```

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command on the remote system.

This method starts a bash command via the remote agent server API,
then polls for the output until the command completes.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, and other metadata

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download a file from the remote system.

Requests the file from the remote system via HTTP API and saves it locally.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file on remote system
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be saved locally

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload a file to the remote system.

Reads the local file and sends it to the remote system via HTTP API.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the local source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be uploaded on remote system

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.host`

```python
host: str = Field(description='The remote host URL for the workspace.')
```

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.model_post_init`

```python
model_post_init(context)
```

####### `openhands.sdk.workspace.remote.async_remote_workspace.AsyncRemoteWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

##### `openhands.sdk.workspace.remote.base`

**Classes:**

- [**RemoteWorkspace**](#openhands.sdk.workspace.remote.base.RemoteWorkspace) – Remote Workspace Implementation.

###### `openhands.sdk.workspace.remote.base.RemoteWorkspace`

Bases: <code>[RemoteWorkspaceMixin](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin)</code>, <code>[BaseWorkspace](#openhands.sdk.workspace.base.BaseWorkspace)</code>

Remote Workspace Implementation.

**Functions:**

- [**execute_command**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.execute_command) – Execute a bash command on the remote system.
- [**file_download**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.file_download) – Download a file from the remote system.
- [**file_upload**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.file_upload) – Upload a file to the remote system.
- [**get_serializable_type**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.get_serializable_type) – Custom method to get the union of all currently loaded
- [**git_changes**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.git_changes) – Get the git changes for the repository at the path given.
- [**git_diff**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.git_diff) – Get the git diff for the file at the path given.
- [**model_dump_json**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.model_dump_json) –
- [**model_json_schema**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.model_json_schema) –
- [**model_post_init**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.model_post_init) –
- [**model_rebuild**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.model_rebuild) –
- [**model_validate**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.model_validate) –
- [**model_validate_json**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.model_validate_json) –
- [**resolve_kind**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.resolve_kind) –

**Attributes:**

- [**api_key**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.api_key) (<code>[str](#str) | None</code>) –
- [**client**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.client) (<code>[Client](#httpx.Client)</code>) –
- [**host**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.host) (<code>[str](#str)</code>) –
- [**kind**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.kind) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.remote.base.RemoteWorkspace.working_dir) (<code>[str](#str)</code>) –

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.api_key`

```python
api_key: str | None = Field(default=None, description='API key for authenticating with the remote host.')
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.client`

```python
client: httpx.Client
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.execute_command`

```python
execute_command(command, cwd=None, timeout=30.0)
```

Execute a bash command on the remote system.

This method starts a bash command via the remote agent server API,
then polls for the output until the command completes.

**Parameters:**

- **command** (<code>[str](#str)</code>) – The bash command to execute
- **cwd** (<code>[str](#str) | [Path](#pathlib.Path) | None</code>) – Working directory (optional)
- **timeout** (<code>[float](#float)</code>) – Timeout in seconds

**Returns:**

- **CommandResult** (<code>[CommandResult](#openhands.sdk.workspace.models.CommandResult)</code>) – Result with stdout, stderr, exit_code, and other metadata

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.file_download`

```python
file_download(source_path, destination_path)
```

Download a file from the remote system.

Requests the file from the remote system via HTTP API and saves it locally.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the source file on remote system
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be saved locally

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.file_upload`

```python
file_upload(source_path, destination_path)
```

Upload a file to the remote system.

Reads the local file and sends it to the remote system via HTTP API.

**Parameters:**

- **source_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the local source file
- **destination_path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path where the file should be uploaded on remote system

**Returns:**

- **FileOperationResult** (<code>[FileOperationResult](#openhands.sdk.workspace.models.FileOperationResult)</code>) – Result with success status and metadata

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.get_serializable_type`

```python
get_serializable_type()
```

Custom method to get the union of all currently loaded
non absract subclasses

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.git_changes`

```python
git_changes(path)
```

Get the git changes for the repository at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the git repository

**Returns:**

- <code>[list](#list)\[[GitChange](#openhands.sdk.git.models.GitChange)\]</code> – list\[GitChange\]: List of changes

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting changes failed

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.git_diff`

```python
git_diff(path)
```

Get the git diff for the file at the path given.

**Parameters:**

- **path** (<code>[str](#str) | [Path](#pathlib.Path)</code>) – Path to the file

**Returns:**

- **GitDiff** (<code>[GitDiff](#openhands.sdk.git.models.GitDiff)</code>) – Git diff

**Raises:**

- <code>[Exception](#Exception)</code> – If path is not a git repository or getting diff failed

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.host`

```python
host: str = Field(description='The remote host URL for the workspace.')
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.kind`

```python
kind: str = Field(default='')
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.model_dump_json`

```python
model_dump_json(**kwargs)
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.model_json_schema`

```python
model_json_schema(*args, **kwargs)
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.model_post_init`

```python
model_post_init(context)
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.model_rebuild`

```python
model_rebuild(*, force=False, raise_errors=True, _parent_namespace_depth=2, _types_namespace=None)
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.model_validate`

```python
model_validate(obj, **kwargs)
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.model_validate_json`

```python
model_validate_json(json_data, **kwargs)
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.resolve_kind`

```python
resolve_kind(kind)
```

####### `openhands.sdk.workspace.remote.base.RemoteWorkspace.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

##### `openhands.sdk.workspace.remote.remote_workspace_mixin`

**Classes:**

- [**RemoteWorkspaceMixin**](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin) – Mixin providing remote workspace operations.

###### `openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin`

Bases: <code>[BaseModel](#pydantic.BaseModel)</code>

Mixin providing remote workspace operations.
This allows the same code to be used for sync and async.

**Functions:**

- [**model_post_init**](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.model_post_init) –

**Attributes:**

- [**api_key**](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.api_key) (<code>[str](#str) | None</code>) –
- [**host**](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.host) (<code>[str](#str)</code>) –
- [**working_dir**](#openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.working_dir) (<code>[str](#str)</code>) –

####### `openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.api_key`

```python
api_key: str | None = Field(default=None, description='API key for authenticating with the remote host.')
```

####### `openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.host`

```python
host: str = Field(description='The remote host URL for the workspace.')
```

####### `openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.model_post_init`

```python
model_post_init(context)
```

####### `openhands.sdk.workspace.remote.remote_workspace_mixin.RemoteWorkspaceMixin.working_dir`

```python
working_dir: str = Field(description='The working directory for agent operations and tool execution.')
```

#### `openhands.sdk.workspace.workspace`

**Classes:**

- [**Workspace**](#openhands.sdk.workspace.workspace.Workspace) – Factory entrypoint that returns a LocalWorkspace or RemoteWorkspace.

**Attributes:**

- [**logger**](#openhands.sdk.workspace.workspace.logger) –

##### `openhands.sdk.workspace.workspace.Workspace`

Factory entrypoint that returns a LocalWorkspace or RemoteWorkspace.

<details class="usage" open markdown="1">
<summary>Usage</summary>

- Workspace(working_dir=...) -> LocalWorkspace
- Workspace(working_dir=..., host="http://...") -> RemoteWorkspace

</details>

##### `openhands.sdk.workspace.workspace.logger`

```python
logger = get_logger(__name__)
```
