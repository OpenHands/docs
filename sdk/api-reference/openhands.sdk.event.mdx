---
title: openhands.sdk.event
description: API reference for openhands.sdk.event module
---


### class ActionEvent

Bases: [LLMConvertibleEvent](#class-llmconvertibleevent)


#### Properties

- `action`: Action | None ¶
- `critic_result`: CriticResult | None ¶
- `llm_response_id`: str ¶
- `reasoning_content`: str | None ¶
- `responses_reasoning_item`: ReasoningItemModel | None ¶
- `security_risk`: SecurityRisk ¶
- `source`: Literal['agent', 'user', 'environment'] ¶
- `summary`: str | None ¶
- `thinking_blocks`: list[ThinkingBlock | RedactedThinkingBlock] ¶
- `thought`: Sequence[TextContent] ¶
- `tool_call`: MessageToolCall ¶
- `tool_call_id`: str ¶
- `tool_name`: str ¶
- `visualize`: Text ¶
  Return Rich Text representation of this action event.

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### to_llm_message()

Individual message - may be incomplete for multi-action batches


### class AgentErrorEvent

Bases: [ObservationBaseEvent](#class-observationbaseevent)

Error triggered by the agent.

Note: This event should not contain model “thought” or “reasoning_content”. It
represents an error produced by the agent/scaffold, not model output.


#### Properties

- `error`: str ¶
- `source`: Literal['agent', 'user', 'environment'] ¶
- `visualize`: Text ¶
  Return Rich Text representation of this agent error event.

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### to_llm_message()


### class Condensation

Bases: [Event](#class-event)

This action indicates a condensation of the conversation history is happening.


#### Properties

- `forgotten_event_ids`: list[EventID] ¶
- `has_summary_metadata`: bool ¶
  Checks if both summary and summary_offset are present.
- `llm_response_id`: EventID ¶
- `source`: SourceType ¶
- `summary`: str | None ¶
- `summary_event`: CondensationSummaryEvent ¶
  Generates a CondensationSummaryEvent.
  Since summary events are not part of the main event store and are generated
dynamically, this property ensures the created event has a unique and consistent
ID based on the condensation event’s ID.
  * Raises:
    ValueError – If no summary is present.
- `summary_offset`: int | None ¶
- `visualize`: Text ¶
  Return Rich Text representation of this event.
  This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### Methods

#### apply()

Applies the condensation to a list of events.
This method removes events that are marked to be forgotten and returns a new
list of events. If the summary metadata is present (both summary and offset),
the corresponding CondensationSummaryEvent will be inserted at the specified
offset _after_ the forgotten events have been removed.

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


### class CondensationRequest

Bases: [Event](#class-event)

This action is used to request a condensation of the conversation history.


#### Properties

- `source`: SourceType ¶
- `visualize`: Text ¶
  Return Rich Text representation of this event.
  This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

#### Methods

#### action

The action type, namely ActionType.CONDENSATION_REQUEST.
* Type:
  str

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


### class CondensationSummaryEvent

Bases: [LLMConvertibleEvent](#class-llmconvertibleevent)

This event represents a summary generated by a condenser.


#### Properties

- `source`: SourceType ¶
- `summary`: str ¶
  The summary text.

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### to_llm_message()


### class ConversationStateUpdateEvent

Bases: [Event](#class-event)

Event that contains conversation state updates.

This event is sent via websocket whenever the conversation state changes,
allowing remote clients to stay in sync without making REST API calls.

All fields are serialized versions of the corresponding ConversationState fields
to ensure compatibility with websocket transmission.


#### Properties

- `key`: str ¶
- `source`: Literal['agent', 'user', 'environment'] ¶
- `value`: Any ¶

#### Methods

#### from_conversation_state()

Create a state update event from a ConversationState object.
This creates an event containing a snapshot of important state fields.
* Parameters:
  * `state` – The ConversationState to serialize
  * `conversation_id` – The conversation ID for the event
* Returns:
  A ConversationStateUpdateEvent with serialized state data

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### validate_key()

#### validate_value()


### class Event

Bases: `DiscriminatedUnionMixin`, `ABC`

Base class for all events.


#### Properties

- `id`: str ¶
- `model_config`: ClassVar[ConfigDict]
  Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].
- `source`: Literal['agent', 'user', 'environment'] ¶
- `timestamp`: str ¶
- `visualize`: Text ¶
  Return Rich Text representation of this event.
  This is a fallback implementation for unknown event types.
Subclasses should override this method to provide specific visualization.

### class LLMCompletionLogEvent

Bases: [Event](#class-event)

Event containing LLM completion log data.

When an LLM is configured with log_completions=True in a remote conversation,
this event streams the completion log data back to the client through WebSocket
instead of writing it to a file inside the Docker container.


#### Properties

- `filename`: str ¶
- `log_data`: str ¶
- `model_name`: str ¶
- `source`: Literal['agent', 'user', 'environment'] ¶
- `usage_id`: str ¶

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


### class LLMConvertibleEvent

Bases: [Event](#class-event), `ABC`

Base class for events that can be converted to LLM messages.


#### Methods

#### events_to_messages()

Convert event stream to LLM message stream, handling multi-action batches

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### to_llm_message()


### class MessageEvent

Bases: [LLMConvertibleEvent](#class-llmconvertibleevent)

Message from either agent or user.

This is originally the “MessageAction”, but it suppose not to be tool call.


#### Properties

- `activated_skills`: list[str] ¶
- `critic_result`: CriticResult | None ¶
- `extended_content`: list[TextContent] ¶
- `llm_message`: Message ¶
- `llm_response_id`: str | None ¶
- `model_config`: ClassVar[ConfigDict]
  Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].
- `reasoning_content`: str ¶
- `sender`: str | None ¶
- `source`: Literal['agent', 'user', 'environment'] ¶
- `thinking_blocks`: Sequence[ThinkingBlock | RedactedThinkingBlock] ¶
  Return the Anthropic thinking blocks from the LLM message.
- `visualize`: Text ¶
  Return Rich Text representation of this message event.

#### Methods

#### to_llm_message()


### class ObservationBaseEvent

Bases: [LLMConvertibleEvent](#class-llmconvertibleevent)

Base class for anything as a response to a tool call.

Examples include tool execution, error, user reject.


#### Properties

- `source`: Literal['agent', 'user', 'environment'] ¶
- `tool_call_id`: str ¶
- `tool_name`: str ¶

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


### class ObservationEvent

Bases: [ObservationBaseEvent](#class-observationbaseevent)


#### Properties

- `action_id`: str ¶
- `observation`: Observation ¶
- `visualize`: Text ¶
  Return Rich Text representation of this observation event.

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### to_llm_message()


### class PauseEvent

Bases: [Event](#class-event)

Event indicating that the agent execution was paused by user request.


#### Properties

- `source`: Literal['agent', 'user', 'environment'] ¶
- `visualize`: Text ¶
  Return Rich Text representation of this pause event.

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


### class SystemPromptEvent

Bases: [LLMConvertibleEvent](#class-llmconvertibleevent)

System prompt added by the agent.


#### Properties

- `source`: Literal['agent', 'user', 'environment'] ¶
- `system_prompt`: TextContent ¶
- `tools`: list[ToolDefinition] ¶
- `visualize`: Text ¶
  Return Rich Text representation of this system prompt event.

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### to_llm_message()


### class TokenEvent

Bases: [Event](#class-event)

Event from VLLM representing token IDs used in LLM interaction.


#### Properties

- `prompt_token_ids`: list[int] ¶
- `response_token_ids`: list[int] ¶
- `source`: Literal['agent', 'user', 'environment'] ¶

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].


### class UserRejectObservation

Bases: [ObservationBaseEvent](#class-observationbaseevent)

Observation when user rejects an action in confirmation mode.


#### Properties

- `action_id`: str ¶
- `rejection_reason`: str ¶
- `visualize`: Text ¶
  Return Rich Text representation of this user rejection event.

#### Methods

#### model_config = (configuration object)

Configuration for the model, should be a dictionary conforming to [`ConfigDict`][pydantic.config.ConfigDict].

#### to_llm_message()

