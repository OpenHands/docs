---
title: openhands.sdk.context.condenser
description: API reference for openhands.sdk.context.condenser
---

# openhands.sdk.context.condenser package

<a id="module-openhands.sdk.context.condenser"></a>

### *class* openhands.sdk.context.condenser.CondenserBase(, kind: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['LLMSummarizingCondenser', 'NoOpCondenser', 'PipelineCondenser'] = 'LLMSummarizingCondenser')

Bases: [`DiscriminatedUnionMixin`](https://github.com/OpenHands/software-agent-sdk/sdk.utils.models.md#openhands.sdk.utils.models.DiscriminatedUnionMixin), [`ABC`](https://docs.python.org/3/library/abc.html#abc.ABC)

Abstract condenser interface.

Condensers take a list of Event objects and reduce them into a potentially smaller
list.

Agents can use condensers to reduce the amount of events they need to consider when
deciding which action to take. To use a condenser, agents can call the
condensed_history method on the current State being considered and use the
results instead of the full history.

If the condenser returns a Condensation instead of a View, the agent should
return Condensation.action instead of producing its own action. On the next agent
step the condenser will use that condensation event to produce a new View.

#### *abstractmethod* condense(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.condenser.md#openhands.sdk.event.condenser.Condensation)

Condense a sequence of events into a potentially smaller list.

New condenser strategies should override this method to implement their own
condensation logic. Call self.add_metadata in the implementation to record any
relevant per-condensation diagnostic information.

**Parameters:**
  **view** – A view of the history containing all events that should be condensed.
**Returns:**
  A condensed view of the events or an event indicating
  the history has been condensed.
* **Return type:**
  [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.md#openhands.sdk.event.Condensation)

#### handles_condensation_requests() → [bool](https://docs.python.org/3/library/functions.html#bool)

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent’s own logic decides to do so (e.g. context
window exceeded).

**Returns:**
  True if the condenser handles explicit condensation requests, False
  otherwise.
* **Return type:**
  [bool](https://docs.python.org/3/library/functions.html#bool)

#### model_config  : ClassVar[ConfigDict] = \{\}

Configuration for the model, should be a dictionary conforming to [ConfigDict][pydantic.config.ConfigDict].

### *class* openhands.sdk.context.condenser.RollingCondenser(, kind: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['LLMSummarizingCondenser'] = 'LLMSummarizingCondenser')

Bases: [`PipelinableCondenserBase`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.PipelinableCondenserBase), [`ABC`](https://docs.python.org/3/library/abc.html#abc.ABC)

Base class for a specialized condenser strategy that applies condensation to a
rolling history.

The rolling history is generated by View.from_events, which analyzes all events in
the history and produces a View object representing what will be sent to the LLM.

If should_condense says so, the condenser is then responsible for generating a
Condensation object from the View object. This will be added to the event
history which should – when given to get_view – produce the condensed View to
be passed to the LLM.

#### condense(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.condenser.md#openhands.sdk.event.condenser.Condensation)

Condense a sequence of events into a potentially smaller list.

New condenser strategies should override this method to implement their own
condensation logic. Call self.add_metadata in the implementation to record any
relevant per-condensation diagnostic information.

**Parameters:**
  **view** – A view of the history containing all events that should be condensed.
**Returns:**
  A condensed view of the events or an event indicating
  the history has been condensed.
* **Return type:**
  [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.md#openhands.sdk.event.Condensation)

#### *abstractmethod* get_condensation(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.condenser.md#openhands.sdk.event.condenser.Condensation)

Get the condensation from a view.

#### model_config  : ClassVar[ConfigDict] = \{\}

Configuration for the model, should be a dictionary conforming to [ConfigDict][pydantic.config.ConfigDict].

#### *abstractmethod* should_condense(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [bool](https://docs.python.org/3/library/functions.html#bool)

Determine if a view should be condensed.

### *class* openhands.sdk.context.condenser.NoOpCondenser(, kind: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['NoOpCondenser'] = 'NoOpCondenser')

Bases: [`CondenserBase`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase)

Simple condenser that returns a view un-manipulated.

Primarily intended for testing purposes.

#### condense(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.condenser.md#openhands.sdk.event.condenser.Condensation)

Condense a sequence of events into a potentially smaller list.

New condenser strategies should override this method to implement their own
condensation logic. Call self.add_metadata in the implementation to record any
relevant per-condensation diagnostic information.

**Parameters:**
  **view** – A view of the history containing all events that should be condensed.
**Returns:**
  A condensed view of the events or an event indicating
  the history has been condensed.
* **Return type:**
  [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.md#openhands.sdk.event.Condensation)

#### model_config  : ClassVar[ConfigDict] = \{\}

Configuration for the model, should be a dictionary conforming to [ConfigDict][pydantic.config.ConfigDict].

#### kind *: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['NoOpCondenser']*

### *class* openhands.sdk.context.condenser.PipelineCondenser(, kind: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['PipelineCondenser'] = 'PipelineCondenser', condensers: [list](https://docs.python.org/3/library/stdtypes.html#list)[[CondenserBase](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase)])

Bases: [`CondenserBase`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase)

A condenser that applies a sequence of condensers in order.

All condensers are defined primarily by their condense method, which takes a
View and returns either a new View or a Condensation event. That means we can
chain multiple condensers together by passing View\`s along and exiting early if any
condenser returns a \`Condensation.

For example:

> # Use the pipeline condenser to chain multiple other condensers together
> condenser = PipelineCondenser(condensers=[

> > CondenserA(…),
> > CondenserB(…),
> > CondenserC(…),

> ])

> result = condenser.condense(view)

> # Doing the same thing without the pipeline condenser requires more boilerplate
> # for the monadic chaining
> other_result = view

> if isinstance(other_result, View):
> : other_result = CondenserA(…).condense(other_result)

> if isinstance(other_result, View):
> : other_result = CondenserB(…).condense(other_result)

> if isinstance(other_result, View):
> : other_result = CondenserC(…).condense(other_result)

> assert result == other_result

#### condense(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.condenser.md#openhands.sdk.event.condenser.Condensation)

Condense a sequence of events into a potentially smaller list.

New condenser strategies should override this method to implement their own
condensation logic. Call self.add_metadata in the implementation to record any
relevant per-condensation diagnostic information.

**Parameters:**
  **view** – A view of the history containing all events that should be condensed.
**Returns:**
  A condensed view of the events or an event indicating
  the history has been condensed.
* **Return type:**
  [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View) | [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.md#openhands.sdk.event.Condensation)

#### handles_condensation_requests() → [bool](https://docs.python.org/3/library/functions.html#bool)

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent’s own logic decides to do so (e.g. context
window exceeded).

**Returns:**
  True if the condenser handles explicit condensation requests, False
  otherwise.
* **Return type:**
  [bool](https://docs.python.org/3/library/functions.html#bool)

#### model_config  : ClassVar[ConfigDict] = \{\}

Configuration for the model, should be a dictionary conforming to [ConfigDict][pydantic.config.ConfigDict].

#### condensers *: [list](https://docs.python.org/3/library/stdtypes.html#list)[[CondenserBase](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase)]*

The list of condensers to apply in order.

#### kind *: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['PipelineCondenser']*

### *class* openhands.sdk.context.condenser.LLMSummarizingCondenser(, kind: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['LLMSummarizingCondenser'] = 'LLMSummarizingCondenser', llm: [LLM](https://github.com/OpenHands/software-agent-sdk/sdk.llm.llm.md#openhands.sdk.llm.llm.LLM), max_size: [Annotated](https://docs.python.org/3/library/typing.html#typing.Annotated)[[int](https://docs.python.org/3/library/functions.html#int), Gt(gt=0)] = 120, keep_first: [Annotated](https://docs.python.org/3/library/typing.html#typing.Annotated)[[int](https://docs.python.org/3/library/functions.html#int), Ge(ge=0)] = 4)

Bases: [`RollingCondenser`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.RollingCondenser)

#### get_condensation(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [Condensation](https://github.com/OpenHands/software-agent-sdk/sdk.event.condenser.md#openhands.sdk.event.condenser.Condensation)

Get the condensation from a view.

#### handles_condensation_requests() → [bool](https://docs.python.org/3/library/functions.html#bool)

Whether this condenser handles explicit condensation requests.

If this returns True, the agent will trigger the condenser whenever a
CondensationRequest event is added to the history. If False, the condenser will
only be triggered when the agent’s own logic decides to do so (e.g. context
window exceeded).

**Returns:**
  True if the condenser handles explicit condensation requests, False
  otherwise.
* **Return type:**
  [bool](https://docs.python.org/3/library/functions.html#bool)

#### model_config  : ClassVar[ConfigDict] = \{\}

Configuration for the model, should be a dictionary conforming to [ConfigDict][pydantic.config.ConfigDict].

#### should_condense(view: [View](https://github.com/OpenHands/software-agent-sdk/sdk.context.view.md#openhands.sdk.context.view.View)) → [bool](https://docs.python.org/3/library/functions.html#bool)

Determine if a view should be condensed.

#### validate_keep_first_vs_max_size()

#### llm *: [LLM](https://github.com/OpenHands/software-agent-sdk/sdk.llm.llm.md#openhands.sdk.llm.llm.LLM)*

#### max_size *: [int](https://docs.python.org/3/library/functions.html#int)*

#### keep_first *: [int](https://docs.python.org/3/library/functions.html#int)*

#### kind *: [Literal](https://docs.python.org/3/library/typing.html#typing.Literal)['LLMSummarizingCondenser']*

## Submodules

* [openhands.sdk.context.condenser.base module](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md)
  * [`CondenserBase`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase)
    * [`CondenserBase.condense()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase.condense)
    * [`CondenserBase.handles_condensation_requests()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase.handles_condensation_requests)
    * [`CondenserBase.model_config`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase.model_config)
    * [`CondenserBase.kind`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.CondenserBase.kind)
  * [`PipelinableCondenserBase`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.PipelinableCondenserBase)
    * [`PipelinableCondenserBase.model_config`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.PipelinableCondenserBase.model_config)
  * [`RollingCondenser`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.RollingCondenser)
    * [`RollingCondenser.should_condense()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.RollingCondenser.should_condense)
    * [`RollingCondenser.get_condensation()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.RollingCondenser.get_condensation)
    * [`RollingCondenser.condense()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.RollingCondenser.condense)
    * [`RollingCondenser.model_config`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.RollingCondenser.model_config)
    * [`RollingCondenser.kind`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.base.md#openhands.sdk.context.condenser.base.RollingCondenser.kind)
* [openhands.sdk.context.condenser.llm_summarizing_condenser module](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md)
  * [`LLMSummarizingCondenser`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser)
    * [`LLMSummarizingCondenser.llm`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.llm)
    * [`LLMSummarizingCondenser.max_size`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.max_size)
    * [`LLMSummarizingCondenser.keep_first`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.keep_first)
    * [`LLMSummarizingCondenser.validate_keep_first_vs_max_size()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.validate_keep_first_vs_max_size)
    * [`LLMSummarizingCondenser.handles_condensation_requests()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.handles_condensation_requests)
    * [`LLMSummarizingCondenser.should_condense()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.should_condense)
    * [`LLMSummarizingCondenser.get_condensation()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.get_condensation)
    * [`LLMSummarizingCondenser.model_config`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.model_config)
    * [`LLMSummarizingCondenser.kind`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.llm_summarizing_condenser.md#openhands.sdk.context.condenser.llm_summarizing_condenser.LLMSummarizingCondenser.kind)
* [openhands.sdk.context.condenser.no_op_condenser module](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.no_op_condenser.md)
  * [`NoOpCondenser`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.no_op_condenser.md#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser)
    * [`NoOpCondenser.condense()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.no_op_condenser.md#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.condense)
    * [`NoOpCondenser.model_config`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.no_op_condenser.md#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.model_config)
    * [`NoOpCondenser.kind`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.no_op_condenser.md#openhands.sdk.context.condenser.no_op_condenser.NoOpCondenser.kind)
* [openhands.sdk.context.condenser.pipeline_condenser module](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.pipeline_condenser.md)
  * [`PipelineCondenser`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.pipeline_condenser.md#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser)
    * [`PipelineCondenser.condensers`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.pipeline_condenser.md#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.condensers)
    * [`PipelineCondenser.condense()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.pipeline_condenser.md#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.condense)
    * [`PipelineCondenser.handles_condensation_requests()`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.pipeline_condenser.md#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.handles_condensation_requests)
    * [`PipelineCondenser.model_config`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.pipeline_condenser.md#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.model_config)
    * [`PipelineCondenser.kind`](https://github.com/OpenHands/software-agent-sdk/sdk.context.condenser.pipeline_condenser.md#openhands.sdk.context.condenser.pipeline_condenser.PipelineCondenser.kind)
