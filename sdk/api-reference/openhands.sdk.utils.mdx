---
title: openhands.sdk.utils
description: API reference for openhands.sdk.utils module
---

**sanitized_env() -> dict[str, str]**

[source](https://github.com/OpenHands/software-agent-sdk/blob/30e22095607254194ab1f4d8859f658abe5628a1/openhands-sdk/openhands/sdk/utils/command.py#L14-L36)

Return a copy of *env* with sanitized values.

PyInstaller-based binaries rewrite ``LD_LIBRARY_PATH`` so their vendored
libraries win. This function restores the original value so that subprocess
will not use them.


            <ParamField path="env" type="Mapping[str, str] | None" >
                None
            </ParamField>
            
**deprecated() -> Callable[[_FuncT], _FuncT]**

[source](https://github.com/OpenHands/software-agent-sdk/blob/30e22095607254194ab1f4d8859f658abe5628a1/openhands-sdk/openhands/sdk/utils/deprecation.py#L29-L54)

Return a decorator that deprecates a callable with explicit metadata.

Use this helper when you can annotate a function, method, or property with
`@deprecated(...)`. It transparently forwards to :func:`deprecation.deprecated`
while filling in the SDK's current version metadata unless custom values are
supplied.


            <ParamField path="deprecated_in" type="str" required>
                None
            </ParamField>
            

            <ParamField path="removed_in" type="str | date | None" required>
                None
            </ParamField>
            

            <ParamField path="current_version" type="str | None" >
                None
            </ParamField>
            

            <ParamField path="details" type="str" >
                None
            </ParamField>
            
**warn_deprecated() -> None**

[source](https://github.com/OpenHands/software-agent-sdk/blob/30e22095607254194ab1f4d8859f658abe5628a1/openhands-sdk/openhands/sdk/utils/deprecation.py#L83-L112)

Emit a deprecation warning for dynamic access to a legacy feature.

Prefer this helper when a decorator is not practical—e.g. attribute accessors,
data migrations, or other runtime paths that must conditionally warn. Provide
explicit version metadata so the SDK reports consistent messages and upgrades
to :class:`deprecation.UnsupportedWarning` after the removal threshold.


            <ParamField path="feature" type="str" required>
                None
            </ParamField>
            

            <ParamField path="deprecated_in" type="str" required>
                None
            </ParamField>
            

            <ParamField path="removed_in" type="str | date | None" required>
                None
            </ParamField>
            

            <ParamField path="current_version" type="str | None" >
                None
            </ParamField>
            

            <ParamField path="details" type="str" >
                None
            </ParamField>
            

            <ParamField path="stacklevel" type="int" >
                None
            </ParamField>
            
**sanitize_openhands_mentions() -> str**

[source](https://github.com/OpenHands/software-agent-sdk/blob/30e22095607254194ab1f4d8859f658abe5628a1/openhands-sdk/openhands/sdk/utils/github.py#L14-L44)

Sanitize @OpenHands mentions in text to prevent self-mention loops.

This function inserts a zero-width joiner (ZWJ) after the @ symbol in
@OpenHands mentions, making them non-clickable in GitHub comments while
preserving readability. The original case of the mention is preserved.

**Parameters:**

- `text` *str* – The text to sanitize

**Returns:**

- *str* Text with sanitized @OpenHands mentions (e.g., "@OpenHands" -> "@‍OpenHands")

**Example:**

```python
>>> sanitize_openhands_mentions("Thanks @OpenHands for the help!")
'Thanks @\u200dOpenHands for the help!'
>>> sanitize_openhands_mentions("Check @openhands and @OPENHANDS")
'Check @\u200dopenhands and @\u200dOPENHANDS'
>>> sanitize_openhands_mentions("No mention here")
'No mention here'
```


            <ParamField path="text" type="str" required>
                None
            </ParamField>
            
**maybe_truncate() -> str**

[source](https://github.com/OpenHands/software-agent-sdk/blob/30e22095607254194ab1f4d8859f658abe5628a1/openhands-sdk/openhands/sdk/utils/truncate.py#L50-L117)

Truncate the middle of content if it exceeds the specified length.

Keeps the head and tail of the content to preserve context at both ends.
Optionally saves the full content to a file for later investigation.

**Parameters:**

- `content` *str* – The text content to potentially truncate
- `truncate_after` *int | None* – Maximum length before truncation. If None, no truncation occurs
- `truncate_notice` *str* – Notice to insert in the middle when content is truncated
- `save_dir` *str | None* – Working directory to save full content file in
- `tool_prefix` *str* – Prefix for the saved file (e.g., "bash", "browser", "editor")

**Returns:**

- *str* Original content if under limit, or truncated content with head and tail
- *str* preserved and reference to saved file if applicable


            <ParamField path="content" type="str" required>
                None
            </ParamField>
            

            <ParamField path="truncate_after" type="int | None" >
                None
            </ParamField>
            

            <ParamField path="truncate_notice" type="str" >
                None
            </ParamField>
            

            <ParamField path="save_dir" type="str | None" >
                None
            </ParamField>
            

            <ParamField path="tool_prefix" type="str" >
                None
            </ParamField>
            