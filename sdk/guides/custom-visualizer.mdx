---
title: Custom Visualizer
description: Create custom visualizers for conversation monitoring
---

<Note>
This example is available on GitHub: [examples/01_standalone_sdk/26_custom_visualizer.py](https://github.com/All-Hands-AI/agent-sdk/blob/main/examples/01_standalone_sdk/26_custom_visualizer.py)
</Note>

Learn how to create custom visualizers by subclassing `ConversationVisualizerBase` to monitor and display conversation events in your preferred format.

```python icon="python" expandable examples/01_standalone_sdk/26_custom_visualizer.py
"""Custom Visualizer Example

This example demonstrates how to create and use a custom visualizer by subclassing
ConversationVisualizer. This approach provides:
- Clean, testable code with class-based state management
- Direct configuration (just pass the visualizer instance to visualizer parameter)
- Reusable visualizer that can be shared across conversations

This demonstrates how you can pass a ConversationVisualizer instance directly
to the visualizer parameter for clean, reusable visualization logic.
"""

import logging
import os

from pydantic import SecretStr

from openhands.sdk import LLM, Conversation
from openhands.sdk.conversation.visualizer import ConversationVisualizerBase
from openhands.sdk.event import (
    Event,
)
from openhands.tools.preset.default import get_default_agent


class MinimalVisualizer(ConversationVisualizerBase):
    """A minimal visualizer that print the raw events as they occur."""

    def on_event(self, event: Event) -> None:
        """Handle events for minimal progress visualization."""
        print(f"\n\n[EVENT] {type(event).__name__}: {event.model_dump_json()[:200]}...")


api_key = os.getenv("LLM_API_KEY")
assert api_key is not None, "LLM_API_KEY environment variable is not set."
model = os.getenv("LLM_MODEL", "anthropic/claude-sonnet-4-5-20250929")
base_url = os.getenv("LLM_BASE_URL")
llm = LLM(
    model=model,
    api_key=SecretStr(api_key),
    base_url=base_url,
    usage_id="agent",
)
agent = get_default_agent(llm=llm, cli_mode=True)

# ============================================================================
# Configure Visualization
# ============================================================================
# Set logging level to reduce verbosity
logging.getLogger().setLevel(logging.WARNING)

# Start a conversation with custom visualizer
cwd = os.getcwd()
conversation = Conversation(
    agent=agent,
    workspace=cwd,
    visualizer=MinimalVisualizer(),
)

# Send a message and let the agent run
print("Sending task to agent...")
conversation.send_message("Write 3 facts about the current project into FACTS.txt.")
conversation.run()
print("Task completed!")

# Report cost
cost = llm.metrics.accumulated_cost
print(f"EXAMPLE_COST: {cost:.4f}")
```

```bash Running the Example
export LLM_API_KEY="your-api-key"
# Optional overrides
# export LLM_MODEL="anthropic/claude-sonnet-4-5-20250929"
# export LLM_BASE_URL="https://your-llm-base-url"

cd agent-sdk
uv run python examples/01_standalone_sdk/26_custom_visualizer.py
```

### How It Works

- Create a custom visualizer by subclassing `ConversationVisualizerBase`:

```python
from openhands.sdk.conversation.visualizer import ConversationVisualizerBase
from openhands.sdk.event import Event

class MinimalVisualizer(ConversationVisualizerBase):
    """A minimal visualizer that prints raw events."""
    
    def on_event(self, event: Event) -> None:
        """Handle events for visualization."""
        print(f"Event: {event}")
```

- Pass the visualizer instance to the conversation:

```python
visualizer = MinimalVisualizer()
conversation = Conversation(
    agent=agent,
    workspace=".",
    visualizer=visualizer,
)
```

- The visualizer's `on_event` method will be called for each event in the conversation.

## Next Steps

- **[Event System](/sdk/guides/events)** – Learn about conversation events
- **[Callbacks](/sdk/guides/callbacks)** – Use event callbacks for monitoring
