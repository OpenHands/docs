---
title: Workspace
description: API reference for openhands.sdk.workspace
---

# Workspace

**Source:** [`openhands/sdk/workspace/`](https://github.com/OpenHands/software-agent-sdk/tree/main/openhands-sdk/openhands/sdk/workspace/)

---

## Classes

### `BaseWorkspace`

Abstract base mixin for workspace.

All workspace implementations support the context manager protocol,
allowing safe resource management:

with workspace:
workspace.execute_command("echo 'hello'")

#### Methods

##### `execute_command(self, command: str, cwd: str | Path | None, timeout: float) -> CommandResult`

Execute a bash command on the system.


**Parameters:**

command: The bash command to execute
cwd: Working directory for the command (optional)
timeout: Timeout in seconds (defaults to 30.0)


**Returns:**

CommandResult: Result containing stdout, stderr, exit_code, and other
metadata


**Raises:**

Exception: If command execution fails

##### `file_upload(self, source_path: str | Path, destination_path: str | Path) -> FileOperationResult`

Upload a file to the system.


**Parameters:**

source_path: Path to the source file
destination_path: Path where the file should be uploaded


**Returns:**

FileOperationResult: Result containing success status and metadata


**Raises:**

Exception: If file upload fails

##### `file_download(self, source_path: str | Path, destination_path: str | Path) -> FileOperationResult`

Download a file from the system.


**Parameters:**

source_path: Path to the source file on the system
destination_path: Path where the file should be downloaded


**Returns:**

FileOperationResult: Result containing success status and metadata


**Raises:**

Exception: If file download fails

##### `git_changes(self, path: str | Path) -> list[GitChange]`

Get the git changes for the repository at the path given.


**Parameters:**

path: Path to the git repository


**Returns:**

list[GitChange]: List of changes


**Raises:**

Exception: If path is not a git repository or getting changes failed

##### `git_diff(self, path: str | Path) -> GitDiff`

Get the git diff for the file at the path given.


**Parameters:**

path: Path to the file


**Returns:**

GitDiff: Git diff


**Raises:**

Exception: If path is not a git repository or getting diff failed

---

### `LocalWorkspace`

Mixin providing local workspace operations.

#### Methods

##### `execute_command(self, command: str, cwd: str | Path | None, timeout: float) -> CommandResult`

Execute a bash command locally.

Uses the shared shell execution utility to run commands with proper
timeout handling, output streaming, and error management.


**Parameters:**

command: The bash command to execute
cwd: Working directory (optional)
timeout: Timeout in seconds


**Returns:**

CommandResult: Result with stdout, stderr, exit_code, command, and
timeout_occurred

##### `file_upload(self, source_path: str | Path, destination_path: str | Path) -> FileOperationResult`

Upload (copy) a file locally.

For local systems, file upload is implemented as a file copy operation
using shutil.copy2 to preserve metadata.


**Parameters:**

source_path: Path to the source file
destination_path: Path where the file should be copied


**Returns:**

FileOperationResult: Result with success status and file information

##### `file_download(self, source_path: str | Path, destination_path: str | Path) -> FileOperationResult`

Download (copy) a file locally.

For local systems, file download is implemented as a file copy operation
using shutil.copy2 to preserve metadata.


**Parameters:**

source_path: Path to the source file
destination_path: Path where the file should be copied


**Returns:**

FileOperationResult: Result with success status and file information

##### `git_changes(self, path: str | Path) -> list[GitChange]`

Get the git changes for the repository at the path given.


**Parameters:**

path: Path to the git repository


**Returns:**

list[GitChange]: List of changes


**Raises:**

Exception: If path is not a git repository or getting changes failed

##### `git_diff(self, path: str | Path) -> GitDiff`

Get the git diff for the file at the path given.


**Parameters:**

path: Path to the file


**Returns:**

GitDiff: Git diff


**Raises:**

Exception: If path is not a git repository or getting diff failed

---

### `CommandResult`

Result of executing a command in the workspace.

---

### `FileOperationResult`

Result of a file upload or download operation.

---

### `Workspace`

Factory entrypoint that returns a LocalWorkspace or RemoteWorkspace.

Usage:
- Workspace(working_dir=...) -> LocalWorkspace
- Workspace(working_dir=..., host="http://...") -> RemoteWorkspace

---

