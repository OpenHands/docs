---
title: Headless Mode
description: Run OpenHands without UI for scripting, automation, and CI/CD pipelines
---

## Overview

Headless mode runs OpenHands without the interactive terminal UI, making it ideal for:
- CI/CD pipelines
- Automated scripting
- Integration with other tools
- Batch processing

```bash
openhands --headless -t "Your task here"
```

## Requirements

- Must specify a task with `--task` or `--file`
- Actions are auto-approved by default in headless mode

## Basic Usage

```bash
# Run a task in headless mode
openhands --headless -t "Write a Python script that prints hello world"

# Load task from a file
openhands --headless -f task.txt
```

## JSON Output Mode

The `--json` flag enables structured JSONL (JSON Lines) output, streaming events as they occur:

```bash
openhands --headless --json -t "Create a simple Flask app"
```

Each line is a JSON object representing an agent event:

```json
{"type": "action", "action": "write", "path": "app.py", ...}
{"type": "observation", "content": "File created successfully", ...}
{"type": "action", "action": "run", "command": "python app.py", ...}
```

### Use Cases for JSON Output

- **CI/CD pipelines**: Parse events to determine success/failure
- **Automated processing**: Feed output to other tools
- **Logging**: Capture structured logs for analysis
- **Integration**: Connect OpenHands with other systems

### Example: Capture Output to File

```bash
openhands --headless --json -t "Add unit tests" > output.jsonl
```

## Confirmation Modes in Headless

By default, headless mode auto-approves all actions. You can use LLM-based approval for additional safety:

```bash
# Auto-approve all actions (default in headless)
openhands --headless -t "Refactor the codebase"

# Use LLM-based security analyzer
openhands --headless --llm-approve -t "Update dependencies"
```

<Warning>
Using `--always-approve` or headless mode without `--llm-approve` means the agent can execute any action without human review. Use with caution, especially on production systems.
</Warning>

## CI/CD Integration

### GitHub Actions Example

```yaml
name: OpenHands Task
on: [workflow_dispatch]

jobs:
  run-task:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      
      - name: Install OpenHands
        run: |
          curl -LsSf https://astral.sh/uv/install.sh | sh
          uv tool install openhands --python 3.12
      
      - name: Run OpenHands Task
        env:
          LLM_API_KEY: ${{ secrets.LLM_API_KEY }}
        run: |
          openhands --headless --json -t "Add documentation to all functions" > output.jsonl
```

### Exit Codes

| Code | Meaning |
|------|---------|
| `0` | Task completed successfully |
| `1` | Task failed or error occurred |

## Advanced: Python/Docker Headless

For more control over the agent, you can run OpenHands directly with Python or Docker instead of the CLI. This is useful for:
- Custom agent configurations
- Integration with existing Python applications
- Advanced runtime options

See [Headless (Python/Docker)](/openhands/usage/run-openhands/headless-mode) for details.

## See Also

- [Terminal Mode](/openhands/usage/cli/terminal) - Interactive CLI usage
- [Confirmation Modes](/openhands/usage/cli/confirmation-modes) - Control action approval
- [Command Reference](/openhands/usage/cli/command-reference) - All CLI options
