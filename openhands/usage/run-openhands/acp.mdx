---
title: Agent Client Protocol (ACP)
description: Use OpenHands CLI with code editors through the Agent Client Protocol
---

## Prerequisites

Before using OpenHands CLI with ACP, you must first install and configure the CLI:

1. **Install OpenHands CLI** by following the [CLI Mode installation instructions](/openhands/usage/run-openhands/cli-mode)
2. **Configure your LLM settings** using the `/settings` command or by setting up `~/.openhands/settings.json`

The ACP integration will reuse the credentials and configuration from your CLI settings.

## What is the Agent Client Protocol (ACP)?

The [Agent Client Protocol (ACP)](https://agentclientprotocol.com/protocol/overview) is a standardized communication protocol that enables code editors and IDEs to interact with AI agents. ACP defines how clients (like code editors) and agents (like OpenHands) communicate through a JSON-RPC 2.0 interface.

Key features of ACP include:

- **Session Management**: Create and manage conversation sessions with agents
- **Prompt Turns**: Send user prompts and receive agent responses
- **Tool Calls**: Allow agents to execute tools with user permission
- **File Operations**: Enable agents to read and write files in your workspace
- **Terminal Access**: Let agents interact with the terminal
- **Real-time Updates**: Receive progress updates as the agent works

For more details about the protocol, see the [ACP documentation](https://agentclientprotocol.com/protocol/overview).

## OpenHands CLI ACP Support

OpenHands CLI implements the Agent Client Protocol, allowing you to use OpenHands directly within your code editor. When you configure your editor to use `openhands acp`, it will communicate with OpenHands through the standardized ACP interface.

### Implementation Status

OpenHands CLI currently supports the following ACP features:

**‚úÖ Implemented:**
- Initialization - version negotiation and capability exchange
- Session Setup - creating new sessions and loading existing ones
- Content - including embedded content and resources
- Basic Prompt Turns - sending prompts and receiving responses (permissions coming soon)
- Basic Tool Calls - executing tools and returning results
- Agent Plan - sharing agent's planned actions

**üöß Coming Soon:**
- Confirmation - user authorization for tool calls
- Slash Commands - for changing confirmation mode

**‚ùå Not Planned:**
- Client Terminal - using the editor's terminal
- Client File System - direct file system access through the editor
- Session Modes - switching between different agent operating modes

For more details about the implementation, see the [ACP implementation PR](https://github.com/OpenHands/OpenHands-CLI/pull/69).

## Editor Integration

### Zed

[Zed](https://zed.dev/) is a high-performance code editor with built-in support for the Agent Client Protocol.

To configure OpenHands CLI with Zed:

1. Ensure OpenHands CLI is installed and configured (see [Prerequisites](#prerequisites))

2. Open your Zed settings file at `~/.config/zed/settings.json`

3. Add the following to the `"agent_servers"` field:

```json
{
  "agent_servers": {
    "OpenHands": {
      "command": "openhands",
      "args": [
        "acp"
      ],
      "env": {}
    }
  }
}
```

<Note>
If the `"agent_servers"` field doesn't exist in your settings file, you'll need to create it as a top-level field in the JSON object.
</Note>

4. Save the file and restart Zed

5. You can now use OpenHands within Zed through the ACP interface

### Usage in Zed

Once configured, you can:

- Open the agent panel in Zed (typically with keyboard shortcuts or from the command palette)
- Start a conversation with OpenHands
- Ask OpenHands to make changes to your code
- Review and approve tool calls before they execute
- See real-time updates as OpenHands works on your project

The agent will have access to your workspace and can read, modify, and create files based on your instructions.

## Troubleshooting

### "Command not found" error

If Zed reports that the `openhands` command is not found:

- Ensure OpenHands CLI is installed and available in your PATH
- Try running `openhands acp` directly in your terminal to verify it works
- If you installed with `uv tool install`, make sure `~/.local/bin` is in your PATH

### "Authentication failed" or "No LLM configured"

If you see errors about missing configuration:

- Run `openhands` in your terminal and configure your LLM settings using `/settings`
- Verify that `~/.openhands/settings.json` exists and contains your LLM configuration
- Make sure your API key is valid and has sufficient credits

### Agent not responding

If the agent doesn't respond to your prompts:

- Check that the agent server is running in Zed's agent panel
- Look for error messages in Zed's logs
- Try restarting Zed or the agent server
- Verify your LLM configuration is correct by running `openhands` directly in the terminal

## See Also

- [CLI Mode](/openhands/usage/run-openhands/cli-mode) - Learn about using OpenHands CLI interactively
- [ACP Documentation](https://agentclientprotocol.com/protocol/overview) - Full Agent Client Protocol specification
- [Zed Documentation](https://zed.dev/docs) - Learn more about using Zed editor
