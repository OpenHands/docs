---
title: GitLab Integration
description: This guide walks you through the process of installing OpenHands Cloud for your GitLab repositories. Once
  set up, it will allow OpenHands to work with your GitLab repository through the Cloud UI or straight from GitLab!.
---

## Prerequisites

- Signed in to [OpenHands Cloud](https://app.all-hands.dev) with [a GitLab account](/openhands/usage/cloud/openhands-cloud).

## Adding GitLab Repository Access

Upon signing into OpenHands Cloud with a GitLab account, OpenHands will have access to your repositories.

## Working With GitLab Repos in Openhands Cloud

After signing in with a Gitlab account, use the `Open Repository` section to select the appropriate repository and
branch you'd like OpenHands to work on. Then click on `Launch` to start the conversation!

![Connect Repo](/openhands/static/img/connect-repo.png)

## Using Tokens with Reduced Scopes

OpenHands requests an API-scoped token during OAuth authentication. By default, this token is provided to the agent.
To restrict the agent's permissions, [you can define a custom secret](/openhands/usage/settings/secrets-settings) `GITLAB_TOKEN`,
which will override the default token assigned to the agent. While the high-permission API token is still requested
and used for other components of the application (e.g. opening merge requests), the agent will not have access to it.

## Working on GitLab Issues and Merge Requests Using Openhands

<Note>
This feature works for personal projects and is available for group projects with a
[Premium or Ultimate tier subscription](https://docs.gitlab.com/user/project/integrations/webhooks/#group-webhooks).

**Important**: Webhooks are not automatically installed. You need to manually configure them following the steps below.
</Note>

### Setting Up GitLab Webhooks

To enable OpenHands to respond to GitLab issues and merge requests, you need to manually configure webhooks. When you first authenticate with GitLab, OpenHands prepares webhook configurations in its database, but the actual webhook installation requires manual setup.

#### Prerequisites for Webhook Setup

1. **Admin Access**: You must have Maintainer or Owner permissions on the GitLab project or group
2. **Authentication**: You must be signed into OpenHands Cloud with your GitLab account
3. **Repository Access**: The repository must be accessible through your OpenHands Cloud account

#### Manual Webhook Installation Steps

**Step 1: Run the Webhook Installer**

OpenHands provides a webhook installation script that needs to be run manually or via a scheduled task. If you're running OpenHands Enterprise, execute:

```bash
cd /path/to/openhands/enterprise
python sync/install_gitlab_webhooks.py
```

This script will:
- Check all repositories and groups you have admin access to
- Verify that webhooks don't already exist
- Install webhooks with the correct configuration
- Update the database with webhook details

**Step 2: Verify Webhook Installation**

After running the installer, verify that webhooks were created:

1. Go to your GitLab project or group
2. Navigate to **Settings** → **Webhooks**
3. Look for a webhook named "OpenHands Resolver" with URL: `https://app.all-hands.dev/integration/gitlab/events`

**Step 3: Configure Webhook Events**

The webhook should be configured to listen for these events:
- Issues events
- Confidential issues events  
- Merge requests events
- Note events (comments)
- Confidential note events
- Job events
- Pipeline events

#### Alternative: Manual Webhook Configuration

If the automated script doesn't work, you can manually create webhooks:

1. **Go to your GitLab project or group settings**
   - For projects: Navigate to **Settings** → **Webhooks**
   - For groups: Navigate to **Settings** → **Webhooks** (requires Premium/Ultimate)

2. **Create a new webhook with these settings:**
   - **URL**: `https://app.all-hands.dev/integration/gitlab/events`
   - **Secret token**: Contact OpenHands support for your webhook secret
   - **Trigger events**: Select all the events listed above
   - **Enable SSL verification**: Yes

3. **Add custom headers** (if supported):
   - `X-OpenHands-User-ID`: Your OpenHands user ID
   - `X-OpenHands-Webhook-ID`: A unique identifier for this webhook

#### Troubleshooting Webhook Setup

**Webhooks not being created:**
- Ensure you have Maintainer or Owner permissions
- Check that you're authenticated with the correct GitLab account
- Verify the OpenHands service has access to your repositories

**Webhook events not being processed:**
- Check that the webhook URL is correct: `https://app.all-hands.dev/integration/gitlab/events`
- Verify the webhook secret matches what's stored in OpenHands database
- Ensure all required events are enabled

**For Enterprise installations:**
- The webhook URL should match your OpenHands instance: `https://your-domain.com/integration/gitlab/events`
- Run the webhook installer script regularly or set up a cron job
- Check the database table `gitlab_webhook` for webhook status

#### Webhook Configuration Details

The webhook installer configures webhooks with these technical specifications:

- **Webhook Name**: "OpenHands Resolver"
- **Description**: "Cloud OpenHands Resolver"
- **SSL Verification**: Enabled
- **Content Type**: application/json
- **Events**: note_events, merge_requests_events, confidential_issues_events, issues_events, confidential_note_events, job_events, pipeline_events

#### Setting Up Automated Webhook Installation

For ongoing webhook management, you can set up a cron job to run the webhook installer periodically:

```bash
# Add to crontab to run every hour
0 * * * * cd /path/to/openhands/enterprise && python sync/install_gitlab_webhooks.py
```

This ensures that new repositories and groups are automatically configured with webhooks as they're added to your account.

Giving GitLab repository access to OpenHands also allows you to work on GitLab issues and merge requests directly.

### Working with Issues

On your repository, label an issue with `openhands` or add a message starting with `@openhands`. OpenHands will:
1. Comment on the issue to let you know it is working on it.
   - You can click on the link to track the progress on OpenHands Cloud.
2. Open a merge request if it determines that the issue has been successfully resolved.
3. Comment on the issue with a summary of the performed tasks and a link to the PR.

### Working with Merge Requests

To get OpenHands to work on merge requests, mention `@openhands` in the comments to:
- Ask questions
- Request updates
- Get code explanations

## Next Steps

- [Learn about the Cloud UI](/usage/cloud/cloud-ui).
- [Use the Cloud API](/usage/cloud/cloud-api) to programmatically interact with OpenHands.
